import{o as l,c as x,a as L,g as M,r as m,u as A,l as N,t as B,n as q,x as k,w as C,b as V,y as g,F as E,S as K,h as $,e as P,v as S,I as T,N as F,$ as I,V as O,_ as R,B as w,E as U}from"./index-20bfe6b3.js";import{a as j,b as D}from"./InfoBox.vue_vue_type_script_setup_true_lang-8afe27e2.js";const H={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Z=L("path",{fill:"currentColor",d:"M12 17a2 2 0 0 0 2-2a2 2 0 0 0-2-2a2 2 0 0 0-2 2a2 2 0 0 0 2 2m6-9a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V10a2 2 0 0 1 2-2h1V6a5 5 0 0 1 5-5a5 5 0 0 1 5 5v2h1m-6-5a3 3 0 0 0-3 3v2h6V6a3 3 0 0 0-3-3Z"},null,-1),z=[Z];function G(_,d){return l(),x("svg",H,[...z])}const J={name:"mdi-lock",render:G},Q=["title"],W=M({__name:"PairSummary",props:{pairlist:{required:!0,type:Array},currentLocks:{required:!1,type:Array,default:()=>[]},trades:{required:!0,type:Array},sortMethod:{default:"normal",type:String},backtestMode:{required:!1,default:!1,type:Boolean}},setup(_){const d=m(""),a=_,p=A(),v=N(()=>{const i=[];return a.pairlist.forEach(e=>{const o=a.trades.filter(u=>u.pair===e),s=a.currentLocks.filter(u=>u.pair===e);let r="",c;s.sort((u,b)=>u.lock_end_timestamp>b.lock_end_timestamp?-1:1),s.length>0&&([c]=s,r=`${B(c.lock_end_timestamp)} - ${c.reason}`);let n="",f=0,y=0;o.forEach(u=>{f+=u.profit_ratio,y+=u.profit_abs??0});const t=o.length,h=t?o[0]:void 0;o.length>0&&(n=`Current profit: ${q(f)}`),h&&(n+=`
Open since: ${B(h.open_timestamp)}`),(d.value===""||e.toLocaleLowerCase().includes(d.value.toLocaleLowerCase()))&&i.push({pair:e,trade:h,locks:c,lockReason:r,profitString:n,profit:f,profitAbs:y,tradeCount:t})}),a.sortMethod==="profit"?i.sort((e,o)=>e.profit>o.profit?-1:1):i.sort((e,o)=>e.trade&&!o.trade?-1:e.trade&&o.trade?e.trade.trade_id>o.trade.trade_id?1:-1:!e.locks&&o.locks?-1:e.locks&&o.locks?e.locks.lock_end_timestamp>o.locks.lock_end_timestamp?1:-1:1),i});return(i,e)=>{const o=T,s=F,r=J,c=j,n=D,f=I,y=O;return l(),x("div",null,[_.backtestMode?(l(),k(s,{key:0,"label-for":"trade-filter",class:"mb-2 me-5"},{default:C(()=>[V(o,{id:"trade-filter",modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=t=>d.value=t),type:"text",placeholder:"Filter"},null,8,["modelValue"])]),_:1})):g("",!0),V(y,null,{default:C(()=>[(l(!0),x(E,null,K(v.value,t=>(l(),k(f,{key:t.pair,button:"",class:"d-flex justify-content-between align-items-center py-1",active:t.pair===$(p).activeBot.selectedPair,title:`${t.pair} - ${t.tradeCount} trades`,onClick:h=>$(p).activeBot.selectedPair=t.pair},{default:C(()=>[L("div",null,[P(S(t.pair)+" ",1),t.locks?(l(),x("span",{key:0,title:t.lockReason},[V(r)],8,Q)):g("",!0)]),t.trade&&!_.backtestMode?(l(),k(c,{key:0,trade:t.trade},null,8,["trade"])):g("",!0),_.backtestMode&&t.tradeCount>0?(l(),k(n,{key:1,"profit-ratio":t.profit,"stake-currency":$(p).activeBot.stakeCurrency},null,8,["profit-ratio","stake-currency"])):g("",!0)]),_:2},1032,["active","title","onClick"]))),128))]),_:1})])}}});const ee=R(W,[["__scopeId","data-v-11febeca"]]),te=M({__name:"MessageBox",setup(_,{expose:d}){const a=m(!1),p=m(""),v=m(""),i=m(()=>{console.warn("Accepted not set.")}),e=()=>{i.value(),a.value=!1};return d({show:s=>{p.value=s.title,v.value=s.message,a.value=!0,i.value=s.accept}}),(s,r)=>{const c=U;return l(),k(c,{ref:"removeTradeModal",modelValue:a.value,"onUpdate:modelValue":r[0]||(r[0]=n=>a.value=n),title:p.value,onOk:e,onCancel:r[1]||(r[1]=n=>a.value=!1),onKeyup:[r[2]||(r[2]=w(n=>a.value=!1,["esc"])),w(e,["enter"])]},{default:C(()=>[P(S(v.value),1)]),_:1},8,["modelValue","title","onKeyup"])}}});export{te as _,ee as a};
//# sourceMappingURL=MessageBox.vue_vue_type_script_setup_true_lang-44794f57.js.map
