import{_ as Ce,o as R,c as X,a as N,t as ne,g as oe,m as oa,d as sa,E as _a,i as me,s as He,r as F,j as ye,u as Ma,h as xa,q as Aa,b as Pe,w as De,f as Ta}from"./index.b62e8792.js";import{P as wa,a as P,D as je,r as Re,b as la,d as Pa,S as Ze,i as Da,c as ka,e as We,l as ke,q as Ba,f as Ia,n as fe,T as Na,B as Ke,g as Je,k as Oa,h as Be,p as V,j as $a,m as Ie,s as Ra,o as ca,t as Ea,u as re,v as Va,w as Ga,x as ie,y as Qe,z as be,A as za,C as Ve,E as Ya,F as Xa,G as Ee,H as va,I as Ua,J as qa,_ as Ge,Z as Fa,K as W,L as Ha,M as ja,N as Za,O as Wa,Q as Ka,R as Ja,U as ua,V as Qa,W as et,X as ea,Y as fa,$ as at,a0 as tt,a1 as rt,a2 as nt,a3 as it,a4 as ot,a5 as st,a6 as lt,a7 as ct,a8 as vt,a9 as ut,aa as ft}from"./install.99a414d3.js";import{c as gt}from"./createSeriesDataSimply.94dadb56.js";const ht={name:"EyeOffIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},dt=["aria-hidden","aria-label"],pt=["fill","width","height"],mt={d:"M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z"},yt={key:0};function bt(a,n,t,e,r,s){return R(),X("span",oa(a.$attrs,{"aria-hidden":!t.title,"aria-label":t.title,class:"material-design-icon eye-off-icon",role:"img",onClick:n[0]||(n[0]=i=>a.$emit("click",i))}),[(R(),X("svg",{fill:t.fillColor,class:"material-design-icon__svg",width:t.size,height:t.size,viewBox:"0 0 24 24"},[N("path",mt,[t.title?(R(),X("title",yt,ne(t.title),1)):oe("",!0)])],8,pt))],16,dt)}var Lt=Ce(ht,[["render",bt]]);const St={name:"EyeIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},Ct=["aria-hidden","aria-label"],_t=["fill","width","height"],Mt={d:"M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"},xt={key:0};function At(a,n,t,e,r,s){return R(),X("span",oa(a.$attrs,{"aria-hidden":!t.title,"aria-label":t.title,class:"material-design-icon eye-icon",role:"img",onClick:n[0]||(n[0]=i=>a.$emit("click",i))}),[(R(),X("svg",{fill:t.fillColor,class:"material-design-icon__svg",width:t.size,height:t.size,viewBox:"0 0 24 24"},[N("path",Mt,[t.title?(R(),X("title",xt,ne(t.title),1)):oe("",!0)])],8,_t))],16,Ct)}var Tt=Ce(St,[["render",At]]),te=Math.PI*2,q=wa.CMD,wt=["top","right","bottom","left"];function Pt(a,n,t,e,r){var s=t.width,i=t.height;switch(a){case"top":e.set(t.x+s/2,t.y-n),r.set(0,-1);break;case"bottom":e.set(t.x+s/2,t.y+i+n),r.set(0,1);break;case"left":e.set(t.x-n,t.y+i/2),r.set(-1,0);break;case"right":e.set(t.x+s+n,t.y+i/2),r.set(1,0);break}}function Dt(a,n,t,e,r,s,i,l,v){i-=a,l-=n;var u=Math.sqrt(i*i+l*l);i/=u,l/=u;var o=i*t+a,h=l*t+n;if(Math.abs(e-r)%te<1e-4)return v[0]=o,v[1]=h,u-t;if(s){var g=e;e=fe(r),r=fe(g)}else e=fe(e),r=fe(r);e>r&&(r+=te);var c=Math.atan2(l,i);if(c<0&&(c+=te),c>=e&&c<=r||c+te>=e&&c+te<=r)return v[0]=o,v[1]=h,u-t;var f=t*Math.cos(e)+a,d=t*Math.sin(e)+n,p=t*Math.cos(r)+a,m=t*Math.sin(r)+n,y=(f-i)*(f-i)+(d-l)*(d-l),b=(p-i)*(p-i)+(m-l)*(m-l);return y<b?(v[0]=f,v[1]=d,Math.sqrt(y)):(v[0]=p,v[1]=m,Math.sqrt(b))}function Le(a,n,t,e,r,s,i,l){var v=r-a,u=s-n,o=t-a,h=e-n,g=Math.sqrt(o*o+h*h);o/=g,h/=g;var c=v*o+u*h,f=c/g;l&&(f=Math.min(Math.max(f,0),1)),f*=g;var d=i[0]=a+f*o,p=i[1]=n+f*h;return Math.sqrt((d-r)*(d-r)+(p-s)*(p-s))}function ga(a,n,t,e,r,s,i){t<0&&(a=a+t,t=-t),e<0&&(n=n+e,e=-e);var l=a+t,v=n+e,u=i[0]=Math.min(Math.max(r,a),l),o=i[1]=Math.min(Math.max(s,n),v);return Math.sqrt((u-r)*(u-r)+(o-s)*(o-s))}var E=[];function kt(a,n,t){var e=ga(n.x,n.y,n.width,n.height,a.x,a.y,E);return t.set(E[0],E[1]),e}function Bt(a,n,t){for(var e=0,r=0,s=0,i=0,l,v,u=1/0,o=n.data,h=a.x,g=a.y,c=0;c<o.length;){var f=o[c++];c===1&&(e=o[c],r=o[c+1],s=e,i=r);var d=u;switch(f){case q.M:s=o[c++],i=o[c++],e=s,r=i;break;case q.L:d=Le(e,r,o[c],o[c+1],h,g,E,!0),e=o[c++],r=o[c++];break;case q.C:d=Ia(e,r,o[c++],o[c++],o[c++],o[c++],o[c],o[c+1],h,g,E),e=o[c++],r=o[c++];break;case q.Q:d=Ba(e,r,o[c++],o[c++],o[c],o[c+1],h,g,E),e=o[c++],r=o[c++];break;case q.A:var p=o[c++],m=o[c++],y=o[c++],b=o[c++],_=o[c++],C=o[c++];c+=1;var T=!!(1-o[c++]);l=Math.cos(_)*y+p,v=Math.sin(_)*b+m,c<=1&&(s=l,i=v);var x=(h-p)*b/y+p;d=Dt(p,m,b,_,_+C,T,x,g,E),e=Math.cos(_+C)*y+p,r=Math.sin(_+C)*b+m;break;case q.R:s=e=o[c++],i=r=o[c++];var L=o[c++],M=o[c++];d=ga(s,i,L,M,h,g,E);break;case q.Z:d=Le(e,r,s,i,h,g,E,!0),e=s,r=i;break}d<u&&(u=d,t.set(E[0],E[1]))}return u}var G=new P,S=new P,A=new P,Y=new P,z=new P;function aa(a,n){if(!!a){var t=a.getTextGuideLine(),e=a.getTextContent();if(!!(e&&t)){var r=a.textGuideLineConfig||{},s=[[0,0],[0,0],[0,0]],i=r.candidates||wt,l=e.getBoundingRect().clone();l.applyTransform(e.getComputedTransform());var v=1/0,u=r.anchor,o=a.getComputedTransform(),h=o&&Da([],o),g=n.get("length2")||0;u&&A.copy(u);for(var c=0;c<i.length;c++){var f=i[c];Pt(f,0,l,G,Y),P.scaleAndAdd(S,G,Y,g),S.transform(h);var d=a.getBoundingRect(),p=u?u.distance(S):a instanceof ka?Bt(S,a.path,A):kt(S,d,A);p<v&&(v=p,S.transform(o),A.transform(o),A.toArray(s[0]),S.toArray(s[1]),G.toArray(s[2]))}ha(s,n.get("minTurnAngle")),t.setShape({points:s})}}}var Se=[],k=new P;function ha(a,n){if(n<=180&&n>0){n=n/180*Math.PI,G.fromArray(a[0]),S.fromArray(a[1]),A.fromArray(a[2]),P.sub(Y,G,S),P.sub(z,A,S);var t=Y.len(),e=z.len();if(!(t<.001||e<.001)){Y.scale(1/t),z.scale(1/e);var r=Y.dot(z),s=Math.cos(n);if(s<r){var i=Le(S.x,S.y,A.x,A.y,G.x,G.y,Se,!1);k.fromArray(Se),k.scaleAndAdd(z,i/Math.tan(Math.PI-n));var l=A.x!==S.x?(k.x-S.x)/(A.x-S.x):(k.y-S.y)/(A.y-S.y);if(isNaN(l))return;l<0?P.copy(k,S):l>1&&P.copy(k,A),k.toArray(a[1])}}}}function It(a,n,t){if(t<=180&&t>0){t=t/180*Math.PI,G.fromArray(a[0]),S.fromArray(a[1]),A.fromArray(a[2]),P.sub(Y,S,G),P.sub(z,A,S);var e=Y.len(),r=z.len();if(!(e<.001||r<.001)){Y.scale(1/e),z.scale(1/r);var s=Y.dot(n),i=Math.cos(t);if(s<i){var l=Le(S.x,S.y,A.x,A.y,G.x,G.y,Se,!1);k.fromArray(Se);var v=Math.PI/2,u=Math.acos(z.dot(n)),o=v+u-t;if(o>=v)P.copy(k,A);else{k.scaleAndAdd(z,l/Math.tan(Math.PI/2-o));var h=A.x!==S.x?(k.x-S.x)/(A.x-S.x):(k.y-S.y)/(A.y-S.y);if(isNaN(h))return;h<0?P.copy(k,S):h>1&&P.copy(k,A)}k.toArray(a[1])}}}}function ta(a,n,t,e){var r=t==="normal",s=r?a:a.ensureState(t);s.ignore=n;var i=e.get("smooth");i&&i===!0&&(i=.3),s.shape=s.shape||{},i>0&&(s.shape.smooth=i);var l=e.getModel("lineStyle").getLineStyle();r?a.useStyle(l):s.style=l}function Nt(a,n){var t=n.smooth,e=n.points;if(!!e)if(a.moveTo(e[0][0],e[0][1]),t>0&&e.length>=3){var r=We(e[0],e[1]),s=We(e[1],e[2]);if(!r||!s){a.lineTo(e[1][0],e[1][1]),a.lineTo(e[2][0],e[2][1]);return}var i=Math.min(r,s)*t,l=ke([],e[1],e[0],i/r),v=ke([],e[1],e[2],i/s),u=ke([],l,v,.5);a.bezierCurveTo(l[0],l[1],l[0],l[1],u[0],u[1]),a.bezierCurveTo(v[0],v[1],v[0],v[1],e[2][0],e[2][1])}else for(var o=1;o<e.length;o++)a.lineTo(e[o][0],e[o][1])}function da(a,n,t){var e=a.getTextGuideLine(),r=a.getTextContent();if(!r){e&&a.removeTextGuideLine();return}for(var s=n.normal,i=s.get("show"),l=r.ignore,v=0;v<je.length;v++){var u=je[v],o=n[u],h=u==="normal";if(o){var g=o.get("show"),c=h?l:Re(r.states[u]&&r.states[u].ignore,l);if(c||!Re(g,i)){var f=h?e:e&&e.states[u];f&&(f.ignore=!0);continue}e||(e=new la,a.setTextGuideLine(e),!h&&(l||!i)&&ta(e,!0,"normal",n.normal),a.stateProxy&&(e.stateProxy=a.stateProxy)),ta(e,!1,u,o)}}if(e){Pa(e.style,t),e.style.fill=null;var d=s.get("showAbove"),p=a.textGuideLineConfig=a.textGuideLineConfig||{};p.showAbove=d||!1,e.buildPath=Nt}}function pa(a,n){n=n||"labelLine";for(var t={normal:a.getModel(n)},e=0;e<Ze.length;e++){var r=Ze[e];t[r]=a.getModel([r,n])}return t}function Ot(a){if(a){for(var n=[],t=0;t<a.length;t++)n.push(a[t].slice());return n}}function $t(a,n){var t=a.label,e=n&&n.getTextGuideLine();return{dataIndex:a.dataIndex,dataType:a.dataType,seriesIndex:a.seriesModel.seriesIndex,text:a.label.style.text,rect:a.hostRect,labelRect:a.rect,align:t.style.align,verticalAlign:t.style.verticalAlign,labelLinePoints:Ot(e&&e.shape.points)}}var ra=["align","verticalAlign","width","height","fontSize"],I=new Na,Ne=Ve(),Rt=Ve();function ge(a,n,t){for(var e=0;e<t.length;e++){var r=t[e];n[r]!=null&&(a[r]=n[r])}}var he=["x","y","rotation"],Et=function(){function a(){this._labelList=[],this._chartViewList=[]}return a.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},a.prototype._addLabel=function(n,t,e,r,s){var i=r.style,l=r.__hostTarget,v=l.textConfig||{},u=r.getComputedTransform(),o=r.getBoundingRect().plain();Ke.applyTransform(o,o,u),u?I.setLocalTransform(u):(I.x=I.y=I.rotation=I.originX=I.originY=0,I.scaleX=I.scaleY=1);var h=r.__hostTarget,g;if(h){g=h.getBoundingRect().plain();var c=h.getComputedTransform();Ke.applyTransform(g,g,c)}var f=g&&h.getTextGuideLine();this._labelList.push({label:r,labelLine:f,seriesModel:e,dataIndex:n,dataType:t,layoutOption:s,computedLayoutOption:null,rect:o,hostRect:g,priority:g?g.width*g.height:0,defaultAttr:{ignore:r.ignore,labelGuideIgnore:f&&f.ignore,x:I.x,y:I.y,scaleX:I.scaleX,scaleY:I.scaleY,rotation:I.rotation,style:{x:i.x,y:i.y,align:i.align,verticalAlign:i.verticalAlign,width:i.width,height:i.height,fontSize:i.fontSize},cursor:r.cursor,attachedPos:v.position,attachedRot:v.rotation}})},a.prototype.addLabelsOfSeries=function(n){var t=this;this._chartViewList.push(n);var e=n.__model,r=e.get("labelLayout");!(Je(r)||Oa(r).length)||n.group.traverse(function(s){if(s.ignore)return!0;var i=s.getTextContent(),l=Be(s);i&&!i.disableLabelLayout&&t._addLabel(l.dataIndex,l.dataType,e,i,r)})},a.prototype.updateLayoutConfig=function(n){var t=n.getWidth(),e=n.getHeight();function r(b,_){return function(){aa(b,_)}}for(var s=0;s<this._labelList.length;s++){var i=this._labelList[s],l=i.label,v=l.__hostTarget,u=i.defaultAttr,o=void 0;Je(i.layoutOption)?o=i.layoutOption($t(i,v)):o=i.layoutOption,o=o||{},i.computedLayoutOption=o;var h=Math.PI/180;v&&v.setTextConfig({local:!1,position:o.x!=null||o.y!=null?null:u.attachedPos,rotation:o.rotate!=null?o.rotate*h:u.attachedRot,offset:[o.dx||0,o.dy||0]});var g=!1;if(o.x!=null?(l.x=V(o.x,t),l.setStyle("x",0),g=!0):(l.x=u.x,l.setStyle("x",u.style.x)),o.y!=null?(l.y=V(o.y,e),l.setStyle("y",0),g=!0):(l.y=u.y,l.setStyle("y",u.style.y)),o.labelLinePoints){var c=v.getTextGuideLine();c&&(c.setShape({points:o.labelLinePoints}),g=!1)}var f=Ne(l);f.needsUpdateLabelLine=g,l.rotation=o.rotate!=null?o.rotate*h:u.rotation,l.scaleX=u.scaleX,l.scaleY=u.scaleY;for(var d=0;d<ra.length;d++){var p=ra[d];l.setStyle(p,o[p]!=null?o[p]:u.style[p])}if(o.draggable){if(l.draggable=!0,l.cursor="move",v){var m=i.seriesModel;if(i.dataIndex!=null){var y=i.seriesModel.getData(i.dataType);m=y.getItemModel(i.dataIndex)}l.on("drag",r(v,m.getModel("labelLine")))}}else l.off("drag"),l.cursor=u.cursor}},a.prototype.layout=function(n){var t=n.getWidth(),e=n.getHeight(),r=$a(this._labelList),s=Ie(r,function(v){return v.layoutOption.moveOverlap==="shiftX"}),i=Ie(r,function(v){return v.layoutOption.moveOverlap==="shiftY"});Ra(s,0,t),ca(i,0,e);var l=Ie(r,function(v){return v.layoutOption.hideOverlap});Ea(l)},a.prototype.processLabelsOverall=function(){var n=this;re(this._chartViewList,function(t){var e=t.__model,r=t.ignoreLabelLineUpdate,s=e.isAnimationEnabled();t.group.traverse(function(i){if(i.ignore&&!i.forceLabelAnimation)return!0;var l=!r,v=i.getTextContent();!l&&v&&(l=Ne(v).needsUpdateLabelLine),l&&n._updateLabelLine(i,e),s&&n._animateLabels(i,e)})})},a.prototype._updateLabelLine=function(n,t){var e=n.getTextContent(),r=Be(n),s=r.dataIndex;if(e&&s!=null){var i=t.getData(r.dataType),l=i.getItemModel(s),v={},u=i.getItemVisual(s,"style"),o=i.getVisual("drawType");v.stroke=u[o];var h=l.getModel("labelLine");da(n,pa(l),v),aa(n,h)}},a.prototype._animateLabels=function(n,t){var e=n.getTextContent(),r=n.getTextGuideLine();if(e&&(n.forceLabelAnimation||!e.ignore&&!e.invisible&&!n.disableLabelAnimation&&!Va(n))){var s=Ne(e),i=s.oldLayout,l=Be(n),v=l.dataIndex,u={x:e.x,y:e.y,rotation:e.rotation},o=t.getData(l.dataType);if(i){e.attr(i);var g=n.prevStates;g&&(Qe(g,"select")>=0&&e.attr(s.oldLayoutSelect),Qe(g,"emphasis")>=0&&e.attr(s.oldLayoutEmphasis)),be(e,u,t,v)}else if(e.attr(u),!Ga(e).valueAnimation){var h=Re(e.style.opacity,1);e.style.opacity=0,ie(e,{style:{opacity:h}},t,v)}if(s.oldLayout=u,e.states.select){var c=s.oldLayoutSelect={};ge(c,u,he),ge(c,e.states.select,he)}if(e.states.emphasis){var f=s.oldLayoutEmphasis={};ge(f,u,he),ge(f,e.states.emphasis,he)}za(e,v,o,t,t)}if(r&&!r.ignore&&!r.invisible){var s=Rt(r),i=s.oldLayout,d={points:r.shape.points};i?(r.attr({shape:i}),be(r,{shape:d},t)):(r.setShape(d),r.style.strokePercent=0,ie(r,{style:{strokePercent:1}},t)),s.oldLayout=d}},a}(),Vt=Et,Oe=Ve();function Gt(a){a.registerUpdateLifecycle("series:beforeupdate",function(n,t,e){var r=Oe(t).labelManager;r||(r=Oe(t).labelManager=new Vt),r.clearLabels()}),a.registerUpdateLifecycle("series:layoutlabels",function(n,t,e){var r=Oe(t).labelManager;e.updatedSeries.forEach(function(s){r.addLabelsOfSeries(t.getViewOfSeriesModel(s))}),r.updateLayoutConfig(t),r.layout(t),r.processLabelsOverall()})}var de=Math.PI*2,na=Math.PI/180;function ma(a,n){return Xa(a.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function ya(a,n){var t=ma(a,n),e=a.get("center"),r=a.get("radius");Ee(r)||(r=[0,r]),Ee(e)||(e=[e,e]);var s=V(t.width,n.getWidth()),i=V(t.height,n.getHeight()),l=Math.min(s,i),v=V(r[0],l/2),u=V(r[1],l/2),o,h,g=a.coordinateSystem;if(g){var c=g.dataToPoint(e);o=c[0]||0,h=c[1]||0}else o=V(e[0],s)+t.x,h=V(e[1],i)+t.y;return{cx:o,cy:h,r0:v,r:u}}function zt(a,n,t){n.eachSeriesByType(a,function(e){var r=e.getData(),s=r.mapDimension("value"),i=ma(e,t),l=ya(e,t),v=l.cx,u=l.cy,o=l.r,h=l.r0,g=-e.get("startAngle")*na,c=e.get("minAngle")*na,f=0;r.each(s,function(D){!isNaN(D)&&f++});var d=r.getSum(s),p=Math.PI/(d||f)*2,m=e.get("clockwise"),y=e.get("roseType"),b=e.get("stillShowZeroSum"),_=r.getDataExtent(s);_[0]=0;var C=de,T=0,x=g,L=m?1:-1;if(r.setLayout({viewRect:i,r:o}),r.each(s,function(D,O){var w;if(isNaN(D)){r.setItemLayout(O,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:m,cx:v,cy:u,r0:h,r:y?NaN:o});return}y!=="area"?w=d===0&&b?p:D*p:w=de/f,w<c?(w=c,C-=c):T+=D;var B=x+L*w;r.setItemLayout(O,{angle:w,startAngle:x,endAngle:B,clockwise:m,cx:v,cy:u,r0:h,r:y?Ya(D,_,[h,o]):o}),x=B}),C<de&&f)if(C<=.001){var M=de/f;r.each(s,function(D,O){if(!isNaN(D)){var w=r.getItemLayout(O);w.angle=M,w.startAngle=g+L*O*M,w.endAngle=g+L*(O+1)*M}})}else p=C/T,x=g,r.each(s,function(D,O){if(!isNaN(D)){var w=r.getItemLayout(O),B=w.angle===c?c:D*p;w.startAngle=x,w.endAngle=x+L*B,x+=L*B}})})}function Yt(a){return{seriesType:a,reset:function(n,t){var e=t.findComponents({mainType:"legend"});if(!(!e||!e.length)){var r=n.getData();r.filterSelf(function(s){for(var i=r.getName(s),l=0;l<e.length;l++)if(!e[l].isSelected(i))return!1;return!0})}}}}var Xt=Math.PI/180;function ia(a,n,t,e,r,s,i,l,v,u){if(a.length<2)return;function o(d){for(var p=d.rB,m=p*p,y=0;y<d.list.length;y++){var b=d.list[y],_=Math.abs(b.label.y-t),C=e+b.len,T=C*C,x=Math.sqrt((1-Math.abs(_*_/m))*T),L=n+(x+b.len2)*r,M=L-b.label.x,D=b.targetTextWidth-M*r;ba(b,D,!0),b.label.x=L}}function h(d){for(var p={list:[],maxY:0},m={list:[],maxY:0},y=0;y<d.length;y++)if(d[y].labelAlignTo==="none"){var b=d[y],_=b.label.y>t?m:p,C=Math.abs(b.label.y-t);if(C>=_.maxY){var T=b.label.x-n-b.len2*r,x=e+b.len,L=Math.abs(T)<x?Math.sqrt(C*C/(1-T*T/x/x)):x;_.rB=L,_.maxY=C}_.list.push(b)}o(p),o(m)}for(var g=a.length,c=0;c<g;c++)if(a[c].position==="outer"&&a[c].labelAlignTo==="labelLine"){var f=a[c].label.x-u;a[c].linePoints[1][0]+=f,a[c].label.x=u}ca(a,v,v+i)&&h(a)}function Ut(a,n,t,e,r,s,i,l){for(var v=[],u=[],o=Number.MAX_VALUE,h=-Number.MAX_VALUE,g=0;g<a.length;g++){var c=a[g].label;$e(a[g])||(c.x<n?(o=Math.min(o,c.x),v.push(a[g])):(h=Math.max(h,c.x),u.push(a[g])))}for(var g=0;g<a.length;g++){var f=a[g];if(!$e(f)&&f.linePoints){if(f.labelStyleWidth!=null)continue;var c=f.label,d=f.linePoints,p=void 0;f.labelAlignTo==="edge"?c.x<n?p=d[2][0]-f.labelDistance-i-f.edgeDistance:p=i+r-f.edgeDistance-d[2][0]-f.labelDistance:f.labelAlignTo==="labelLine"?c.x<n?p=o-i-f.bleedMargin:p=i+r-h-f.bleedMargin:c.x<n?p=c.x-i-f.bleedMargin:p=i+r-c.x-f.bleedMargin,f.targetTextWidth=p,ba(f,p)}}ia(u,n,t,e,1,r,s,i,l,h),ia(v,n,t,e,-1,r,s,i,l,o);for(var g=0;g<a.length;g++){var f=a[g];if(!$e(f)&&f.linePoints){var c=f.label,d=f.linePoints,m=f.labelAlignTo==="edge",y=c.style.padding,b=y?y[1]+y[3]:0,_=c.style.backgroundColor?0:b,C=f.rect.width+_,T=d[1][0]-d[2][0];m?c.x<n?d[2][0]=i+f.edgeDistance+C+f.labelDistance:d[2][0]=i+r-f.edgeDistance-C-f.labelDistance:(c.x<n?d[2][0]=c.x+f.labelDistance:d[2][0]=c.x-f.labelDistance,d[1][0]=d[2][0]+T),d[1][1]=d[2][1]=c.y}}}function ba(a,n,t){if(t===void 0&&(t=!1),a.labelStyleWidth==null){var e=a.label,r=e.style,s=a.rect,i=r.backgroundColor,l=r.padding,v=l?l[1]+l[3]:0,u=r.overflow,o=s.width+(i?0:v);if(n<o||t){var h=s.height;if(u&&u.match("break")){e.setStyle("backgroundColor",null),e.setStyle("width",n-v);var g=e.getBoundingRect();e.setStyle("width",Math.ceil(g.width)),e.setStyle("backgroundColor",i)}else{var c=n-v,f=n<o?c:t?c>a.unconstrainedWidth?null:c:null;e.setStyle("width",f)}var d=e.getBoundingRect();s.width=d.width;var p=(e.style.margin||0)+2.1;s.height=d.height+p,s.y-=(s.height-h)/2}}}function $e(a){return a.position==="center"}function qt(a){var n=a.getData(),t=[],e,r,s=!1,i=(a.get("minShowLabelAngle")||0)*Xt,l=n.getLayout("viewRect"),v=n.getLayout("r"),u=l.width,o=l.x,h=l.y,g=l.height;function c(T){T.ignore=!0}function f(T){if(!T.ignore)return!0;for(var x in T.states)if(T.states[x].ignore===!1)return!0;return!1}n.each(function(T){var x=n.getItemGraphicEl(T),L=x.shape,M=x.getTextContent(),D=x.getTextGuideLine(),O=n.getItemModel(T),w=O.getModel("label"),B=w.get("position")||O.get(["emphasis","label","position"]),_e=w.get("distanceToLabelLine"),Me=w.get("alignTo"),xe=V(w.get("edgeDistance"),u),La=w.get("bleedMargin"),se=O.getModel("labelLine"),K=se.get("length");K=V(K,u);var le=se.get("length2");if(le=V(le,u),Math.abs(L.endAngle-L.startAngle)<i){re(M.states,c),re(D.states,c),M.ignore=D.ignore=!0;return}if(!!f(M)){var ce=(L.startAngle+L.endAngle)/2,$=Math.cos(ce),U=Math.sin(ce),J,ve,ze,ue;e=L.cx,r=L.cy;var H=B==="inside"||B==="inner";if(B==="center")J=L.cx,ve=L.cy,ue="center";else{var Ae=(H?(L.r+L.r0)/2*$:L.r*$)+e,Te=(H?(L.r+L.r0)/2*U:L.r*U)+r;if(J=Ae+$*3,ve=Te+U*3,!H){var Ye=Ae+$*(K+v-L.r),Xe=Te+U*(K+v-L.r),Ue=Ye+($<0?-1:1)*le,qe=Xe;Me==="edge"?J=$<0?o+xe:o+u-xe:J=Ue+($<0?-_e:_e),ve=qe,ze=[[Ae,Te],[Ye,Xe],[Ue,qe]]}ue=H?"center":Me==="edge"?$>0?"right":"left":$>0?"left":"right"}var Q=Math.PI,j=0,ee=w.get("rotate");if(va(ee))j=ee*(Q/180);else if(B==="center")j=0;else if(ee==="radial"||ee===!0){var Sa=$<0?-ce+Q:-ce;j=Sa}else if(ee==="tangential"&&B!=="outside"&&B!=="outer"){var Z=Math.atan2($,U);Z<0&&(Z=Q*2+Z);var Ca=U>0;Ca&&(Z=Q+Z),j=Z-Q}if(s=!!j,M.x=J,M.y=ve,M.rotation=j,M.setStyle({verticalAlign:"middle"}),H){M.setStyle({align:ue});var we=M.states.select;we&&(we.x+=M.x,we.y+=M.y)}else{var ae=M.getBoundingRect().clone();ae.applyTransform(M.getComputedTransform());var Fe=(M.style.margin||0)+2.1;ae.y-=Fe/2,ae.height+=Fe,t.push({label:M,labelLine:D,position:B,len:K,len2:le,minTurnAngle:se.get("minTurnAngle"),maxSurfaceAngle:se.get("maxSurfaceAngle"),surfaceNormal:new P($,U),linePoints:ze,textAlign:ue,labelDistance:_e,labelAlignTo:Me,edgeDistance:xe,bleedMargin:La,rect:ae,unconstrainedWidth:ae.width,labelStyleWidth:M.style.width})}x.setTextConfig({inside:H})}}),!s&&a.get("avoidLabelOverlap")&&Ut(t,e,r,v,u,g,o,h);for(var d=0;d<t.length;d++){var p=t[d],m=p.label,y=p.labelLine,b=isNaN(m.x)||isNaN(m.y);if(m){m.setStyle({align:p.textAlign}),b&&(re(m.states,c),m.ignore=!0);var _=m.states.select;_&&(_.x+=m.x,_.y+=m.y)}if(y){var C=p.linePoints;b||!C?(re(y.states,c),y.ignore=!0):(ha(C,p.minTurnAngle),It(C,p.surfaceNormal,p.maxSurfaceAngle),y.setShape({points:C}),m.__hostTarget.textGuideLineConfig={anchor:new P(C[0][0],C[0][1])})}}}function pe(a,n,t){var e=a.get("borderRadius");if(e==null)return t?{cornerRadius:0}:null;Ee(e)||(e=[e,e,e,e]);var r=Math.abs(n.r||0-n.r0||0);return{cornerRadius:Ua(e,function(s){return qa(s,r)})}}var Ft=function(a){Ge(n,a);function n(t,e,r){var s=a.call(this)||this;s.z2=2;var i=new Fa;return s.setTextContent(i),s.updateData(t,e,r,!0),s}return n.prototype.updateData=function(t,e,r,s){var i=this,l=t.hostModel,v=t.getItemModel(e),u=v.getModel("emphasis"),o=t.getItemLayout(e),h=W(pe(v.getModel("itemStyle"),o,!0),o);if(isNaN(h.startAngle)){i.setShape(h);return}if(s){i.setShape(h);var g=l.getShallow("animationType");l.ecModel.ssr?(ie(i,{scaleX:0,scaleY:0},l,{dataIndex:e,isFrom:!0}),i.originX=h.cx,i.originY=h.cy):g==="scale"?(i.shape.r=o.r0,ie(i,{shape:{r:o.r}},l,e)):r!=null?(i.setShape({startAngle:r,endAngle:r}),ie(i,{shape:{startAngle:o.startAngle,endAngle:o.endAngle}},l,e)):(i.shape.endAngle=o.startAngle,be(i,{shape:{endAngle:o.endAngle}},l,e))}else Ha(i),be(i,{shape:h},l,e);i.useStyle(t.getItemVisual(e,"style")),ja(i,v);var c=(o.startAngle+o.endAngle)/2,f=l.get("selectedOffset"),d=Math.cos(c)*f,p=Math.sin(c)*f,m=v.getShallow("cursor");m&&i.attr("cursor",m),this._updateLabel(l,t,e),i.ensureState("emphasis").shape=W({r:o.r+(u.get("scale")&&u.get("scaleSize")||0)},pe(u.getModel("itemStyle"),o)),W(i.ensureState("select"),{x:d,y:p,shape:pe(v.getModel(["select","itemStyle"]),o)}),W(i.ensureState("blur"),{shape:pe(v.getModel(["blur","itemStyle"]),o)});var y=i.getTextGuideLine(),b=i.getTextContent();y&&W(y.ensureState("select"),{x:d,y:p}),W(b.ensureState("select"),{x:d,y:p}),Za(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},n.prototype._updateLabel=function(t,e,r){var s=this,i=e.getItemModel(r),l=i.getModel("labelLine"),v=e.getItemVisual(r,"style"),u=v&&v.fill,o=v&&v.opacity;Wa(s,Ka(i),{labelFetcher:e.hostModel,labelDataIndex:r,inheritColor:u,defaultOpacity:o,defaultText:t.getFormattedLabel(r,"normal")||e.getName(r)});var h=s.getTextContent();s.setTextConfig({position:null,rotation:null}),h.attr({z2:10});var g=t.get(["label","position"]);if(g!=="outside"&&g!=="outer")s.removeTextGuideLine();else{var c=this.getTextGuideLine();c||(c=new la,this.setTextGuideLine(c)),da(this,pa(i),{stroke:u,opacity:Ja(l.get(["lineStyle","opacity"]),o,1)})}},n}(ua),Ht=function(a){Ge(n,a);function n(){var t=a!==null&&a.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return n.prototype.render=function(t,e,r,s){var i=t.getData(),l=this._data,v=this.group,u;if(!l&&i.count()>0){for(var o=i.getItemLayout(0),h=1;isNaN(o&&o.startAngle)&&h<i.count();++h)o=i.getItemLayout(h);o&&(u=o.startAngle)}if(this._emptyCircleSector&&v.remove(this._emptyCircleSector),i.count()===0&&t.get("showEmptyCircle")){var g=new ua({shape:ya(t,r)});g.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=g,v.add(g)}i.diff(l).add(function(c){var f=new Ft(i,c,u);i.setItemGraphicEl(c,f),v.add(f)}).update(function(c,f){var d=l.getItemGraphicEl(f);d.updateData(i,c,u),d.off("click"),v.add(d),i.setItemGraphicEl(c,d)}).remove(function(c){var f=l.getItemGraphicEl(c);Qa(f,t,c)}).execute(),qt(t),t.get("animationTypeUpdate")!=="expansion"&&(this._data=i)},n.prototype.dispose=function(){},n.prototype.containPoint=function(t,e){var r=e.getData(),s=r.getItemLayout(0);if(s){var i=t[0]-s.cx,l=t[1]-s.cy,v=Math.sqrt(i*i+l*l);return v<=s.r&&v>=s.r0}},n.type="pie",n}(et),jt=Ht,Zt=function(){function a(n,t){this._getDataWithEncodedVisual=n,this._getRawData=t}return a.prototype.getAllNames=function(){var n=this._getRawData();return n.mapArray(n.getName)},a.prototype.containName=function(n){var t=this._getRawData();return t.indexOfName(n)>=0},a.prototype.indexOfName=function(n){var t=this._getDataWithEncodedVisual();return t.indexOfName(n)},a.prototype.getItemVisual=function(n,t){var e=this._getDataWithEncodedVisual();return e.getItemVisual(n,t)},a}(),Wt=Zt,Kt=function(a){Ge(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.init=function(t){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new Wt(ea(this.getData,this),ea(this.getRawData,this)),this._defaultLabelLine(t)},n.prototype.mergeOption=function(){a.prototype.mergeOption.apply(this,arguments)},n.prototype.getInitialData=function(){var t=gt(this,{coordDimensions:["value"],encodeDefaulter:fa(at,this)}),e=[];return t.each(t.mapDimension("value"),function(r){e.push(r)}),this.seats=tt(e,t.hostModel.get("percentPrecision")),t},n.prototype.getDataParams=function(t){var e=a.prototype.getDataParams.call(this,t);return e.percent=this.seats[t],e.$vars.push("percent"),e},n.prototype._defaultLabelLine=function(t){rt(t,"labelLine",["show"]);var e=t.labelLine,r=t.emphasis.labelLine;e.show=e.show&&t.label.show,r.show=r.show&&t.emphasis.label.show},n.type="series.pie",n.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},n}(nt),Jt=Kt;function Qt(a){return{seriesType:a,reset:function(n,t){var e=n.getData();e.filterSelf(function(r){var s=e.mapDimension("value"),i=e.get(s,r);return!(va(i)&&!isNaN(i)&&i<0)})}}}function er(a){a.registerChartView(jt),a.registerSeriesModel(Jt),it("pie",a.registerAction),a.registerLayout(fa(zt,"pie")),a.registerProcessor(Yt("pie")),a.registerProcessor(Qt("pie"))}ot([er,lt,ct,vt,ut,ft,Gt]);const ar=sa({name:"BalanceChart",components:{"v-chart":st},props:{currencies:{required:!0,type:Array},showTitle:{required:!1,type:Boolean}},setup(a){const n=_a();return{balanceChartOptions:me(()=>({title:{text:"Balance",show:a.showTitle},center:["50%","50%"],backgroundColor:"rgba(0, 0, 0, 0)",dataset:{dimensions:["balance","currency","est_stake","free","used","stake"],source:a.currencies},tooltip:{trigger:"item",formatter:e=>`${He(e.value.balance,e.value.currency,8)}<br />${e.percent}% (${He(e.value.est_stake,e.value.stake)})`},series:[{type:"pie",radius:["40%","70%"],encode:{value:"est_stake",itemName:"currency",tooltip:["balance","currency"]},label:{formatter:"{b} - {d}%"},tooltip:{show:!0}}]})),settingsStore:n}}});function tr(a,n,t,e,r,s){const i=F("v-chart");return a.currencies?(R(),ye(i,{key:0,option:a.balanceChartOptions,theme:a.settingsStore.chartTheme,autoresize:""},null,8,["option","theme"])):oe("",!0)}var rr=Ce(ar,[["render",tr],["__scopeId","data-v-6f90a4a6"]]);const nr=sa({name:"Balance",components:{HideIcon:Lt,ShowIcon:Tt,BalanceChart:rr},setup(){const a=Ma(),n=xa(!0),t=me(()=>Number((.1**a.activeBot.stakeCurrencyDecimals).toFixed(8))),e=me(()=>{var i;return n.value?(i=a.activeBot.balance.currencies)==null?void 0:i.filter(l=>l.est_stake>=t.value):a.activeBot.balance.currencies}),r=me(()=>[{key:"currency",label:"Currency"},{key:"free",label:"Available",formatter:"formatCurrency"},{key:"est_stake",label:`in ${a.activeBot.balance.stake}`,formatter:"formatCurrency"}]);return{botStore:a,hideSmallBalances:n,formatPercent:Aa,smallBalance:t,balanceCurrencies:e,tableFields:r,formatCurrency:i=>i?i.toFixed(5):""}}}),ir={class:"mb-2"},or=N("label",{class:"me-auto h3"},"Balance",-1),sr={key:0},lr={slot:"bottom-row"},cr=N("td",null,[N("strong",null,"Total")],-1),vr=["title"];function ur(a,n,t,e,r,s){const i=F("b-button"),l=F("HideIcon"),v=F("ShowIcon"),u=F("b-form-checkbox"),o=F("BalanceChart"),h=F("b-table");return R(),X("div",null,[N("div",ir,[or,Pe(i,{class:"float-end",size:"sm",onClick:a.botStore.activeBot.getBalance},{default:De(()=>[Ta("\u21BB")]),_:1},8,["onClick"]),Pe(u,{modelValue:a.hideSmallBalances,"onUpdate:modelValue":n[0]||(n[0]=g=>a.hideSmallBalances=g),class:"float-end",size:"sm",title:"Hide small balances",button:""},{default:De(()=>[a.hideSmallBalances?(R(),ye(l,{key:0,size:16})):(R(),ye(v,{key:1,size:16}))]),_:1},8,["modelValue"])]),a.balanceCurrencies?(R(),ye(o,{key:0,currencies:a.balanceCurrencies},null,8,["currencies"])):oe("",!0),N("div",null,[a.botStore.activeBot.balance.note?(R(),X("p",sr,[N("strong",null,ne(a.botStore.activeBot.balance.note),1)])):oe("",!0),Pe(h,{class:"table-sm",items:a.balanceCurrencies,fields:a.tableFields},{default:De(()=>[N("template",lr,[cr,N("td",null,[N("span",{class:"font-italic",title:`Increase over initial capital of ${a.formatCurrency(a.botStore.activeBot.balance.starting_capital)} ${a.botStore.activeBot.balance.stake}`},ne(a.formatPercent(a.botStore.activeBot.balance.starting_capital_ratio)),9,vr)]),N("td",null,[N("strong",null,ne(a.formatCurrency(a.botStore.activeBot.balance.total)),1)])])]),_:1},8,["items","fields"])])])}var dr=Ce(nr,[["render",ur]]);export{dr as default};
//# sourceMappingURL=Balance.f8bf4dd8.js.map
