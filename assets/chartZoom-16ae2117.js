import{ab as Q,e as A,ah as et,aK as ei,aL as hr,T as tt,i as Yt,q as ai,aM as ri,aN as ii,am as ni,n as G,al as oi,aO as si,d as N,p as li,af as Te,aP as cr,aQ as te,a7 as ui,aR as hi,aS as vr,aT as k,aU as at,_ as P,G as X,c as ht,S as Ve,aV as $e,a1 as ci,a2 as vi,v as rt,w as fr,s as ct,aW as ee,aB as fi,aX as pr,o as Mt,aY as Pe,aZ as Kt,g as ut,a_ as Xe,aA as pi,r as dr,z as it,a$ as qt,b0 as Re,H as _t,b1 as di,b2 as Ue,P as ae,b3 as Ye,R as j,b4 as Oe,b5 as Ke,j as gt,x as _e,b6 as qe,C as Wt,b7 as je,Z as pt,b8 as gi,b9 as gr,ba as mr,bb as Je,bc as mi,A as yi,O as Et,an as kt,bd as Qe,be as ta,bf as xi,bg as bi,bh as Si,bi as _i,bj as Mi,L as re,y as Ai,m as q,bk as wi,K as yr,N as Di,bl as Ii,ae as Ci,bm as Li,B as ea,bn as aa,ax as Ti,bo as Vi,bp as ie,Y as Ee,bq as Pi,a9 as Tt,br as Ri,bs as ra,bt as ia,bu as Oi,bv as Ei,bw as xr,bx as Me,by as na,bz as ki,bA as zi,bB as Ni,bC as Bi,as as oa,bD as sa,W as ke,aa as Gi,bE as br,b as O,a as $,bF as la,bG as mt,E as Hi,bH as Zi,bI as ne,bJ as oe,bK as Fi,bM as se,bN as Wi,u as At,aD as $i,bO as Xi,bP as Ui,bQ as Yi,av as ft,bR as Ki,bS as qi,bT as Sr,bU as ji,bV as Ji,I as ua,at as Qi,U as Vt,k as $t,t as _r,aw as Pt,bW as tn,h as Mr,f as en,bX as an,bY as rn,bZ as nn,au as ha,b_ as on,b$ as sn,c0 as ln,c1 as un,c2 as ca,c3 as hn,c4 as cn}from"./install-10b53263.js";var vn=function(){function i(e){this.coordSysDims=[],this.axisMap=et(),this.categoryAxisMap=et(),this.coordSysName=e}return i}();function fn(i){var e=i.get("coordinateSystem"),t=new vn(e),a=pn[e];if(a)return a(i,t,t.axisMap,t.categoryAxisMap),t}var pn={cartesian2d:function(i,e,t,a){var r=i.getReferringComponents("xAxis",Q).models[0],n=i.getReferringComponents("yAxis",Q).models[0];e.coordSysDims=["x","y"],t.set("x",r),t.set("y",n),yt(r)&&(a.set("x",r),e.firstCategoryDimIndex=0),yt(n)&&(a.set("y",n),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(i,e,t,a){var r=i.getReferringComponents("singleAxis",Q).models[0];e.coordSysDims=["single"],t.set("single",r),yt(r)&&(a.set("single",r),e.firstCategoryDimIndex=0)},polar:function(i,e,t,a){var r=i.getReferringComponents("polar",Q).models[0],n=r.findAxisModel("radiusAxis"),o=r.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],t.set("radius",n),t.set("angle",o),yt(n)&&(a.set("radius",n),e.firstCategoryDimIndex=0),yt(o)&&(a.set("angle",o),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(i,e,t,a){e.coordSysDims=["lng","lat"]},parallel:function(i,e,t,a){var r=i.ecModel,n=r.getComponent("parallel",i.get("parallelIndex")),o=e.coordSysDims=n.dimensions.slice();A(n.parallelAxisIndex,function(s,l){var u=r.getComponent("parallelAxis",s),h=o[l];t.set(h,u),yt(u)&&(a.set(h,u),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=l))})}};function yt(i){return i.get("type")==="category"}function dn(i,e){var t=i.get("coordinateSystem"),a=si.get(t),r;return e&&e.coordSysDims&&(r=N(e.coordSysDims,function(n){var o={name:n},s=e.axisMap.get(n);if(s){var l=s.get("type");o.type=li(l)}return o})),r||(r=a&&(a.getDimensionsInfo?a.getDimensionsInfo():a.dimensions.slice())||["x","y"]),r}function gn(i,e,t){var a,r;return t&&A(i,function(n,o){var s=n.coordDim,l=t.categoryAxisMap.get(s);l&&(a==null&&(a=o),n.ordinalMeta=l.getOrdinalMeta(),e&&(n.createInvertedIndices=!0)),n.otherDims.itemName!=null&&(r=!0)}),!r&&a!=null&&(i[a].otherDims.itemName=0),a}function ze(i,e,t){t=t||{};var a=e.getSourceManager(),r,n=!1;i?(n=!0,r=ei(i)):(r=a.getSource(),n=r.sourceFormat===hr);var o=fn(e),s=dn(e,o),l=t.useEncodeDefaulter,u=tt(l)?l:l?Yt(ai,s,e):null,h={coordDimensions:s,generateCoord:t.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!n},c=ri(r,h),f=gn(c.dimensions,t.createInvertedIndices,o),v=n?null:a.getSharedDataStore(c),p=ii(e,{schema:c,store:v}),d=new ni(c,e);d.setCalculationInfo(p);var g=f!=null&&mn(r)?function(m,y,x,b){return b===f?x:this.defaultDimValueGetter(m,y,x,b)}:null;return d.hasItemOption=!1,d.initData(n?r:v,null,g),d}function mn(i){if(i.sourceFormat===hr){var e=yn(i.data||[]);return!G(oi(e))}}function yn(i){for(var e=0;e<i.length&&i[e]==null;)e++;return i[e]}var xn=function(){function i(){}return i.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},i.prototype.getCoordSysModel=function(){},i}(),Rt=Te();function bn(i){return i.type==="category"?_n(i):An(i)}function Sn(i,e){return i.type==="category"?Mn(i,e):{ticks:N(i.scale.getTicks(),function(t){return t.value})}}function _n(i){var e=i.getLabelModel(),t=Ar(i,e);return!e.get("show")||i.scale.isBlank()?{labels:[],labelCategoryInterval:t.labelCategoryInterval}:t}function Ar(i,e){var t=wr(i,"labels"),a=cr(e),r=Dr(t,a);if(r)return r;var n,o;return tt(a)?n=Lr(i,a):(o=a==="auto"?wn(i):a,n=Cr(i,o)),Ir(t,a,{labels:n,labelCategoryInterval:o})}function Mn(i,e){var t=wr(i,"ticks"),a=cr(e),r=Dr(t,a);if(r)return r;var n,o;if((!e.get("show")||i.scale.isBlank())&&(n=[]),tt(a))n=Lr(i,a,!0);else if(a==="auto"){var s=Ar(i,i.getLabelModel());o=s.labelCategoryInterval,n=N(s.labels,function(l){return l.tickValue})}else o=a,n=Cr(i,o,!0);return Ir(t,a,{ticks:n,tickCategoryInterval:o})}function An(i){var e=i.scale.getTicks(),t=te(i);return{labels:N(e,function(a,r){return{level:a.level,formattedLabel:t(a,r),rawLabel:i.scale.getLabel(a),tickValue:a.value}})}}function wr(i,e){return Rt(i)[e]||(Rt(i)[e]=[])}function Dr(i,e){for(var t=0;t<i.length;t++)if(i[t].key===e)return i[t].value}function Ir(i,e,t){return i.push({key:e,value:t}),t}function wn(i){var e=Rt(i).autoInterval;return e??(Rt(i).autoInterval=i.calculateCategoryInterval())}function Dn(i){var e=In(i),t=te(i),a=(e.axisRotate-e.labelRotate)/180*Math.PI,r=i.scale,n=r.getExtent(),o=r.count();if(n[1]-n[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var l=n[0],u=i.dataToCoord(l+1)-i.dataToCoord(l),h=Math.abs(u*Math.cos(a)),c=Math.abs(u*Math.sin(a)),f=0,v=0;l<=n[1];l+=s){var p=0,d=0,g=ui(t({value:l}),e.font,"center","top");p=g.width*1.3,d=g.height*1.3,f=Math.max(f,p,7),v=Math.max(v,d,7)}var m=f/h,y=v/c;isNaN(m)&&(m=1/0),isNaN(y)&&(y=1/0);var x=Math.max(0,Math.floor(Math.min(m,y))),b=Rt(i.model),_=i.getExtent(),S=b.lastAutoInterval,M=b.lastTickCount;return S!=null&&M!=null&&Math.abs(S-x)<=1&&Math.abs(M-o)<=1&&S>x&&b.axisExtent0===_[0]&&b.axisExtent1===_[1]?x=S:(b.lastTickCount=o,b.lastAutoInterval=x,b.axisExtent0=_[0],b.axisExtent1=_[1]),x}function In(i){var e=i.getLabelModel();return{axisRotate:i.getRotate?i.getRotate():i.isHorizontal&&!i.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function Cr(i,e,t){var a=te(i),r=i.scale,n=r.getExtent(),o=i.getLabelModel(),s=[],l=Math.max((e||0)+1,1),u=n[0],h=r.count();u!==0&&l>1&&h/l>2&&(u=Math.round(Math.ceil(u/l)*l));var c=hi(i),f=o.get("showMinLabel")||c,v=o.get("showMaxLabel")||c;f&&u!==n[0]&&d(n[0]);for(var p=u;p<=n[1];p+=l)d(p);v&&p-l!==n[1]&&d(n[1]);function d(g){var m={value:g};s.push(t?g:{formattedLabel:a(m),rawLabel:r.getLabel(m),tickValue:g})}return s}function Lr(i,e,t){var a=i.scale,r=te(i),n=[];return A(a.getTicks(),function(o){var s=a.getLabel(o),l=o.value;e(o.value,s)&&n.push(t?l:{formattedLabel:r(o),rawLabel:s,tickValue:l})}),n}var va=[0,1],Cn=function(){function i(e,t,a){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=a||[0,0]}return i.prototype.contain=function(e){var t=this._extent,a=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return e>=a&&e<=r},i.prototype.containData=function(e){return this.scale.contain(e)},i.prototype.getExtent=function(){return this._extent.slice()},i.prototype.getPixelPrecision=function(e){return vr(e||this.scale.getExtent(),this._extent)},i.prototype.setExtent=function(e,t){var a=this._extent;a[0]=e,a[1]=t},i.prototype.dataToCoord=function(e,t){var a=this._extent,r=this.scale;return e=r.normalize(e),this.onBand&&r.type==="ordinal"&&(a=a.slice(),fa(a,r.count())),k(e,va,a,t)},i.prototype.coordToData=function(e,t){var a=this._extent,r=this.scale;this.onBand&&r.type==="ordinal"&&(a=a.slice(),fa(a,r.count()));var n=k(e,a,va,t);return this.scale.scale(n)},i.prototype.pointToData=function(e,t){},i.prototype.getTicksCoords=function(e){e=e||{};var t=e.tickModel||this.getTickModel(),a=Sn(this,t),r=a.ticks,n=N(r,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=t.get("alignWithLabel");return Ln(this,n,o,e.clamp),n},i.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),t=e.get("splitNumber");t>0&&t<100||(t=5);var a=this.scale.getMinorTicks(t),r=N(a,function(n){return N(n,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return r},i.prototype.getViewLabels=function(){return bn(this).labels},i.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},i.prototype.getTickModel=function(){return this.model.getModel("axisTick")},i.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),a=t[1]-t[0]+(this.onBand?1:0);a===0&&(a=1);var r=Math.abs(e[1]-e[0]);return Math.abs(r)/a},i.prototype.calculateCategoryInterval=function(){return Dn(this)},i}();function fa(i,e){var t=i[1]-i[0],a=e,r=t/a/2;i[0]+=r,i[1]-=r}function Ln(i,e,t,a){var r=e.length;if(!i.onBand||t||!r)return;var n=i.getExtent(),o,s;if(r===1)e[0].coord=n[0],o=e[1]={coord:n[0]};else{var l=e[r-1].tickValue-e[0].tickValue,u=(e[r-1].coord-e[0].coord)/l;A(e,function(v){v.coord-=u/2});var h=i.scale.getExtent();s=1+h[1]-e[r-1].tickValue,o={coord:e[r-1].coord+u*s},e.push(o)}var c=n[0]>n[1];f(e[0].coord,n[0])&&(a?e[0].coord=n[0]:e.shift()),a&&f(n[0],e[0].coord)&&e.unshift({coord:n[0]}),f(n[1],o.coord)&&(a?o.coord=n[1]:e.pop()),a&&f(o.coord,n[1])&&e.push({coord:n[1]});function f(v,p){return v=at(v),p=at(p),c?v>p:v<p}}const Tn=Cn;var Vn=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t){return ze(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var a=new X,r=ht("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);a.add(r),r.setStyle(t.lineStyle);var n=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s=n==="none"?"circle":n,l=t.itemHeight*.8,u=ht(s,(t.itemWidth-l)/2,(t.itemHeight-l)/2,l,l,t.itemStyle.fill);a.add(u),u.setStyle(t.itemStyle);var h=t.iconRotate==="inherit"?o:t.iconRotate||0;return u.rotation=h*Math.PI/180,u.setOrigin([t.itemWidth/2,t.itemHeight/2]),s.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),a},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(Ve);const Pn=Vn;function Ne(i,e){var t=i.mapDimensionsAll("defaultedLabel"),a=t.length;if(a===1){var r=$e(i,e,t[0]);return r!=null?r+"":null}else if(a){for(var n=[],o=0;o<t.length;o++)n.push($e(i,e,t[o]));return n.join(" ")}}function Tr(i,e){var t=i.mapDimensionsAll("defaultedLabel");if(!G(e))return e+"";for(var a=[],r=0;r<t.length;r++){var n=i.getDimensionIndex(t[r]);n>=0&&a.push(e[n])}return a.join(" ")}var Rn=function(i){P(e,i);function e(t,a,r,n){var o=i.call(this)||this;return o.updateData(t,a,r,n),o}return e.prototype._createSymbol=function(t,a,r,n,o){this.removeAll();var s=ht(t,-1,-1,2,2,null,o);s.attr({z2:100,culling:!0,scaleX:n[0]/2,scaleY:n[1]/2}),s.drift=On,this._symbolType=t,this.add(s)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){ci(this.childAt(0))},e.prototype.downplay=function(){vi(this.childAt(0))},e.prototype.setZ=function(t,a){var r=this.childAt(0);r.zlevel=t,r.z=a},e.prototype.setDraggable=function(t,a){var r=this.childAt(0);r.draggable=t,r.cursor=!a&&t?"move":r.cursor},e.prototype.updateData=function(t,a,r,n){this.silent=!1;var o=t.getItemVisual(a,"symbol")||"circle",s=t.hostModel,l=e.getSymbolSize(t,a),u=o!==this._symbolType,h=n&&n.disableAnimation;if(u){var c=t.getItemVisual(a,"symbolKeepAspect");this._createSymbol(o,t,a,l,c)}else{var f=this.childAt(0);f.silent=!1;var v={scaleX:l[0]/2,scaleY:l[1]/2};h?f.attr(v):rt(f,v,s,a),fr(f)}if(this._updateCommon(t,a,l,r,n),u){var f=this.childAt(0);if(!h){var v={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:f.style.opacity}};f.scaleX=f.scaleY=0,f.style.opacity=0,ct(f,v,s,a)}}h&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,a,r,n,o){var s=this.childAt(0),l=t.hostModel,u,h,c,f,v,p,d,g,m;if(n&&(u=n.emphasisItemStyle,h=n.blurItemStyle,c=n.selectItemStyle,f=n.focus,v=n.blurScope,d=n.labelStatesModels,g=n.hoverScale,m=n.cursorStyle,p=n.emphasisDisabled),!n||t.hasItemOption){var y=n&&n.itemModel?n.itemModel:t.getItemModel(a),x=y.getModel("emphasis");u=x.getModel("itemStyle").getItemStyle(),c=y.getModel(["select","itemStyle"]).getItemStyle(),h=y.getModel(["blur","itemStyle"]).getItemStyle(),f=x.get("focus"),v=x.get("blurScope"),p=x.get("disabled"),d=ee(y),g=x.getShallow("scale"),m=y.getShallow("cursor")}var b=t.getItemVisual(a,"symbolRotate");s.attr("rotation",(b||0)*Math.PI/180||0);var _=fi(t.getItemVisual(a,"symbolOffset"),r);_&&(s.x=_[0],s.y=_[1]),m&&s.attr("cursor",m);var S=t.getItemVisual(a,"style"),M=S.fill;if(s instanceof pr){var I=s.style;s.useStyle(Mt({image:I.image,x:I.x,y:I.y,width:I.width,height:I.height},S))}else s.__isEmptyBrush?s.useStyle(Mt({},S)):s.useStyle(S),s.style.decal=null,s.setColor(M,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var C=t.getItemVisual(a,"liftZ"),T=this._z2;C!=null?T==null&&(this._z2=s.z2,s.z2+=C):T!=null&&(s.z2=T,this._z2=null);var w=o&&o.useNameLabel;Pe(s,d,{labelFetcher:l,labelDataIndex:a,defaultText:D,inheritColor:M,defaultOpacity:S.opacity});function D(R){return w?t.getName(R):Ne(t,R)}this._sizeX=r[0]/2,this._sizeY=r[1]/2;var L=s.ensureState("emphasis");L.style=u,s.ensureState("select").style=c,s.ensureState("blur").style=h;var E=g==null||g===!0?Math.max(1.1,3/this._sizeY):isFinite(g)&&g>0?+g:1;L.scaleX=this._sizeX*E,L.scaleY=this._sizeY*E,this.setSymbolScale(1),Kt(this,f,v,p)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,a,r){var n=this.childAt(0),o=ut(this).dataIndex,s=r&&r.animation;if(this.silent=n.silent=!0,r&&r.fadeLabel){var l=n.getTextContent();l&&Xe(l,{style:{opacity:0}},a,{dataIndex:o,removeOpt:s,cb:function(){n.removeTextContent()}})}else n.removeTextContent();Xe(n,{style:{opacity:0},scaleX:0,scaleY:0},a,{dataIndex:o,cb:t,removeOpt:s})},e.getSymbolSize=function(t,a){return pi(t.getItemVisual(a,"symbolSize"))},e}(X);function On(i,e){this.parent.drift(i,e)}const Be=Rn;function le(i,e,t,a){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(a.isIgnore&&a.isIgnore(t))&&!(a.clipShape&&!a.clipShape.contain(e[0],e[1]))&&i.getItemVisual(t,"symbol")!=="none"}function pa(i){return i!=null&&!it(i)&&(i={isIgnore:i}),i||{}}function da(i){var e=i.hostModel,t=e.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:ee(e),cursorStyle:e.get("cursor")}}var En=function(){function i(e){this.group=new X,this._SymbolCtor=e||Be}return i.prototype.updateData=function(e,t){this._progressiveEls=null,t=pa(t);var a=this.group,r=e.hostModel,n=this._data,o=this._SymbolCtor,s=t.disableAnimation,l=da(e),u={disableAnimation:s},h=t.getSymbolPoint||function(c){return e.getItemLayout(c)};n||a.removeAll(),e.diff(n).add(function(c){var f=h(c);if(le(e,f,c,t)){var v=new o(e,c,l,u);v.setPosition(f),e.setItemGraphicEl(c,v),a.add(v)}}).update(function(c,f){var v=n.getItemGraphicEl(f),p=h(c);if(!le(e,p,c,t)){a.remove(v);return}var d=e.getItemVisual(c,"symbol")||"circle",g=v&&v.getSymbolType&&v.getSymbolType();if(!v||g&&g!==d)a.remove(v),v=new o(e,c,l,u),v.setPosition(p);else{v.updateData(e,c,l,u);var m={x:p[0],y:p[1]};s?v.attr(m):rt(v,m,r)}a.add(v),e.setItemGraphicEl(c,v)}).remove(function(c){var f=n.getItemGraphicEl(c);f&&f.fadeOut(function(){a.remove(f)},r)}).execute(),this._getSymbolPoint=h,this._data=e},i.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl(function(a,r){var n=e._getSymbolPoint(r);a.setPosition(n),a.markRedraw()})},i.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=da(e),this._data=null,this.group.removeAll()},i.prototype.incrementalUpdate=function(e,t,a){this._progressiveEls=[],a=pa(a);function r(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var n=e.start;n<e.end;n++){var o=t.getItemLayout(n);if(le(t,o,n,a)){var s=new this._SymbolCtor(t,n,this._seriesScope);s.traverse(r),s.setPosition(o),this.group.add(s),t.setItemGraphicEl(n,s),this._progressiveEls.push(s)}}},i.prototype.eachRendered=function(e){dr(this._progressiveEls||this.group,e)},i.prototype.remove=function(e){var t=this.group,a=this._data;a&&e?a.eachItemGraphicEl(function(r){r.fadeOut(function(){t.remove(r)},a.hostModel)}):t.removeAll()},i}();const kn=En;function Vr(i,e,t){var a=i.getBaseAxis(),r=i.getOtherAxis(a),n=zn(r,t),o=a.dim,s=r.dim,l=e.mapDimension(s),u=e.mapDimension(o),h=s==="x"||s==="radius"?1:0,c=N(i.dimensions,function(p){return e.mapDimension(p)}),f=!1,v=e.getCalculationInfo("stackResultDimension");return qt(e,c[0])&&(f=!0,c[0]=v),qt(e,c[1])&&(f=!0,c[1]=v),{dataDimsForPoint:c,valueStart:n,valueAxisDim:s,baseAxisDim:o,stacked:!!f,valueDim:l,baseDim:u,baseDataOffset:h,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function zn(i,e){var t=0,a=i.scale.getExtent();return e==="start"?t=a[0]:e==="end"?t=a[1]:Re(e)&&!isNaN(e)?t=e:a[0]>0?t=a[0]:a[1]<0&&(t=a[1]),t}function Pr(i,e,t,a){var r=NaN;i.stacked&&(r=t.get(t.getCalculationInfo("stackedOverDimension"),a)),isNaN(r)&&(r=i.valueStart);var n=i.baseDataOffset,o=[];return o[n]=t.get(i.baseDim,a),o[1-n]=r,e.dataToPoint(o)}function Nn(i,e){var t=[];return e.diff(i).add(function(a){t.push({cmd:"+",idx:a})}).update(function(a,r){t.push({cmd:"=",idx:r,idx1:a})}).remove(function(a){t.push({cmd:"-",idx:a})}).execute(),t}function Bn(i,e,t,a,r,n,o,s){for(var l=Nn(i,e),u=[],h=[],c=[],f=[],v=[],p=[],d=[],g=Vr(r,e,o),m=i.getLayout("points")||[],y=e.getLayout("points")||[],x=0;x<l.length;x++){var b=l[x],_=!0,S=void 0,M=void 0;switch(b.cmd){case"=":S=b.idx*2,M=b.idx1*2;var I=m[S],C=m[S+1],T=y[M],w=y[M+1];(isNaN(I)||isNaN(C))&&(I=T,C=w),u.push(I,C),h.push(T,w),c.push(t[S],t[S+1]),f.push(a[M],a[M+1]),d.push(e.getRawIndex(b.idx1));break;case"+":var D=b.idx,L=g.dataDimsForPoint,E=r.dataToPoint([e.get(L[0],D),e.get(L[1],D)]);M=D*2,u.push(E[0],E[1]),h.push(y[M],y[M+1]);var R=Pr(g,r,e,D);c.push(R[0],R[1]),f.push(a[M],a[M+1]),d.push(e.getRawIndex(D));break;case"-":_=!1}_&&(v.push(b),p.push(p.length))}p.sort(function(Nt,B){return d[Nt]-d[B]});for(var H=u.length,F=_t(H),V=_t(H),z=_t(H),U=_t(H),W=[],x=0;x<p.length;x++){var wt=p[x],Y=x*2,K=wt*2;F[Y]=u[K],F[Y+1]=u[K+1],V[Y]=h[K],V[Y+1]=h[K+1],z[Y]=c[K],z[Y+1]=c[K+1],U[Y]=f[K],U[Y+1]=f[K+1],W[x]=v[wt]}return{current:F,next:V,stackedOnCurrent:z,stackedOnNext:U,status:W}}var nt=Math.min,ot=Math.max;function dt(i,e){return isNaN(i)||isNaN(e)}function Ae(i,e,t,a,r,n,o,s,l){for(var u,h,c,f,v,p,d=t,g=0;g<a;g++){var m=e[d*2],y=e[d*2+1];if(d>=r||d<0)break;if(dt(m,y)){if(l){d+=n;continue}break}if(d===t)i[n>0?"moveTo":"lineTo"](m,y),c=m,f=y;else{var x=m-u,b=y-h;if(x*x+b*b<.5){d+=n;continue}if(o>0){for(var _=d+n,S=e[_*2],M=e[_*2+1];S===m&&M===y&&g<a;)g++,_+=n,d+=n,S=e[_*2],M=e[_*2+1],m=e[d*2],y=e[d*2+1],x=m-u,b=y-h;var I=g+1;if(l)for(;dt(S,M)&&I<a;)I++,_+=n,S=e[_*2],M=e[_*2+1];var C=.5,T=0,w=0,D=void 0,L=void 0;if(I>=a||dt(S,M))v=m,p=y;else{T=S-u,w=M-h;var E=m-u,R=S-m,H=y-h,F=M-y,V=void 0,z=void 0;if(s==="x"){V=Math.abs(E),z=Math.abs(R);var U=T>0?1:-1;v=m-U*V*o,p=y,D=m+U*z*o,L=y}else if(s==="y"){V=Math.abs(H),z=Math.abs(F);var W=w>0?1:-1;v=m,p=y-W*V*o,D=m,L=y+W*z*o}else V=Math.sqrt(E*E+H*H),z=Math.sqrt(R*R+F*F),C=z/(z+V),v=m-T*o*(1-C),p=y-w*o*(1-C),D=m+T*o*C,L=y+w*o*C,D=nt(D,ot(S,m)),L=nt(L,ot(M,y)),D=ot(D,nt(S,m)),L=ot(L,nt(M,y)),T=D-m,w=L-y,v=m-T*V/z,p=y-w*V/z,v=nt(v,ot(u,m)),p=nt(p,ot(h,y)),v=ot(v,nt(u,m)),p=ot(p,nt(h,y)),T=m-v,w=y-p,D=m+T*z/V,L=y+w*z/V}i.bezierCurveTo(c,f,v,p,m,y),c=D,f=L}else i.lineTo(m,y)}u=m,h=y,d+=n}return g}var Rr=function(){function i(){this.smooth=0,this.smoothConstraint=!0}return i}(),Gn=function(i){P(e,i);function e(t){var a=i.call(this,t)||this;return a.type="ec-polyline",a}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Rr},e.prototype.buildPath=function(t,a){var r=a.points,n=0,o=r.length/2;if(a.connectNulls){for(;o>0&&dt(r[o*2-2],r[o*2-1]);o--);for(;n<o&&dt(r[n*2],r[n*2+1]);n++);}for(;n<o;)n+=Ae(t,r,n,o,o,1,a.smooth,a.smoothMonotone,a.connectNulls)+1},e.prototype.getPointOn=function(t,a){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var r=this.path,n=r.data,o=di.CMD,s,l,u=a==="x",h=[],c=0;c<n.length;){var f=n[c++],v=void 0,p=void 0,d=void 0,g=void 0,m=void 0,y=void 0,x=void 0;switch(f){case o.M:s=n[c++],l=n[c++];break;case o.L:if(v=n[c++],p=n[c++],x=u?(t-s)/(v-s):(t-l)/(p-l),x<=1&&x>=0){var b=u?(p-l)*x+l:(v-s)*x+s;return u?[t,b]:[b,t]}s=v,l=p;break;case o.C:v=n[c++],p=n[c++],d=n[c++],g=n[c++],m=n[c++],y=n[c++];var _=u?Ue(s,v,d,m,t,h):Ue(l,p,g,y,t,h);if(_>0)for(var S=0;S<_;S++){var M=h[S];if(M<=1&&M>=0){var b=u?Ye(l,p,g,y,M):Ye(s,v,d,m,M);return u?[t,b]:[b,t]}}s=m,l=y;break}}},e}(ae),Hn=function(i){P(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e}(Rr),Zn=function(i){P(e,i);function e(t){var a=i.call(this,t)||this;return a.type="ec-polygon",a}return e.prototype.getDefaultShape=function(){return new Hn},e.prototype.buildPath=function(t,a){var r=a.points,n=a.stackedOnPoints,o=0,s=r.length/2,l=a.smoothMonotone;if(a.connectNulls){for(;s>0&&dt(r[s*2-2],r[s*2-1]);s--);for(;o<s&&dt(r[o*2],r[o*2+1]);o++);}for(;o<s;){var u=Ae(t,r,o,s,s,1,a.smooth,l,a.connectNulls);Ae(t,n,o+u-1,u,s,-1,a.stackedOnSmooth,l,a.connectNulls),o+=u+1,t.closePath()}},e}(ae);function Or(i,e,t,a,r){var n=i.getArea(),o=n.x,s=n.y,l=n.width,u=n.height,h=t.get(["lineStyle","width"])||2;o-=h/2,s-=h/2,l+=h,u+=h,o=Math.floor(o),l=Math.round(l);var c=new j({shape:{x:o,y:s,width:l,height:u}});if(e){var f=i.getBaseAxis(),v=f.isHorizontal(),p=f.inverse;v?(p&&(c.shape.x+=l),c.shape.width=0):(p||(c.shape.y+=u),c.shape.height=0);var d=tt(r)?function(g){r(g,c)}:null;ct(c,{shape:{width:l,height:u,x:o,y:s}},t,null,a,d)}return c}function Er(i,e,t){var a=i.getArea(),r=at(a.r0,1),n=at(a.r,1),o=new Oe({shape:{cx:at(i.cx,1),cy:at(i.cy,1),r0:r,r:n,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}});if(e){var s=i.getBaseAxis().dim==="angle";s?o.shape.endAngle=a.startAngle:o.shape.r=r,ct(o,{shape:{endAngle:a.endAngle,r:n}},t)}return o}function Fn(i,e,t,a,r){if(i){if(i.type==="polar")return Er(i,e,t);if(i.type==="cartesian2d")return Or(i,e,t,a,r)}else return null;return null}function Ge(i,e){return i.type===e}function ga(i,e){if(i.length===e.length){for(var t=0;t<i.length;t++)if(i[t]!==e[t])return;return!0}}function ma(i){for(var e=1/0,t=1/0,a=-1/0,r=-1/0,n=0;n<i.length;){var o=i[n++],s=i[n++];isNaN(o)||(e=Math.min(o,e),a=Math.max(o,a)),isNaN(s)||(t=Math.min(s,t),r=Math.max(s,r))}return[[e,t],[a,r]]}function ya(i,e){var t=ma(i),a=t[0],r=t[1],n=ma(e),o=n[0],s=n[1];return Math.max(Math.abs(a[0]-o[0]),Math.abs(a[1]-o[1]),Math.abs(r[0]-s[0]),Math.abs(r[1]-s[1]))}function xa(i){return Re(i)?i:i?.5:0}function Wn(i,e,t){if(!t.valueDim)return[];for(var a=e.count(),r=_t(a*2),n=0;n<a;n++){var o=Pr(t,i,e,n);r[n*2]=o[0],r[n*2+1]=o[1]}return r}function st(i,e,t,a){var r=e.getBaseAxis(),n=r.dim==="x"||r.dim==="radius"?0:1,o=[],s=0,l=[],u=[],h=[],c=[];if(a){for(s=0;s<i.length;s+=2)!isNaN(i[s])&&!isNaN(i[s+1])&&c.push(i[s],i[s+1]);i=c}for(s=0;s<i.length-2;s+=2)switch(h[0]=i[s+2],h[1]=i[s+3],u[0]=i[s],u[1]=i[s+1],o.push(u[0],u[1]),t){case"end":l[n]=h[n],l[1-n]=u[1-n],o.push(l[0],l[1]);break;case"middle":var f=(u[n]+h[n])/2,v=[];l[n]=v[n]=f,l[1-n]=u[1-n],v[1-n]=h[1-n],o.push(l[0],l[1]),o.push(v[0],v[1]);break;default:l[n]=u[n],l[1-n]=h[1-n],o.push(l[0],l[1])}return o.push(i[s++],i[s++]),o}function $n(i,e){var t=[],a=i.length,r,n;function o(h,c,f){var v=h.coord,p=(f-v)/(c.coord-v),d=mi(p,[h.color,c.color]);return{coord:f,color:d}}for(var s=0;s<a;s++){var l=i[s],u=l.coord;if(u<0)r=l;else if(u>e){n?t.push(o(n,l,e)):r&&t.push(o(r,l,0),o(r,l,e));break}else r&&(t.push(o(r,l,0)),r=null),t.push(l),n=l}return t}function Xn(i,e,t){var a=i.getVisual("visualMeta");if(!(!a||!a.length||!i.count())&&e.type==="cartesian2d"){for(var r,n,o=a.length-1;o>=0;o--){var s=i.getDimensionInfo(a[o].dimension);if(r=s&&s.coordDim,r==="x"||r==="y"){n=a[o];break}}if(n){var l=e.getAxis(r),u=N(n.stops,function(x){return{coord:l.toGlobalCoord(l.dataToCoord(x.value)),color:x.color}}),h=u.length,c=n.outerColors.slice();h&&u[0].coord>u[h-1].coord&&(u.reverse(),c.reverse());var f=$n(u,r==="x"?t.getWidth():t.getHeight()),v=f.length;if(!v&&h)return u[0].coord<0?c[1]?c[1]:u[h-1].color:c[0]?c[0]:u[0].color;var p=10,d=f[0].coord-p,g=f[v-1].coord+p,m=g-d;if(m<.001)return"transparent";A(f,function(x){x.offset=(x.coord-d)/m}),f.push({offset:v?f[v-1].offset:.5,color:c[1]||"transparent"}),f.unshift({offset:v?f[0].offset:.5,color:c[0]||"transparent"});var y=new mr(0,0,0,0,f,!0);return y[r]=d,y[r+"2"]=g,y}}}function Un(i,e,t){var a=i.get("showAllSymbol"),r=a==="auto";if(!(a&&!r)){var n=t.getAxesByScale("ordinal")[0];if(n&&!(r&&Yn(n,e))){var o=e.mapDimension(n.dim),s={};return A(n.getViewLabels(),function(l){var u=n.scale.getRawOrdinalNumber(l.tickValue);s[u]=1}),function(l){return!s.hasOwnProperty(e.get(o,l))}}}}function Yn(i,e){var t=i.getExtent(),a=Math.abs(t[1]-t[0])/i.scale.count();isNaN(a)&&(a=0);for(var r=e.count(),n=Math.max(1,Math.round(r/5)),o=0;o<r;o+=n)if(Be.getSymbolSize(e,o)[i.isHorizontal()?1:0]*1.5>a)return!1;return!0}function Kn(i,e){return isNaN(i)||isNaN(e)}function qn(i){for(var e=i.length/2;e>0&&Kn(i[e*2-2],i[e*2-1]);e--);return e-1}function ba(i,e){return[i[e*2],i[e*2+1]]}function jn(i,e,t){for(var a=i.length/2,r=t==="x"?0:1,n,o,s=0,l=-1,u=0;u<a;u++)if(o=i[u*2+r],!(isNaN(o)||isNaN(i[u*2+1-r]))){if(u===0){n=o;continue}if(n<=e&&o>=e||n>=e&&o<=e){l=u;break}s=u,n=o}return{range:[s,l],t:(e-n)/(o-n)}}function kr(i){if(i.get(["endLabel","show"]))return!0;for(var e=0;e<Je.length;e++)if(i.get([Je[e],"endLabel","show"]))return!0;return!1}function ue(i,e,t,a){if(Ge(e,"cartesian2d")){var r=a.getModel("endLabel"),n=r.get("valueAnimation"),o=a.getData(),s={lastFrameIndex:0},l=kr(a)?function(v,p){i._endLabelOnDuring(v,p,o,s,n,r,e)}:null,u=e.getBaseAxis().isHorizontal(),h=Or(e,t,a,function(){var v=i._endLabel;v&&t&&s.originalX!=null&&v.attr({x:s.originalX,y:s.originalY})},l);if(!a.get("clip",!0)){var c=h.shape,f=Math.max(c.width,c.height);u?(c.y-=f,c.height+=f*2):(c.x-=f,c.width+=f*2)}return l&&l(1,h),h}else return Er(e,t,a)}function Jn(i,e){var t=e.getBaseAxis(),a=t.isHorizontal(),r=t.inverse,n=a?r?"right":"left":"center",o=a?"middle":r?"top":"bottom";return{normal:{align:i.get("align")||n,verticalAlign:i.get("verticalAlign")||o}}}var Qn=function(i){P(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(){var t=new X,a=new kn;this.group.add(a.group),this._symbolDraw=a,this._lineGroup=t},e.prototype.render=function(t,a,r){var n=this,o=t.coordinateSystem,s=this.group,l=t.getData(),u=t.getModel("lineStyle"),h=t.getModel("areaStyle"),c=l.getLayout("points")||[],f=o.type==="polar",v=this._coordSys,p=this._symbolDraw,d=this._polyline,g=this._polygon,m=this._lineGroup,y=!a.ssr&&t.isAnimationEnabled(),x=!h.isEmpty(),b=h.get("origin"),_=Vr(o,l,b),S=x&&Wn(o,l,_),M=t.get("showSymbol"),I=t.get("connectNulls"),C=M&&!f&&Un(t,l,o),T=this._data;T&&T.eachItemGraphicEl(function(B,ti){B.__temp&&(s.remove(B),T.setItemGraphicEl(ti,null))}),M||p.remove(),s.add(m);var w=f?!1:t.get("step"),D;o&&o.getArea&&t.get("clip",!0)&&(D=o.getArea(),D.width!=null?(D.x-=.1,D.y-=.1,D.width+=.2,D.height+=.2):D.r0&&(D.r0-=.5,D.r+=.5)),this._clipShapeForSymbol=D;var L=Xn(l,o,r)||l.getVisual("style")[l.getVisual("drawType")];if(!(d&&v.type===o.type&&w===this._step))M&&p.updateData(l,{isIgnore:C,clipShape:D,disableAnimation:!0,getSymbolPoint:function(B){return[c[B*2],c[B*2+1]]}}),y&&this._initSymbolLabelAnimation(l,o,D),w&&(c=st(c,o,w,I),S&&(S=st(S,o,w,I))),d=this._newPolyline(c),x?g=this._newPolygon(c,S):g&&(m.remove(g),g=this._polygon=null),f||this._initOrUpdateEndLabel(t,o,Ke(L)),m.setClipPath(ue(this,o,!0,t));else{x&&!g?g=this._newPolygon(c,S):g&&!x&&(m.remove(g),g=this._polygon=null),f||this._initOrUpdateEndLabel(t,o,Ke(L));var E=m.getClipPath();if(E){var R=ue(this,o,!1,t);ct(E,{shape:R.shape},t)}else m.setClipPath(ue(this,o,!0,t));M&&p.updateData(l,{isIgnore:C,clipShape:D,disableAnimation:!0,getSymbolPoint:function(B){return[c[B*2],c[B*2+1]]}}),(!ga(this._stackedOnPoints,S)||!ga(this._points,c))&&(y?this._doUpdateAnimation(l,S,o,r,w,b,I):(w&&(c=st(c,o,w,I),S&&(S=st(S,o,w,I))),d.setShape({points:c}),g&&g.setShape({points:c,stackedOnPoints:S})))}var H=t.getModel("emphasis"),F=H.get("focus"),V=H.get("blurScope"),z=H.get("disabled");if(d.useStyle(gt(u.getLineStyle(),{fill:"none",stroke:L,lineJoin:"bevel"})),_e(d,t,"lineStyle"),d.style.lineWidth>0&&t.get(["emphasis","lineStyle","width"])==="bolder"){var U=d.getState("emphasis").style;U.lineWidth=+d.style.lineWidth+1}ut(d).seriesIndex=t.seriesIndex,Kt(d,F,V,z);var W=xa(t.get("smooth")),wt=t.get("smoothMonotone");if(d.setShape({smooth:W,smoothMonotone:wt,connectNulls:I}),g){var Y=l.getCalculationInfo("stackedOnSeries"),K=0;g.useStyle(gt(h.getAreaStyle(),{fill:L,opacity:.7,lineJoin:"bevel",decal:l.getVisual("style").decal})),Y&&(K=xa(Y.get("smooth"))),g.setShape({smooth:W,stackedOnSmooth:K,smoothMonotone:wt,connectNulls:I}),_e(g,t,"areaStyle"),ut(g).seriesIndex=t.seriesIndex,Kt(g,F,V,z)}var Nt=function(B){n._changePolyState(B)};l.eachItemGraphicEl(function(B){B&&(B.onHoverStateChange=Nt)}),this._polyline.onHoverStateChange=Nt,this._data=l,this._coordSys=o,this._stackedOnPoints=S,this._points=c,this._step=w,this._valueOrigin=b,t.get("triggerLineEvent")&&(this.packEventData(t,d),g&&this.packEventData(t,g))},e.prototype.packEventData=function(t,a){ut(a).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,a,r,n){var o=t.getData(),s=qe(o,n);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var l=o.getLayout("points"),u=o.getItemGraphicEl(s);if(!u){var h=l[s*2],c=l[s*2+1];if(isNaN(h)||isNaN(c)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(h,c))return;var f=t.get("zlevel")||0,v=t.get("z")||0;u=new Be(o,s),u.x=h,u.y=c,u.setZ(f,v);var p=u.getSymbolPath().getTextContent();p&&(p.zlevel=f,p.z=v,p.z2=this._polyline.z2+1),u.__temp=!0,o.setItemGraphicEl(s,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else Wt.prototype.highlight.call(this,t,a,r,n)},e.prototype.downplay=function(t,a,r,n){var o=t.getData(),s=qe(o,n);if(this._changePolyState("normal"),s!=null&&s>=0){var l=o.getItemGraphicEl(s);l&&(l.__temp?(o.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else Wt.prototype.downplay.call(this,t,a,r,n)},e.prototype._changePolyState=function(t){var a=this._polygon;je(this._polyline,t),a&&je(a,t)},e.prototype._newPolyline=function(t){var a=this._polyline;return a&&this._lineGroup.remove(a),a=new Gn({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(a),this._polyline=a,a},e.prototype._newPolygon=function(t,a){var r=this._polygon;return r&&this._lineGroup.remove(r),r=new Zn({shape:{points:t,stackedOnPoints:a},segmentIgnoreThreshold:2}),this._lineGroup.add(r),this._polygon=r,r},e.prototype._initSymbolLabelAnimation=function(t,a,r){var n,o,s=a.getBaseAxis(),l=s.inverse;a.type==="cartesian2d"?(n=s.isHorizontal(),o=!1):a.type==="polar"&&(n=s.dim==="angle",o=!0);var u=t.hostModel,h=u.get("animationDuration");tt(h)&&(h=h(null));var c=u.get("animationDelay")||0,f=tt(c)?c(null):c;t.eachItemGraphicEl(function(v,p){var d=v;if(d){var g=[v.x,v.y],m=void 0,y=void 0,x=void 0;if(r)if(o){var b=r,_=a.pointToCoord(g);n?(m=b.startAngle,y=b.endAngle,x=-_[1]/180*Math.PI):(m=b.r0,y=b.r,x=_[0])}else{var S=r;n?(m=S.x,y=S.x+S.width,x=v.x):(m=S.y+S.height,y=S.y,x=v.y)}var M=y===m?0:(x-m)/(y-m);l&&(M=1-M);var I=tt(c)?c(p):h*M+f,C=d.getSymbolPath(),T=C.getTextContent();d.attr({scaleX:0,scaleY:0}),d.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:I}),T&&T.animateFrom({style:{opacity:0}},{duration:300,delay:I}),C.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,a,r){var n=t.getModel("endLabel");if(kr(t)){var o=t.getData(),s=this._polyline,l=o.getLayout("points");if(!l){s.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new pt({z2:200}),u.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var h=qn(l);h>=0&&(Pe(s,ee(t,"endLabel"),{inheritColor:r,labelFetcher:t,labelDataIndex:h,defaultText:function(c,f,v){return v!=null?Tr(o,v):Ne(o,c)},enableTextSetter:!0},Jn(n,a)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,a,r,n,o,s,l){var u=this._endLabel,h=this._polyline;if(u){t<1&&n.originalX==null&&(n.originalX=u.x,n.originalY=u.y);var c=r.getLayout("points"),f=r.hostModel,v=f.get("connectNulls"),p=s.get("precision"),d=s.get("distance")||0,g=l.getBaseAxis(),m=g.isHorizontal(),y=g.inverse,x=a.shape,b=y?m?x.x:x.y+x.height:m?x.x+x.width:x.y,_=(m?d:0)*(y?-1:1),S=(m?0:-d)*(y?-1:1),M=m?"x":"y",I=jn(c,b,M),C=I.range,T=C[1]-C[0],w=void 0;if(T>=1){if(T>1&&!v){var D=ba(c,C[0]);u.attr({x:D[0]+_,y:D[1]+S}),o&&(w=f.getRawValue(C[0]))}else{var D=h.getPointOn(b,M);D&&u.attr({x:D[0]+_,y:D[1]+S});var L=f.getRawValue(C[0]),E=f.getRawValue(C[1]);o&&(w=gi(r,p,L,E,I.t))}n.lastFrameIndex=C[0]}else{var R=t===1||n.lastFrameIndex>0?C[0]:0,D=ba(c,R);o&&(w=f.getRawValue(R)),u.attr({x:D[0]+_,y:D[1]+S})}o&&gr(u).setLabelText(w)}},e.prototype._doUpdateAnimation=function(t,a,r,n,o,s,l){var u=this._polyline,h=this._polygon,c=t.hostModel,f=Bn(this._data,t,this._stackedOnPoints,a,this._coordSys,r,this._valueOrigin),v=f.current,p=f.stackedOnCurrent,d=f.next,g=f.stackedOnNext;if(o&&(v=st(f.current,r,o,l),p=st(f.stackedOnCurrent,r,o,l),d=st(f.next,r,o,l),g=st(f.stackedOnNext,r,o,l)),ya(v,d)>3e3||h&&ya(p,g)>3e3){u.stopAnimation(),u.setShape({points:d}),h&&(h.stopAnimation(),h.setShape({points:d,stackedOnPoints:g}));return}u.shape.__points=f.current,u.shape.points=v;var m={shape:{points:d}};f.current!==v&&(m.shape.__points=f.next),u.stopAnimation(),rt(u,m,c),h&&(h.setShape({points:v,stackedOnPoints:p}),h.stopAnimation(),rt(h,{shape:{stackedOnPoints:g}},c),u.shape.points!==h.shape.points&&(h.shape.points=u.shape.points));for(var y=[],x=f.status,b=0;b<x.length;b++){var _=x[b].cmd;if(_==="="){var S=t.getItemGraphicEl(x[b].idx1);S&&y.push({el:S,ptIdx:b})}}u.animators&&u.animators.length&&u.animators[0].during(function(){h&&h.dirtyShape();for(var M=u.shape.__points,I=0;I<y.length;I++){var C=y[I].el,T=y[I].ptIdx*2;C.x=M[T],C.y=M[T+1],C.markRedraw()}})},e.prototype.remove=function(t){var a=this.group,r=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),r&&r.eachItemGraphicEl(function(n,o){n.__temp&&(a.remove(n),r.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(Wt);const to=Qn;function eo(i,e){return{seriesType:i,plan:yi(),reset:function(t){var a=t.getData(),r=t.coordinateSystem,n=t.pipelineContext,o=e||n.large;if(r){var s=N(r.dimensions,function(v){return a.mapDimension(v)}).slice(0,2),l=s.length,u=a.getCalculationInfo("stackResultDimension");qt(a,s[0])&&(s[0]=u),qt(a,s[1])&&(s[1]=u);var h=a.getStore(),c=a.getDimensionIndex(s[0]),f=a.getDimensionIndex(s[1]);return l&&{progress:function(v,p){for(var d=v.end-v.start,g=o&&_t(d*l),m=[],y=[],x=v.start,b=0;x<v.end;x++){var _=void 0;if(l===1){var S=h.get(c,x);_=r.dataToPoint(S,null,y)}else m[0]=h.get(c,x),m[1]=h.get(f,x),_=r.dataToPoint(m,null,y);o?(g[b++]=_[0],g[b++]=_[1]):p.setItemLayout(x,_.slice())}o&&p.setLayout("points",g)}}}}}}var ao={average:function(i){for(var e=0,t=0,a=0;a<i.length;a++)isNaN(i[a])||(e+=i[a],t++);return t===0?NaN:e/t},sum:function(i){for(var e=0,t=0;t<i.length;t++)e+=i[t]||0;return e},max:function(i){for(var e=-1/0,t=0;t<i.length;t++)i[t]>e&&(e=i[t]);return isFinite(e)?e:NaN},min:function(i){for(var e=1/0,t=0;t<i.length;t++)i[t]<e&&(e=i[t]);return isFinite(e)?e:NaN},nearest:function(i){return i[0]}},ro=function(i){return Math.round(i.length/2)};function zr(i){return{seriesType:i,reset:function(e,t,a){var r=e.getData(),n=e.get("sampling"),o=e.coordinateSystem,s=r.count();if(s>10&&o.type==="cartesian2d"&&n){var l=o.getBaseAxis(),u=o.getOtherAxis(l),h=l.getExtent(),c=a.getDevicePixelRatio(),f=Math.abs(h[1]-h[0])*(c||1),v=Math.round(s/f);if(isFinite(v)&&v>1){n==="lttb"&&e.setData(r.lttbDownSample(r.mapDimension(u.dim),1/v));var p=void 0;Et(n)?p=ao[n]:tt(n)&&(p=n),p&&e.setData(r.downSample(r.mapDimension(u.dim),1/v,p,ro))}}}}}function cl(i){i.registerChartView(to),i.registerSeriesModel(Pn),i.registerLayout(eo("line",!0)),i.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),a=e.getModel("lineStyle").getLineStyle();a&&!a.stroke&&(a.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",a)}}),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,zr("line"))}var Nr=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,a){return ze(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t,a,r){var n=this.coordinateSystem;if(n&&n.clampData){var o=n.clampData(t),s=n.dataToPoint(o);if(r)A(n.getAxes(),function(f,v){if(f.type==="category"&&a!=null){var p=f.getTicksCoords(),d=o[v],g=a[v]==="x1"||a[v]==="y1";if(g&&(d+=1),p.length<2)return;if(p.length===2){s[v]=f.toGlobalCoord(f.getExtent()[g?1:0]);return}for(var m=void 0,y=void 0,x=1,b=0;b<p.length;b++){var _=p[b].coord,S=b===p.length-1?p[b-1].tickValue+x:p[b].tickValue;if(S===d){y=_;break}else if(S<d)m=_;else if(m!=null&&S>d){y=(_+m)/2;break}b===1&&(x=S-p[0].tickValue)}y==null&&(m?m&&(y=p[p.length-1].coord):y=p[0].coord),s[v]=f.toGlobalCoord(y)}});else{var l=this.getData(),u=l.getLayout("offset"),h=l.getLayout("size"),c=n.getBaseAxis().isHorizontal()?0:1;s[c]+=u+h/2}return s}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(Ve);Ve.registerClass(Nr);const Sa=Nr;var io=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(){return ze(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),a=this.get("largeThreshold");return a>t&&(t=a),t},e.prototype.brushSelector=function(t,a,r){return r.rect(a.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=kt(Sa.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(Sa);const no=io;var oo=function(){function i(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return i}(),so=function(i){P(e,i);function e(t){var a=i.call(this,t)||this;return a.type="sausage",a}return e.prototype.getDefaultShape=function(){return new oo},e.prototype.buildPath=function(t,a){var r=a.cx,n=a.cy,o=Math.max(a.r0||0,0),s=Math.max(a.r,0),l=(s-o)*.5,u=o+l,h=a.startAngle,c=a.endAngle,f=a.clockwise,v=Math.PI*2,p=f?c-h<v:h-c<v;p||(h=c-(f?v:-v));var d=Math.cos(h),g=Math.sin(h),m=Math.cos(c),y=Math.sin(c);p?(t.moveTo(d*o+r,g*o+n),t.arc(d*u+r,g*u+n,l,-Math.PI+h,h,!f)):t.moveTo(d*s+r,g*s+n),t.arc(r,n,s,h,c,!f),t.arc(m*u+r,y*u+n,l,c-Math.PI*2,c-Math.PI,!f),o!==0&&t.arc(r,n,o,c,h,f)},e}(ae);const _a=so;function lo(i,e){e=e||{};var t=e.isRoundCap;return function(a,r,n){var o=r.position;if(!o||o instanceof Array)return Qe(a,r,n);var s=i(o),l=r.distance!=null?r.distance:5,u=this.shape,h=u.cx,c=u.cy,f=u.r,v=u.r0,p=(f+v)/2,d=u.startAngle,g=u.endAngle,m=(d+g)/2,y=t?Math.abs(f-v)/2:0,x=Math.cos,b=Math.sin,_=h+f*x(d),S=c+f*b(d),M="left",I="top";switch(s){case"startArc":_=h+(v-l)*x(m),S=c+(v-l)*b(m),M="center",I="top";break;case"insideStartArc":_=h+(v+l)*x(m),S=c+(v+l)*b(m),M="center",I="bottom";break;case"startAngle":_=h+p*x(d)+Bt(d,l+y,!1),S=c+p*b(d)+Gt(d,l+y,!1),M="right",I="middle";break;case"insideStartAngle":_=h+p*x(d)+Bt(d,-l+y,!1),S=c+p*b(d)+Gt(d,-l+y,!1),M="left",I="middle";break;case"middle":_=h+p*x(m),S=c+p*b(m),M="center",I="middle";break;case"endArc":_=h+(f+l)*x(m),S=c+(f+l)*b(m),M="center",I="bottom";break;case"insideEndArc":_=h+(f-l)*x(m),S=c+(f-l)*b(m),M="center",I="top";break;case"endAngle":_=h+p*x(g)+Bt(g,l+y,!0),S=c+p*b(g)+Gt(g,l+y,!0),M="left",I="middle";break;case"insideEndAngle":_=h+p*x(g)+Bt(g,-l+y,!0),S=c+p*b(g)+Gt(g,-l+y,!0),M="right",I="middle";break;default:return Qe(a,r,n)}return a=a||{},a.x=_,a.y=S,a.align=M,a.verticalAlign=I,a}}function uo(i,e,t,a){if(Re(a)){i.setTextConfig({rotation:a});return}else if(G(e)){i.setTextConfig({rotation:0});return}var r=i.shape,n=r.clockwise?r.startAngle:r.endAngle,o=r.clockwise?r.endAngle:r.startAngle,s=(n+o)/2,l,u=t(e);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=n;break;case"endAngle":case"insideEndAngle":l=o;break;default:i.setTextConfig({rotation:0});return}var h=Math.PI*1.5-l;u==="middle"&&h>Math.PI/2&&h<Math.PI*1.5&&(h-=Math.PI),i.setTextConfig({rotation:h})}function Bt(i,e,t){return e*Math.sin(i)*(t?-1:1)}function Gt(i,e,t){return e*Math.cos(i)*(t?1:-1)}var he=Math.max,ce=Math.min;function ho(i,e){var t=i.getArea&&i.getArea();if(Ge(i,"cartesian2d")){var a=i.getBaseAxis();if(a.type!=="category"||!a.onBand){var r=e.getLayout("bandWidth");a.isHorizontal()?(t.x-=r,t.width+=r*2):(t.y-=r,t.height+=r*2)}}return t}var co=function(i){P(e,i);function e(){var t=i.call(this)||this;return t.type=e.type,t._isFirstFrame=!0,t}return e.prototype.render=function(t,a,r,n){this._model=t,this._removeOnRenderedListener(r),this._updateDrawMode(t);var o=t.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,a,r):this._renderNormal(t,a,r,n))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,a){this._progressiveEls=[],this._incrementalRenderLarge(t,a)},e.prototype.eachRendered=function(t){dr(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var a=t.pipelineContext.large;(this._isLargeDraw==null||a!==this._isLargeDraw)&&(this._isLargeDraw=a,this._clear())},e.prototype._renderNormal=function(t,a,r,n){var o=this.group,s=t.getData(),l=this._data,u=t.coordinateSystem,h=u.getBaseAxis(),c;u.type==="cartesian2d"?c=h.isHorizontal():u.type==="polar"&&(c=h.dim==="angle");var f=t.isAnimationEnabled()?t:null,v=vo(t,u);v&&this._enableRealtimeSort(v,s,r);var p=t.get("clip",!0)||v,d=ho(u,s);o.removeClipPath();var g=t.get("roundCap",!0),m=t.get("showBackground",!0),y=t.getModel("backgroundStyle"),x=y.get("borderRadius")||0,b=[],_=this._backgroundEls,S=n&&n.isInitSort,M=n&&n.type==="changeAxisOrder";function I(w){var D=Ht[u.type](s,w),L=bo(u,c,D);return L.useStyle(y.getItemStyle()),u.type==="cartesian2d"?L.setShape("r",x):L.setShape("cornerRadius",x),b[w]=L,L}s.diff(l).add(function(w){var D=s.getItemModel(w),L=Ht[u.type](s,w,D);if(m&&I(w),!(!s.hasValue(w)||!Ia[u.type](L))){var E=!1;p&&(E=Ma[u.type](d,L));var R=Aa[u.type](t,s,w,L,c,f,h.model,!1,g);v&&(R.forceLabelAnimation=!0),Ca(R,s,w,D,L,t,c,u.type==="polar"),S?R.attr({shape:L}):v?wa(v,f,R,L,w,c,!1,!1):ct(R,{shape:L},t,w),s.setItemGraphicEl(w,R),o.add(R),R.ignore=E}}).update(function(w,D){var L=s.getItemModel(w),E=Ht[u.type](s,w,L);if(m){var R=void 0;_.length===0?R=I(D):(R=_[D],R.useStyle(y.getItemStyle()),u.type==="cartesian2d"?R.setShape("r",x):R.setShape("cornerRadius",x),b[w]=R);var H=Ht[u.type](s,w),F=Gr(c,H,u);rt(R,{shape:F},f,w)}var V=l.getItemGraphicEl(D);if(!s.hasValue(w)||!Ia[u.type](E)){o.remove(V);return}var z=!1;if(p&&(z=Ma[u.type](d,E),z&&o.remove(V)),V?fr(V):V=Aa[u.type](t,s,w,E,c,f,h.model,!!V,g),v&&(V.forceLabelAnimation=!0),M){var U=V.getTextContent();if(U){var W=gr(U);W.prevValue!=null&&(W.prevValue=W.value)}}else Ca(V,s,w,L,E,t,c,u.type==="polar");S?V.attr({shape:E}):v?wa(v,f,V,E,w,c,!0,M):rt(V,{shape:E},t,w,null),s.setItemGraphicEl(w,V),V.ignore=z,o.add(V)}).remove(function(w){var D=l.getItemGraphicEl(w);D&&ta(D,t,w)}).execute();var C=this._backgroundGroup||(this._backgroundGroup=new X);C.removeAll();for(var T=0;T<b.length;++T)C.add(b[T]);o.add(C),this._backgroundEls=b,this._data=s},e.prototype._renderLarge=function(t,a,r){this._clear(),Ta(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,a){this._removeBackground(),Ta(a,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var a=t.get("clip",!0)&&Fn(t.coordinateSystem,!1,t),r=this.group;a?r.setClipPath(a):r.removeClipPath()},e.prototype._enableRealtimeSort=function(t,a,r){var n=this;if(a.count()){var o=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(a,t,r),this._isFirstFrame=!1;else{var s=function(l){var u=a.getItemGraphicEl(l),h=u&&u.shape;return h&&Math.abs(o.isHorizontal()?h.height:h.width)||0};this._onRendered=function(){n._updateSortWithinSameData(a,s,o,r)},r.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,a,r){var n=[];return t.each(t.mapDimension(a.dim),function(o,s){var l=r(s);l=l??NaN,n.push({dataIndex:s,mappedValue:l,ordinalNumber:o})}),n.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:N(n,function(o){return o.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(t,a,r){for(var n=r.scale,o=t.mapDimension(r.dim),s=Number.MAX_VALUE,l=0,u=n.getOrdinalMeta().categories.length;l<u;++l){var h=t.rawIndexOf(o,n.getRawOrdinalNumber(l)),c=h<0?Number.MIN_VALUE:a(t.indexOfRawIndex(h));if(c>s)return!0;s=c}return!1},e.prototype._isOrderDifferentInView=function(t,a){for(var r=a.scale,n=r.getExtent(),o=Math.max(0,n[0]),s=Math.min(n[1],r.getOrdinalMeta().categories.length-1);o<=s;++o)if(t.ordinalNumbers[o]!==r.getRawOrdinalNumber(o))return!0},e.prototype._updateSortWithinSameData=function(t,a,r,n){if(this._isOrderChangedWithinSameData(t,a,r)){var o=this._dataSort(t,r,a);this._isOrderDifferentInView(o,r)&&(this._removeOnRenderedListener(n),n.dispatchAction({type:"changeAxisOrder",componentType:r.dim+"Axis",axisId:r.index,sortInfo:o}))}},e.prototype._dispatchInitSort=function(t,a,r){var n=a.baseAxis,o=this._dataSort(t,n,function(s){return t.get(t.mapDimension(a.otherAxis.dim),s)});r.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",isInitSort:!0,axisId:n.index,sortInfo:o})},e.prototype.remove=function(t,a){this._clear(this._model),this._removeOnRenderedListener(a)},e.prototype.dispose=function(t,a){this._removeOnRenderedListener(a)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var a=this.group,r=this._data;t&&t.isAnimationEnabled()&&r&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],r.eachItemGraphicEl(function(n){ta(n,t,ut(n).dataIndex)})):a.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(Wt),Ma={cartesian2d:function(i,e){var t=e.width<0?-1:1,a=e.height<0?-1:1;t<0&&(e.x+=e.width,e.width=-e.width),a<0&&(e.y+=e.height,e.height=-e.height);var r=i.x+i.width,n=i.y+i.height,o=he(e.x,i.x),s=ce(e.x+e.width,r),l=he(e.y,i.y),u=ce(e.y+e.height,n),h=s<o,c=u<l;return e.x=h&&o>r?s:o,e.y=c&&l>n?u:l,e.width=h?0:s-o,e.height=c?0:u-l,t<0&&(e.x+=e.width,e.width=-e.width),a<0&&(e.y+=e.height,e.height=-e.height),h||c},polar:function(i,e){var t=e.r0<=e.r?1:-1;if(t<0){var a=e.r;e.r=e.r0,e.r0=a}var r=ce(e.r,i.r),n=he(e.r0,i.r0);e.r=r,e.r0=n;var o=r-n<0;if(t<0){var a=e.r;e.r=e.r0,e.r0=a}return o}},Aa={cartesian2d:function(i,e,t,a,r,n,o,s,l){var u=new j({shape:Mt({},a),z2:1});if(u.__dataIndex=t,u.name="item",n){var h=u.shape,c=r?"height":"width";h[c]=0}return u},polar:function(i,e,t,a,r,n,o,s,l){var u=!r&&l?_a:Oe,h=new u({shape:a,z2:1});h.name="item";var c=Br(r);if(h.calculateTextPosition=lo(c,{isRoundCap:u===_a}),n){var f=h.shape,v=r?"r":"endAngle",p={};f[v]=r?a.r0:a.startAngle,p[v]=a[v],(s?rt:ct)(h,{shape:p},n)}return h}};function vo(i,e){var t=i.get("realtimeSort",!0),a=e.getBaseAxis();if(t&&a.type==="category"&&e.type==="cartesian2d")return{baseAxis:a,otherAxis:e.getOtherAxis(a)}}function wa(i,e,t,a,r,n,o,s){var l,u;n?(u={x:a.x,width:a.width},l={y:a.y,height:a.height}):(u={y:a.y,height:a.height},l={x:a.x,width:a.width}),s||(o?rt:ct)(t,{shape:l},e,r,null);var h=e?i.baseAxis.model:null;(o?rt:ct)(t,{shape:u},h,r)}function Da(i,e){for(var t=0;t<e.length;t++)if(!isFinite(i[e[t]]))return!0;return!1}var fo=["x","y","width","height"],po=["cx","cy","r","startAngle","endAngle"],Ia={cartesian2d:function(i){return!Da(i,fo)},polar:function(i){return!Da(i,po)}},Ht={cartesian2d:function(i,e,t){var a=i.getItemLayout(e),r=t?mo(t,a):0,n=a.width>0?1:-1,o=a.height>0?1:-1;return{x:a.x+n*r/2,y:a.y+o*r/2,width:a.width-n*r,height:a.height-o*r}},polar:function(i,e,t){var a=i.getItemLayout(e);return{cx:a.cx,cy:a.cy,r0:a.r0,r:a.r,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}}};function go(i){return i.startAngle!=null&&i.endAngle!=null&&i.startAngle===i.endAngle}function Br(i){return function(e){var t=e?"Arc":"Angle";return function(a){switch(a){case"start":case"insideStart":case"end":case"insideEnd":return a+t;default:return a}}}(i)}function Ca(i,e,t,a,r,n,o,s){var l=e.getItemVisual(t,"style");if(s){if(!n.get("roundCap")){var h=i.shape,c=xi(a.getModel("itemStyle"),h,!0);Mt(h,c),i.setShape(h)}}else{var u=a.get(["itemStyle","borderRadius"])||0;i.setShape("r",u)}i.useStyle(l);var f=a.getShallow("cursor");f&&i.attr("cursor",f);var v=s?o?r.r>=r.r0?"endArc":"startArc":r.endAngle>=r.startAngle?"endAngle":"startAngle":o?r.height>=0?"bottom":"top":r.width>=0?"right":"left",p=ee(a);Pe(i,p,{labelFetcher:n,labelDataIndex:t,defaultText:Ne(n.getData(),t),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:v});var d=i.getTextContent();if(s&&d){var g=a.get(["label","position"]);i.textConfig.inside=g==="middle"?!0:null,uo(i,g==="outside"?v:g,Br(o),a.get(["label","rotate"]))}bi(d,p,n.getRawValue(t),function(y){return Tr(e,y)});var m=a.getModel(["emphasis"]);Kt(i,m.get("focus"),m.get("blurScope"),m.get("disabled")),_e(i,a),go(r)&&(i.style.fill="none",i.style.stroke="none",A(i.states,function(y){y.style&&(y.style.fill=y.style.stroke="none")}))}function mo(i,e){var t=i.get(["itemStyle","borderColor"]);if(!t||t==="none")return 0;var a=i.get(["itemStyle","borderWidth"])||0,r=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),n=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(a,r,n)}var yo=function(){function i(){}return i}(),La=function(i){P(e,i);function e(t){var a=i.call(this,t)||this;return a.type="largeBar",a}return e.prototype.getDefaultShape=function(){return new yo},e.prototype.buildPath=function(t,a){for(var r=a.points,n=this.baseDimIdx,o=1-this.baseDimIdx,s=[],l=[],u=this.barWidth,h=0;h<r.length;h+=3)l[n]=u,l[o]=r[h+2],s[n]=r[h+n],s[o]=r[h+o],t.rect(s[0],s[1],l[0],l[1])},e}(ae);function Ta(i,e,t,a){var r=i.getData(),n=r.getLayout("valueAxisHorizontal")?1:0,o=r.getLayout("largeDataIndices"),s=r.getLayout("size"),l=i.getModel("backgroundStyle"),u=r.getLayout("largeBackgroundPoints");if(u){var h=new La({shape:{points:u},incremental:!!a,silent:!0,z2:0});h.baseDimIdx=n,h.largeDataIndices=o,h.barWidth=s,h.useStyle(l.getItemStyle()),e.add(h),t&&t.push(h)}var c=new La({shape:{points:r.getLayout("largePoints")},incremental:!!a,ignoreCoarsePointer:!0,z2:1});c.baseDimIdx=n,c.largeDataIndices=o,c.barWidth=s,e.add(c),c.useStyle(r.getVisual("style")),ut(c).seriesIndex=i.seriesIndex,i.get("silent")||(c.on("mousedown",Va),c.on("mousemove",Va)),t&&t.push(c)}var Va=Si(function(i){var e=this,t=xo(e,i.offsetX,i.offsetY);ut(e).dataIndex=t>=0?t:null},30,!1);function xo(i,e,t){for(var a=i.baseDimIdx,r=1-a,n=i.shape.points,o=i.largeDataIndices,s=[],l=[],u=i.barWidth,h=0,c=n.length/3;h<c;h++){var f=h*3;if(l[a]=u,l[r]=n[f+2],s[a]=n[f+a],s[r]=n[f+r],l[r]<0&&(s[r]+=l[r],l[r]=-l[r]),e>=s[0]&&e<=s[0]+l[0]&&t>=s[1]&&t<=s[1]+l[1])return o[h]}return-1}function Gr(i,e,t){if(Ge(t,"cartesian2d")){var a=e,r=t.getArea();return{x:i?a.x:r.x,y:i?r.y:a.y,width:i?a.width:r.width,height:i?r.height:a.height}}else{var r=t.getArea(),n=e;return{cx:r.cx,cy:r.cy,r0:i?r.r0:n.r0,r:i?r.r:n.r,startAngle:i?n.startAngle:0,endAngle:i?n.endAngle:Math.PI*2}}}function bo(i,e,t){var a=i.type==="polar"?Oe:j;return new a({shape:Gr(e,t,i),silent:!0,z2:0})}const So=co;function vl(i){i.registerChartView(So),i.registerSeriesModel(no),i.registerLayout(i.PRIORITY.VISUAL.LAYOUT,Yt(Mi,"bar")),i.registerLayout(i.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,_i("bar")),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,zr("bar")),i.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,t){var a=e.componentType||"series";t.eachComponent({mainType:a,query:e},function(r){e.sortInfo&&r.axis.setCategorySortInfo(e.sortInfo)})})}var _o=function(i){P(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(re);const Mo=_o;var we=function(i){P(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Q).models[0]},e.type="cartesian2dAxis",e}(re);Ai(we,xn);var Hr={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Ao=q({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Hr),He=q({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Hr),wo=q({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},He),Do=gt({logBase:10},He);const Io={category:Ao,value:He,time:wo,log:Do};var Co={value:1,category:1,time:1,log:1};function Pa(i,e,t,a){A(Co,function(r,n){var o=q(q({},Io[n],!0),a,!0),s=function(l){P(u,l);function u(){var h=l!==null&&l.apply(this,arguments)||this;return h.type=e+"Axis."+n,h}return u.prototype.mergeDefaultAndTheme=function(h,c){var f=wi(this),v=f?yr(h):{},p=c.getTheme();q(h,p.get(n+"Axis")),q(h,this.getDefaultOption()),h.type=Ra(h),f&&Di(h,v,f)},u.prototype.optionUpdated=function(){var h=this.option;h.type==="category"&&(this.__ordinalMeta=Ii.createByAxisModel(this))},u.prototype.getCategories=function(h){var c=this.option;if(c.type==="category")return h?c.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=e+"Axis."+n,u.defaultOption=o,u}(t);i.registerComponentModel(s)}),i.registerSubTypeDefaulter(e+"Axis",Ra)}function Ra(i){return i.type||(i.data?"category":"value")}var Lo=function(){function i(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return i.prototype.getAxis=function(e){return this._axes[e]},i.prototype.getAxes=function(){return N(this._dimList,function(e){return this._axes[e]},this)},i.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),Ci(this.getAxes(),function(t){return t.scale.type===e})},i.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},i}();const To=Lo;var De=["x","y"];function Oa(i){return i.type==="interval"||i.type==="time"}var Vo=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=De,t}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,a=this.getAxis("y").scale;if(!(!Oa(t)||!Oa(a))){var r=t.getExtent(),n=a.getExtent(),o=this.dataToPoint([r[0],n[0]]),s=this.dataToPoint([r[1],n[1]]),l=r[1]-r[0],u=n[1]-n[0];if(!(!l||!u)){var h=(s[0]-o[0])/l,c=(s[1]-o[1])/u,f=o[0]-r[0]*h,v=o[1]-n[0]*c,p=this._transform=[h,0,0,c,f,v];this._invTransform=Li([],p)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var a=this.getAxis("x"),r=this.getAxis("y");return a.contain(a.toLocalCoord(t[0]))&&r.contain(r.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,a){var r=this.dataToPoint(t),n=this.dataToPoint(a),o=this.getArea(),s=new ea(r[0],r[1],n[0]-r[0],n[1]-r[1]);return o.intersect(s)},e.prototype.dataToPoint=function(t,a,r){r=r||[];var n=t[0],o=t[1];if(this._transform&&n!=null&&isFinite(n)&&o!=null&&isFinite(o))return aa(r,t,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return r[0]=s.toGlobalCoord(s.dataToCoord(n,a)),r[1]=l.toGlobalCoord(l.dataToCoord(o,a)),r},e.prototype.clampData=function(t,a){var r=this.getAxis("x").scale,n=this.getAxis("y").scale,o=r.getExtent(),s=n.getExtent(),l=r.parse(t[0]),u=n.parse(t[1]);return a=a||[],a[0]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),a[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),a},e.prototype.pointToData=function(t,a){var r=[];if(this._invTransform)return aa(r,t,this._invTransform);var n=this.getAxis("x"),o=this.getAxis("y");return r[0]=n.coordToData(n.toLocalCoord(t[0]),a),r[1]=o.coordToData(o.toLocalCoord(t[1]),a),r},e.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")},e.prototype.getArea=function(){var t=this.getAxis("x").getGlobalExtent(),a=this.getAxis("y").getGlobalExtent(),r=Math.min(t[0],t[1]),n=Math.min(a[0],a[1]),o=Math.max(t[0],t[1])-r,s=Math.max(a[0],a[1])-n;return new ea(r,n,o,s)},e}(To),Po=function(i){P(e,i);function e(t,a,r,n,o){var s=i.call(this,t,a,r)||this;return s.index=0,s.type=n||"value",s.position=o||"bottom",s}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.getGlobalExtent=function(t){var a=this.getExtent();return a[0]=this.toGlobalCoord(a[0]),a[1]=this.toGlobalCoord(a[1]),t&&a[0]>a[1]&&a.reverse(),a},e.prototype.pointToData=function(t,a){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),a)},e.prototype.setCategorySortInfo=function(t){if(this.type!=="category")return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(Tn);const Ro=Po;var ve=Math.log;function Oo(i,e,t){var a=Ti.prototype,r=a.getTicks.call(t),n=a.getTicks.call(t,!0),o=r.length-1,s=a.getInterval.call(t),l=Vi(i,e),u=l.extent,h=l.fixMin,c=l.fixMax;if(i.type==="log"){var f=ve(i.base);u=[ve(u[0])/f,ve(u[1])/f]}i.setExtent(u[0],u[1]),i.calcNiceExtent({splitNumber:o,fixMin:h,fixMax:c});var v=a.getExtent.call(i);h&&(u[0]=v[0]),c&&(u[1]=v[1]);var p=a.getInterval.call(i),d=u[0],g=u[1];if(h&&c)p=(g-d)/o;else if(h)for(g=u[0]+p*o;g<u[1]&&isFinite(g)&&isFinite(u[1]);)p=ie(p),g=u[0]+p*o;else if(c)for(d=u[1]-p*o;d>u[0]&&isFinite(d)&&isFinite(u[0]);)p=ie(p),d=u[1]-p*o;else{var m=i.getTicks().length-1;m>o&&(p=ie(p));var y=p*o;g=Math.ceil(u[1]/p)*p,d=at(g-y),d<0&&u[0]>=0?(d=0,g=at(y)):g>0&&u[1]<=0&&(g=0,d=-at(y))}var x=(r[0].value-n[0].value)/s,b=(r[o].value-n[o].value)/s;a.setExtent.call(i,d+p*x,g+p*b),a.setInterval.call(i,p),(x||b)&&a.setNiceExtent.call(i,d+p,g-p)}var Eo=function(){function i(e,t,a){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=De,this._initCartesian(e,t,a),this.model=e}return i.prototype.getRect=function(){return this._rect},i.prototype.update=function(e,t){var a=this._axesMap;this._updateScale(e,this.model);function r(o){var s,l=xr(o),u=l.length;if(u){for(var h=[],c=u-1;c>=0;c--){var f=+l[c],v=o[f],p=v.model,d=v.scale;Me(d)&&p.get("alignTicks")&&p.get("interval")==null?h.push(v):(na(d,p),Me(d)&&(s=v))}h.length&&(s||(s=h.pop(),na(s.scale,s.model)),A(h,function(g){Oo(g.scale,g.model,s.scale)}))}}r(a.x),r(a.y);var n={};A(a.x,function(o){Ea(a,"y",o,n)}),A(a.y,function(o){Ea(a,"x",o,n)}),this.resize(this.model,t)},i.prototype.resize=function(e,t,a){var r=e.getBoxLayoutParams(),n=!a&&e.get("containLabel"),o=Ee(r,{width:t.getWidth(),height:t.getHeight()});this._rect=o;var s=this._axesList;l(),n&&(A(s,function(u){if(!u.model.get(["axisLabel","inside"])){var h=Pi(u);if(h){var c=u.isHorizontal()?"height":"width",f=u.model.get(["axisLabel","margin"]);o[c]-=h[c]+f,u.position==="top"?o.y+=h.height+f:u.position==="left"&&(o.x+=h.width+f)}}}),l()),A(this._coordsList,function(u){u.calcAffineTransform()});function l(){A(s,function(u){var h=u.isHorizontal(),c=h?[0,o.width]:[0,o.height],f=u.inverse?1:0;u.setExtent(c[f],c[1-f]),ko(u,h?o.x:o.y)})}},i.prototype.getAxis=function(e,t){var a=this._axesMap[e];if(a!=null)return a[t||0]},i.prototype.getAxes=function(){return this._axesList.slice()},i.prototype.getCartesian=function(e,t){if(e!=null&&t!=null){var a="x"+e+"y"+t;return this._coordsMap[a]}it(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var r=0,n=this._coordsList;r<n.length;r++)if(n[r].getAxis("x").index===e||n[r].getAxis("y").index===t)return n[r]},i.prototype.getCartesians=function(){return this._coordsList.slice()},i.prototype.convertToPixel=function(e,t,a){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.dataToPoint(a):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(a)):null},i.prototype.convertFromPixel=function(e,t,a){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.pointToData(a):r.axis?r.axis.coordToData(r.axis.toLocalCoord(a)):null},i.prototype._findConvertTarget=function(e){var t=e.seriesModel,a=e.xAxisModel||t&&t.getReferringComponents("xAxis",Q).models[0],r=e.yAxisModel||t&&t.getReferringComponents("yAxis",Q).models[0],n=e.gridModel,o=this._coordsList,s,l;if(t)s=t.coordinateSystem,Tt(o,s)<0&&(s=null);else if(a&&r)s=this.getCartesian(a.componentIndex,r.componentIndex);else if(a)l=this.getAxis("x",a.componentIndex);else if(r)l=this.getAxis("y",r.componentIndex);else if(n){var u=n.coordinateSystem;u===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},i.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},i.prototype._initCartesian=function(e,t,a){var r=this,n=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(t.eachComponent("xAxis",u("x"),this),t.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,A(s.x,function(h,c){A(s.y,function(f,v){var p="x"+c+"y"+v,d=new Vo(p);d.master=r,d.model=e,r._coordsMap[p]=d,r._coordsList.push(d),d.addAxis(h),d.addAxis(f)})});function u(h){return function(c,f){if(fe(c,e)){var v=c.get("position");h==="x"?v!=="top"&&v!=="bottom"&&(v=o.bottom?"top":"bottom"):v!=="left"&&v!=="right"&&(v=o.left?"right":"left"),o[v]=!0;var p=new Ro(h,Ri(c),[0,0],c.get("type"),v),d=p.type==="category";p.onBand=d&&c.get("boundaryGap"),p.inverse=c.get("inverse"),c.axis=p,p.model=c,p.grid=n,p.index=f,n._axesList.push(p),s[h][f]=p,l[h]++}}}},i.prototype._updateScale=function(e,t){A(this._axesList,function(r){if(r.scale.setExtent(1/0,-1/0),r.type==="category"){var n=r.model.get("categorySortInfo");r.scale.setSortInfo(n)}}),e.eachSeries(function(r){if(ra(r)){var n=ia(r),o=n.xAxisModel,s=n.yAxisModel;if(!fe(o,t)||!fe(s,t))return;var l=this.getCartesian(o.componentIndex,s.componentIndex),u=r.getData(),h=l.getAxis("x"),c=l.getAxis("y");a(u,h),a(u,c)}},this);function a(r,n){A(Oi(r,n.dim),function(o){n.scale.unionExtentFromData(r,o)})}},i.prototype.getTooltipAxes=function(e){var t=[],a=[];return A(this.getCartesians(),function(r){var n=e!=null&&e!=="auto"?r.getAxis(e):r.getBaseAxis(),o=r.getOtherAxis(n);Tt(t,n)<0&&t.push(n),Tt(a,o)<0&&a.push(o)}),{baseAxes:t,otherAxes:a}},i.create=function(e,t){var a=[];return e.eachComponent("grid",function(r,n){var o=new i(r,e,t);o.name="grid_"+n,o.resize(r,t,!0),r.coordinateSystem=o,a.push(o)}),e.eachSeries(function(r){if(ra(r)){var n=ia(r),o=n.xAxisModel,s=n.yAxisModel,l=o.getCoordSysModel(),u=l.coordinateSystem;r.coordinateSystem=u.getCartesian(o.componentIndex,s.componentIndex)}}),a},i.dimensions=De,i}();function fe(i,e){return i.getCoordSysModel()===e}function Ea(i,e,t,a){t.getAxesOnZeroOf=function(){return n?[n]:[]};var r=i[e],n,o=t.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)ka(r[l])&&(n=r[l]);else for(var u in r)if(r.hasOwnProperty(u)&&ka(r[u])&&!a[h(r[u])]){n=r[u];break}n&&(a[h(n)]=!0);function h(c){return c.dim+"_"+c.index}}function ka(i){return i&&i.type!=="category"&&i.type!=="time"&&Ei(i)}function ko(i,e){var t=i.getExtent(),a=t[0]+t[1];i.toGlobalCoord=i.dim==="x"?function(r){return r+e}:function(r){return a-r+e},i.toLocalCoord=i.dim==="x"?function(r){return r-e}:function(r){return a-r+e}}const zo=Eo;var Ie=Te();function No(i,e,t,a){var r=t.axis;if(!r.scale.isBlank()){var n=t.getModel("splitArea"),o=n.getModel("areaStyle"),s=o.get("color"),l=a.coordinateSystem.getRect(),u=r.getTicksCoords({tickModel:n,clamp:!0});if(u.length){var h=s.length,c=Ie(i).splitAreaColors,f=et(),v=0;if(c)for(var p=0;p<u.length;p++){var d=c.get(u[p].tickValue);if(d!=null){v=(d+(h-1)*p)%h;break}}var g=r.toGlobalCoord(u[0].coord),m=o.getAreaStyle();s=G(s)?s:[s];for(var p=1;p<u.length;p++){var y=r.toGlobalCoord(u[p].coord),x=void 0,b=void 0,_=void 0,S=void 0;r.isHorizontal()?(x=g,b=l.y,_=y-x,S=l.height,g=x+_):(x=l.x,b=g,_=l.width,S=y-b,g=b+S);var M=u[p-1].tickValue;M!=null&&f.set(M,v),e.add(new j({anid:M!=null?"area_"+M:null,shape:{x,y:b,width:_,height:S},style:gt({fill:s[v]},m),autoBatch:!0,silent:!0})),v=(v+1)%h}Ie(i).splitAreaColors=f}}}function Bo(i){Ie(i).splitAreaColors=null}var Go=["axisLine","axisTickLabel","axisName"],Ho=["splitArea","splitLine","minorSplitLine"],Zr=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return e.prototype.render=function(t,a,r,n){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new X,this.group.add(this._axisGroup),!!t.get("show")){var s=t.getCoordSysModel(),l=ki(s,t),u=new zi(t,Mt({handleAutoShown:function(c){for(var f=s.coordinateSystem.getCartesians(),v=0;v<f.length;v++)if(Me(f[v].getOtherAxis(t.axis).scale))return!0;return!1}},l));A(Go,u.add,u),this._axisGroup.add(u.getGroup()),A(Ho,function(c){t.get([c,"show"])&&Zo[c](this,this._axisGroup,t,s)},this);var h=n&&n.type==="changeAxisOrder"&&n.isInitSort;h||Ni(o,this._axisGroup,t),i.prototype.render.call(this,t,a,r,n)}},e.prototype.remove=function(){Bo(this)},e.type="cartesianAxis",e}(Bi),Zo={splitLine:function(i,e,t,a){var r=t.axis;if(!r.scale.isBlank()){var n=t.getModel("splitLine"),o=n.getModel("lineStyle"),s=o.get("color");s=G(s)?s:[s];for(var l=a.coordinateSystem.getRect(),u=r.isHorizontal(),h=0,c=r.getTicksCoords({tickModel:n}),f=[],v=[],p=o.getLineStyle(),d=0;d<c.length;d++){var g=r.toGlobalCoord(c[d].coord);u?(f[0]=g,f[1]=l.y,v[0]=g,v[1]=l.y+l.height):(f[0]=l.x,f[1]=g,v[0]=l.x+l.width,v[1]=g);var m=h++%s.length,y=c[d].tickValue,x=new oa({anid:y!=null?"line_"+c[d].tickValue:null,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:v[0],y2:v[1]},style:gt({stroke:s[m]},p),silent:!0});sa(x.shape,p.lineWidth),e.add(x)}}},minorSplitLine:function(i,e,t,a){var r=t.axis,n=t.getModel("minorSplitLine"),o=n.getModel("lineStyle"),s=a.coordinateSystem.getRect(),l=r.isHorizontal(),u=r.getMinorTicksCoords();if(u.length)for(var h=[],c=[],f=o.getLineStyle(),v=0;v<u.length;v++)for(var p=0;p<u[v].length;p++){var d=r.toGlobalCoord(u[v][p].coord);l?(h[0]=d,h[1]=s.y,c[0]=d,c[1]=s.y+s.height):(h[0]=s.x,h[1]=d,c[0]=s.x+s.width,c[1]=d);var g=new oa({anid:"minor_line_"+u[v][p].tickValue,autoBatch:!0,shape:{x1:h[0],y1:h[1],x2:c[0],y2:c[1]},style:f,silent:!0});sa(g.shape,f.lineWidth),e.add(g)}},splitArea:function(i,e,t,a){No(i,e,t,a)}},Fr=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="xAxis",e}(Zr),Fo=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=Fr.type,t}return e.type="yAxis",e}(Zr),Wo=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="grid",t}return e.prototype.render=function(t,a){this.group.removeAll(),t.get("show")&&this.group.add(new j({shape:t.coordinateSystem.getRect(),style:gt({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(ke),za={offset:0};function $o(i){i.registerComponentView(Wo),i.registerComponentModel(Mo),i.registerCoordinateSystem("cartesian2d",zo),Pa(i,"x",we,za),Pa(i,"y",we,za),i.registerComponentView(Fr),i.registerComponentView(Fo),i.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}var Na="\0_ec_interaction_mutex";function fl(i,e,t){var a=Ze(i);a[e]=t}function pl(i,e,t){var a=Ze(i),r=a[e];r===t&&(a[e]=null)}function Ba(i,e){return!!Ze(i)[e]}function Ze(i){return i[Na]||(i[Na]={})}Gi({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},br);var Xo=function(i){P(e,i);function e(t){var a=i.call(this)||this;a._zr=t;var r=O(a._mousedownHandler,a),n=O(a._mousemoveHandler,a),o=O(a._mouseupHandler,a),s=O(a._mousewheelHandler,a),l=O(a._pinchHandler,a);return a.enable=function(u,h){this.disable(),this._opt=gt($(h)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),u==null&&(u=!0),(u===!0||u==="move"||u==="pan")&&(t.on("mousedown",r),t.on("mousemove",n),t.on("mouseup",o)),(u===!0||u==="scale"||u==="zoom")&&(t.on("mousewheel",s),t.on("pinch",l))},a.disable=function(){t.off("mousedown",r),t.off("mousemove",n),t.off("mouseup",o),t.off("mousewheel",s),t.off("pinch",l)},a}return e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!la(t)){for(var a=t.target;a;){if(a.draggable)return;a=a.__hostTarget||a.parent}var r=t.offsetX,n=t.offsetY;this.pointerChecker&&this.pointerChecker(t,r,n)&&(this._x=r,this._y=n,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(!(!this._dragging||!Xt("moveOnMouseMove",t,this._opt)||t.gestureEvent==="pinch"||Ba(this._zr,"globalPan"))){var a=t.offsetX,r=t.offsetY,n=this._x,o=this._y,s=a-n,l=r-o;this._x=a,this._y=r,this._opt.preventDefaultMouseMove&&mt(t.event),Wr(this,"pan","moveOnMouseMove",t,{dx:s,dy:l,oldX:n,oldY:o,newX:a,newY:r,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){la(t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var a=Xt("zoomOnMouseWheel",t,this._opt),r=Xt("moveOnMouseWheel",t,this._opt),n=t.wheelDelta,o=Math.abs(n),s=t.offsetX,l=t.offsetY;if(!(n===0||!a&&!r)){if(a){var u=o>3?1.4:o>1?1.2:1.1,h=n>0?u:1/u;pe(this,"zoom","zoomOnMouseWheel",t,{scale:h,originX:s,originY:l,isAvailableBehavior:null})}if(r){var c=Math.abs(n),f=(n>0?1:-1)*(c>3?.4:c>1?.15:.05);pe(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:f,originX:s,originY:l,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){if(!Ba(this._zr,"globalPan")){var a=t.pinchScale>1?1.1:1/1.1;pe(this,"zoom",null,t,{scale:a,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})}},e}(Hi);function pe(i,e,t,a,r){i.pointerChecker&&i.pointerChecker(a,r.originX,r.originY)&&(mt(a.event),Wr(i,e,t,a,r))}function Wr(i,e,t,a,r){r.isAvailableBehavior=O(Xt,null,t,a),i.trigger(e,r)}function Xt(i,e,t){var a=t[i];return!i||a&&(!Et(a)||e.event[a+"Key"])}const Uo=Xo;var Ot=A,Yo=it,jt=-1,Fe=function(){function i(e){var t=e.mappingMethod,a=e.type,r=this.option=$(e);this.type=a,this.mappingMethod=t,this._normalizeData=jo[t];var n=i.visualHandlers[a];this.applyVisual=n.applyVisual,this.getColorMapper=n.getColorMapper,this._normalizedToVisual=n._normalizedToVisual[t],t==="piecewise"?(de(r),Ko(r)):t==="category"?r.categories?qo(r):de(r,!0):(Zi(t!=="linear"||r.dataExtent),de(r))}return i.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},i.prototype.getNormalizer=function(){return O(this._normalizeData,this)},i.listVisualTypes=function(){return xr(i.visualHandlers)},i.isValidType=function(e){return i.visualHandlers.hasOwnProperty(e)},i.eachVisual=function(e,t,a){it(e)?A(e,t,a):t.call(a,e)},i.mapVisual=function(e,t,a){var r,n=G(e)?[]:it(e)?{}:(r=!0,null);return i.eachVisual(e,function(o,s){var l=t.call(a,o,s);r?n=l:n[s]=l}),n},i.retrieveVisuals=function(e){var t={},a;return e&&Ot(i.visualHandlers,function(r,n){e.hasOwnProperty(n)&&(t[n]=e[n],a=!0)}),a?t:null},i.prepareVisualTypes=function(e){if(G(e))e=e.slice();else if(Yo(e)){var t=[];Ot(e,function(a,r){t.push(r)}),e=t}else return[];return e.sort(function(a,r){return r==="color"&&a!=="color"&&a.indexOf("color")===0?1:-1}),e},i.dependsOn=function(e,t){return t==="color"?!!(e&&e.indexOf(t)===0):e===t},i.findPieceIndex=function(e,t,a){for(var r,n=1/0,o=0,s=t.length;o<s;o++){var l=t[o].value;if(l!=null){if(l===e||Et(l)&&l===e+"")return o;a&&f(l,o)}}for(var o=0,s=t.length;o<s;o++){var u=t[o],h=u.interval,c=u.close;if(h){if(h[0]===-1/0){if(Ft(c[1],e,h[1]))return o}else if(h[1]===1/0){if(Ft(c[0],h[0],e))return o}else if(Ft(c[0],h[0],e)&&Ft(c[1],e,h[1]))return o;a&&f(h[0],o),a&&f(h[1],o)}}if(a)return e===1/0?t.length-1:e===-1/0?0:r;function f(v,p){var d=Math.abs(v-e);d<n&&(n=d,r=p)}},i.visualHandlers={color:{applyVisual:Dt("color"),getColorMapper:function(){var e=this.option;return O(e.mappingMethod==="category"?function(t,a){return!a&&(t=this._normalizeData(t)),Lt.call(this,t)}:function(t,a,r){var n=!!r;return!a&&(t=this._normalizeData(t)),r=ne(t,e.parsedVisual,r),n?r:oe(r,"rgba")},this)},_normalizedToVisual:{linear:function(e){return oe(ne(e,this.option.parsedVisual),"rgba")},category:Lt,piecewise:function(e,t){var a=Le.call(this,t);return a==null&&(a=oe(ne(e,this.option.parsedVisual),"rgba")),a},fixed:vt}},colorHue:Zt(function(e,t){return se(e,t)}),colorSaturation:Zt(function(e,t){return se(e,null,t)}),colorLightness:Zt(function(e,t){return se(e,null,null,t)}),colorAlpha:Zt(function(e,t){return Wi(e,t)}),decal:{applyVisual:Dt("decal"),_normalizedToVisual:{linear:null,category:Lt,piecewise:null,fixed:null}},opacity:{applyVisual:Dt("opacity"),_normalizedToVisual:Ce([0,1])},liftZ:{applyVisual:Dt("liftZ"),_normalizedToVisual:{linear:vt,category:vt,piecewise:vt,fixed:vt}},symbol:{applyVisual:function(e,t,a){var r=this.mapValueToVisual(e);a("symbol",r)},_normalizedToVisual:{linear:Ga,category:Lt,piecewise:function(e,t){var a=Le.call(this,t);return a==null&&(a=Ga.call(this,e)),a},fixed:vt}},symbolSize:{applyVisual:Dt("symbolSize"),_normalizedToVisual:Ce([0,1])}},i}();function Ko(i){var e=i.pieceList;i.hasSpecialVisual=!1,A(e,function(t,a){t.originIndex=a,t.visual!=null&&(i.hasSpecialVisual=!0)})}function qo(i){var e=i.categories,t=i.categoryMap={},a=i.visual;if(Ot(e,function(o,s){t[o]=s}),!G(a)){var r=[];it(a)?Ot(a,function(o,s){var l=t[s];r[l??jt]=o}):r[jt]=a,a=$r(i,r)}for(var n=e.length-1;n>=0;n--)a[n]==null&&(delete t[e[n]],e.pop())}function de(i,e){var t=i.visual,a=[];it(t)?Ot(t,function(n){a.push(n)}):t!=null&&a.push(t);var r={color:1,symbol:1};!e&&a.length===1&&!r.hasOwnProperty(i.type)&&(a[1]=a[0]),$r(i,a)}function Zt(i){return{applyVisual:function(e,t,a){var r=this.mapValueToVisual(e);a("color",i(t("color"),r))},_normalizedToVisual:Ce([0,1])}}function Ga(i){var e=this.option.visual;return e[Math.round(k(i,[0,1],[0,e.length-1],!0))]||{}}function Dt(i){return function(e,t,a){a(i,this.mapValueToVisual(e))}}function Lt(i){var e=this.option.visual;return e[this.option.loop&&i!==jt?i%e.length:i]}function vt(){return this.option.visual[0]}function Ce(i){return{linear:function(e){return k(e,i,this.option.visual,!0)},category:Lt,piecewise:function(e,t){var a=Le.call(this,t);return a==null&&(a=k(e,i,this.option.visual,!0)),a},fixed:vt}}function Le(i){var e=this.option,t=e.pieceList;if(e.hasSpecialVisual){var a=Fe.findPieceIndex(i,t),r=t[a];if(r&&r.visual)return r.visual[this.type]}}function $r(i,e){return i.visual=e,i.type==="color"&&(i.parsedVisual=N(e,function(t){var a=Fi(t);return a||[0,0,0,1]})),e}var jo={linear:function(i){return k(i,this.option.dataExtent,[0,1],!0)},piecewise:function(i){var e=this.option.pieceList,t=Fe.findPieceIndex(i,e,!0);if(t!=null)return k(t,[0,e.length-1],[0,1],!0)},category:function(i){var e=this.option.categories?this.option.categoryMap[i]:i;return e??jt},fixed:br};function Ft(i,e,t){return i?e<=t:e<t}const Z=Fe;function zt(i,e,t,a,r,n){i=i||0;var o=t[1]-t[0];if(r!=null&&(r=xt(r,[0,o])),n!=null&&(n=Math.max(n,r??0)),a==="all"){var s=Math.abs(e[1]-e[0]);s=xt(s,[0,o]),r=n=xt(s,[r,n]),a=0}e[0]=xt(e[0],t),e[1]=xt(e[1],t);var l=ge(e,a);e[a]+=i;var u=r||0,h=t.slice();l.sign<0?h[0]+=u:h[1]-=u,e[a]=xt(e[a],h);var c;return c=ge(e,a),r!=null&&(c.sign!==l.sign||c.span<r)&&(e[1-a]=e[a]+l.sign*r),c=ge(e,a),n!=null&&c.span>n&&(e[1-a]=e[a]+c.sign*n),e}function ge(i,e){var t=i[e]-i[1-e];return{span:Math.abs(t),sign:t>0?-1:t<0?1:e?-1:1}}function xt(i,e){return Math.min(e[1]!=null?e[1]:1/0,Math.max(e[0]!=null?e[0]:-1/0,i))}function dl(i){At($o),At($i)}var Ha=["x","y","radius","angle","single"],Jo=["cartesian2d","polar","singleAxis"];function Qo(i){var e=i.get("coordinateSystem");return Tt(Jo,e)>=0}function lt(i){return i+"Axis"}function ts(i,e){var t=et(),a=[],r=et();i.eachComponent({mainType:"dataZoom",query:e},function(h){r.get(h.uid)||s(h)});var n;do n=!1,i.eachComponent("dataZoom",o);while(n);function o(h){!r.get(h.uid)&&l(h)&&(s(h),n=!0)}function s(h){r.set(h.uid,!0),a.push(h),u(h)}function l(h){var c=!1;return h.eachTargetAxis(function(f,v){var p=t.get(f);p&&p[v]&&(c=!0)}),c}function u(h){h.eachTargetAxis(function(c,f){(t.get(c)||t.set(c,[]))[f]=!0})}return a}function Xr(i){var e=i.ecModel,t={infoList:[],infoMap:et()};return i.eachTargetAxis(function(a,r){var n=e.getComponent(lt(a),r);if(n){var o=n.getCoordSysModel();if(o){var s=o.uid,l=t.infoMap.get(s);l||(l={model:o,axisModels:[]},t.infoList.push(l),t.infoMap.set(s,l)),l.axisModels.push(n)}}}),t}var me=function(){function i(){this.indexList=[],this.indexMap=[]}return i.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},i}(),es=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}return e.prototype.init=function(t,a,r){var n=Za(t);this.settledOption=n,this.mergeDefaultAndTheme(t,r),this._doInit(n)},e.prototype.mergeOption=function(t){var a=Za(t);q(this.option,t,!0),q(this.settledOption,a,!0),this._doInit(a)},e.prototype._doInit=function(t){var a=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var r=this.settledOption;A([["start","startValue"],["end","endValue"]],function(n,o){this._rangePropMode[o]==="value"&&(a[n[0]]=r[n[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),a=this._targetAxisInfoMap=et(),r=this._fillSpecifiedTargetAxis(a);r?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(a,this._orient)),this._noTarget=!0,a.each(function(n){n.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(t){var a=!1;return A(Ha,function(r){var n=this.getReferringComponents(lt(r),Xi);if(n.specified){a=!0;var o=new me;A(n.models,function(s){o.add(s.componentIndex)}),t.set(r,o)}},this),a},e.prototype._fillAutoTargetAxisByOrient=function(t,a){var r=this.ecModel,n=!0;if(n){var o=a==="vertical"?"y":"x",s=r.findComponents({mainType:o+"Axis"});l(s,o)}if(n){var s=r.findComponents({mainType:"singleAxis",filter:function(h){return h.get("orient",!0)===a}});l(s,"single")}function l(u,h){var c=u[0];if(c){var f=new me;if(f.add(c.componentIndex),t.set(h,f),n=!1,h==="x"||h==="y"){var v=c.getReferringComponents("grid",Q).models[0];v&&A(u,function(p){c.componentIndex!==p.componentIndex&&v===p.getReferringComponents("grid",Q).models[0]&&f.add(p.componentIndex)})}}}n&&A(Ha,function(u){if(n){var h=r.findComponents({mainType:lt(u),filter:function(f){return f.get("type",!0)==="category"}});if(h[0]){var c=new me;c.add(h[0].componentIndex),t.set(u,c),n=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(a){!t&&(t=a)},this),t==="y"?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var a=this.ecModel.option;this.option.throttle=a.animation&&a.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var a=this._rangePropMode,r=this.get("rangeMode");A([["start","startValue"],["end","endValue"]],function(n,o){var s=t[n[0]]!=null,l=t[n[1]]!=null;s&&!l?a[o]="percent":!s&&l?a[o]="value":r?a[o]=r[o]:s&&(a[o]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(a,r){t==null&&(t=this.ecModel.getComponent(lt(a),r))},this),t},e.prototype.eachTargetAxis=function(t,a){this._targetAxisInfoMap.each(function(r,n){A(r.indexList,function(o){t.call(a,n,o)})})},e.prototype.getAxisProxy=function(t,a){var r=this.getAxisModel(t,a);if(r)return r.__dzAxisProxy},e.prototype.getAxisModel=function(t,a){var r=this._targetAxisInfoMap.get(t);if(r&&r.indexMap[a])return this.ecModel.getComponent(lt(t),a)},e.prototype.setRawRange=function(t){var a=this.option,r=this.settledOption;A([["start","startValue"],["end","endValue"]],function(n){(t[n[0]]!=null||t[n[1]]!=null)&&(a[n[0]]=r[n[0]]=t[n[0]],a[n[1]]=r[n[1]]=t[n[1]])},this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var a=this.option;A(["start","startValue","end","endValue"],function(r){a[r]=t[r]})},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,a){if(t==null&&a==null){var r=this.findRepresentativeAxisProxy();if(r)return r.getDataValueWindow()}else return this.getAxisProxy(t,a).getDataValueWindow()},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var a,r=this._targetAxisInfoMap.keys(),n=0;n<r.length;n++)for(var o=r[n],s=this._targetAxisInfoMap.get(o),l=0;l<s.indexList.length;l++){var u=this.getAxisProxy(o,s.indexList[l]);if(u.hostedBy(this))return u;a||(a=u)}return a},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(re);function Za(i){var e={};return A(["start","end","startValue","endValue","throttle"],function(t){i.hasOwnProperty(t)&&(e[t]=i[t])}),e}const Jt=es;var as=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,a,r,n){this.dataZoomModel=t,this.ecModel=a,this.api=r},e.type="dataZoom",e}(ke);const Ur=as;var St=A,Fa=ft,rs=function(){function i(e,t,a,r){this._dimName=e,this._axisIndex=t,this.ecModel=r,this._dataZoomModel=a}return i.prototype.hostedBy=function(e){return this._dataZoomModel===e},i.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},i.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},i.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(t){if(Qo(t)){var a=lt(this._dimName),r=t.getReferringComponents(a,Q).models[0];r&&this._axisIndex===r.componentIndex&&e.push(t)}},this),e},i.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},i.prototype.getMinMaxSpan=function(){return $(this._minMaxSpan)},i.prototype.calculateDataWindow=function(e){var t=this._dataExtent,a=this.getAxisModel(),r=a.axis.scale,n=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],l=[],u;St(["start","end"],function(f,v){var p=e[f],d=e[f+"Value"];n[v]==="percent"?(p==null&&(p=o[v]),d=r.parse(k(p,o,t))):(u=!0,d=d==null?t[v]:r.parse(d),p=k(d,t,o)),l[v]=d==null||isNaN(d)?t[v]:d,s[v]=p==null||isNaN(p)?o[v]:p}),Fa(l),Fa(s);var h=this._minMaxSpan;u?c(l,s,t,o,!1):c(s,l,o,t,!0);function c(f,v,p,d,g){var m=g?"Span":"ValueSpan";zt(0,f,p,"all",h["min"+m],h["max"+m]);for(var y=0;y<2;y++)v[y]=k(f[y],p,d,!0),g&&(v[y]=r.parse(v[y]))}return{valueWindow:l,percentWindow:s}},i.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=is(this,this._dimName,t),this._updateMinMaxSpan();var a=this.calculateDataWindow(e.settledOption);this._valueWindow=a.valueWindow,this._percentWindow=a.percentWindow,this._setAxisModel()}},i.prototype.filterData=function(e,t){if(e!==this._dataZoomModel)return;var a=this._dimName,r=this.getTargetSeriesModels(),n=e.get("filterMode"),o=this._valueWindow;if(n==="none")return;St(r,function(l){var u=l.getData(),h=u.mapDimensionsAll(a);if(h.length){if(n==="weakFilter"){var c=u.getStore(),f=N(h,function(v){return u.getDimensionIndex(v)},u);u.filterSelf(function(v){for(var p,d,g,m=0;m<h.length;m++){var y=c.get(f[m],v),x=!isNaN(y),b=y<o[0],_=y>o[1];if(x&&!b&&!_)return!0;x&&(g=!0),b&&(p=!0),_&&(d=!0)}return g&&p&&d})}else St(h,function(v){if(n==="empty")l.setData(u=u.map(v,function(d){return s(d)?d:NaN}));else{var p={};p[v]=o,u.selectRange(p)}});St(h,function(v){u.setApproximateExtent(o,v)})}});function s(l){return l>=o[0]&&l<=o[1]}},i.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,a=this._dataExtent;St(["min","max"],function(r){var n=t.get(r+"Span"),o=t.get(r+"ValueSpan");o!=null&&(o=this.getAxisModel().axis.scale.parse(o)),o!=null?n=k(a[0]+o,a,[0,100],!0):n!=null&&(o=k(n,[0,100],a,!0)-a[0]),e[r+"Span"]=n,e[r+"ValueSpan"]=o},this)},i.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,a=this._valueWindow;if(t){var r=vr(a,[0,500]);r=Math.min(r,20);var n=e.axis.scale.rawExtentInfo;t[0]!==0&&n.setDeterminedMinMax("min",+a[0].toFixed(r)),t[1]!==100&&n.setDeterminedMinMax("max",+a[1].toFixed(r)),n.freeze()}},i}();function is(i,e,t){var a=[1/0,-1/0];St(t,function(o){Ui(a,o.getData(),e)});var r=i.getAxisModel(),n=Yi(r.axis.scale,r,a).calculate();return[n.min,n.max]}const ns=rs;var os={getTargetSeries:function(i){function e(r){i.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(o,s){var l=i.getComponent(lt(o),s);r(o,s,l,n)})})}e(function(r,n,o,s){o.__dzAxisProxy=null});var t=[];e(function(r,n,o,s){o.__dzAxisProxy||(o.__dzAxisProxy=new ns(r,n,s,i),t.push(o.__dzAxisProxy))});var a=et();return A(t,function(r){A(r.getTargetSeriesModels(),function(n){a.set(n.uid,n)})}),a},overallReset:function(i,e){i.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(a,r){t.getAxisProxy(a,r).reset(t)}),t.eachTargetAxis(function(a,r){t.getAxisProxy(a,r).filterData(t,e)})}),i.eachComponent("dataZoom",function(t){var a=t.findRepresentativeAxisProxy();if(a){var r=a.getDataPercentWindow(),n=a.getDataValueWindow();t.setCalculatedRange({start:r[0],end:r[1],startValue:n[0],endValue:n[1]})}})}};const ss=os;function ls(i){i.registerAction("dataZoom",function(e,t){var a=ts(t,e);A(a,function(r){r.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}var Wa=!1;function Yr(i){Wa||(Wa=!0,i.registerProcessor(i.PRIORITY.PROCESSOR.FILTER,ss),ls(i),i.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}var $a=A;function Xa(i){if(i){for(var e in i)if(i.hasOwnProperty(e))return!0}}function Ua(i,e,t){var a={};return $a(e,function(n){var o=a[n]=r();$a(i[n],function(s,l){if(Z.isValidType(l)){var u={type:l,visual:s};t&&t(u,n),o[l]=new Z(u),l==="opacity"&&(u=$(u),u.type="colorAlpha",o.__hidden.__alphaForOpacity=new Z(u))}})}),a;function r(){var n=function(){};n.prototype.__hidden=n.prototype;var o=new n;return o}}function us(i,e,t){var a;A(t,function(r){e.hasOwnProperty(r)&&Xa(e[r])&&(a=!0)}),a&&A(t,function(r){e.hasOwnProperty(r)&&Xa(e[r])?i[r]=$(e[r]):delete i[r]})}function hs(i,e,t,a){var r={};return A(i,function(n){var o=Z.prepareVisualTypes(e[n]);r[n]=o}),{progress:function(o,s){var l;a!=null&&(l=s.getDimensionIndex(a));function u(_){return Ki(s,c,_)}function h(_,S){qi(s,c,_,S)}for(var c,f=s.getStore();(c=o.next())!=null;){var v=s.getRawDataItem(c);if(!(v&&v.visualMap===!1))for(var p=a!=null?f.get(l,c):c,d=t(p),g=e[d],m=r[d],y=0,x=m.length;y<x;y++){var b=m[y];g[b]&&g[b].applyVisual(p,u,h)}}}}}var cs=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.inside",e.defaultOption=kt(Jt.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(Jt);const vs=cs;var We=Te();function fs(i,e,t){We(i).coordSysRecordMap.each(function(a){var r=a.dataZoomInfoMap.get(e.uid);r&&(r.getRange=t)})}function ps(i,e){for(var t=We(i).coordSysRecordMap,a=t.keys(),r=0;r<a.length;r++){var n=a[r],o=t.get(n),s=o.dataZoomInfoMap;if(s){var l=e.uid,u=s.get(l);u&&(s.removeKey(l),s.keys().length||Kr(t,o))}}}function Kr(i,e){if(e){i.removeKey(e.model.uid);var t=e.controller;t&&t.dispose()}}function ds(i,e){var t={model:e,containsPoint:Yt(ms,e),dispatchAction:Yt(gs,i),dataZoomInfoMap:null,controller:null},a=t.controller=new Uo(i.getZr());return A(["pan","zoom","scrollMove"],function(r){a.on(r,function(n){var o=[];t.dataZoomInfoMap.each(function(s){if(n.isAvailableBehavior(s.model.option)){var l=(s.getRange||{})[r],u=l&&l(s.dzReferCoordSysInfo,t.model.mainType,t.controller,n);!s.model.get("disabled",!0)&&u&&o.push({dataZoomId:s.model.id,start:u[0],end:u[1]})}}),o.length&&t.dispatchAction(o)})}),t}function gs(i,e){i.isDisposed()||i.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function ms(i,e,t,a){return i.coordinateSystem.containPoint([t,a])}function ys(i){var e,t="type_",a={type_true:2,type_move:1,type_false:0,type_undefined:-1},r=!0;return i.each(function(n){var o=n.model,s=o.get("disabled",!0)?!1:o.get("zoomLock",!0)?"move":!0;a[t+s]>a[t+e]&&(e=s),r=r&&o.get("preventDefaultMouseMove",!0)}),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!r}}}function xs(i){i.registerProcessor(i.PRIORITY.PROCESSOR.FILTER,function(e,t){var a=We(t),r=a.coordSysRecordMap||(a.coordSysRecordMap=et());r.each(function(n){n.dataZoomInfoMap=null}),e.eachComponent({mainType:"dataZoom",subType:"inside"},function(n){var o=Xr(n);A(o.infoList,function(s){var l=s.model.uid,u=r.get(l)||r.set(l,ds(t,s.model)),h=u.dataZoomInfoMap||(u.dataZoomInfoMap=et());h.set(n.uid,{dzReferCoordSysInfo:s,model:n,getRange:null})})}),r.each(function(n){var o=n.controller,s,l=n.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(s=l.get(u))}if(!s){Kr(r,n);return}var h=ys(l);o.enable(h.controlType,h.opt),o.setPointerChecker(n.containsPoint),Sr(n,"dispatchAction",s.model.get("throttle",!0),"fixRate")})})}var bs=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return e.prototype.render=function(t,a,r){if(i.prototype.render.apply(this,arguments),t.noTarget()){this._clear();return}this.range=t.getPercentRange(),fs(r,t,{pan:O(ye.pan,this),zoom:O(ye.zoom,this),scrollMove:O(ye.scrollMove,this)})},e.prototype.dispose=function(){this._clear(),i.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){ps(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e}(Ur),ye={zoom:function(i,e,t,a){var r=this.range,n=r.slice(),o=i.axisModels[0];if(o){var s=xe[e](null,[a.originX,a.originY],o,t,i),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(n[1]-n[0])+n[0],u=Math.max(1/a.scale,0);n[0]=(n[0]-l)*u+l,n[1]=(n[1]-l)*u+l;var h=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(zt(0,n,[0,100],0,h.minSpan,h.maxSpan),this.range=n,r[0]!==n[0]||r[1]!==n[1])return n}},pan:Ya(function(i,e,t,a,r,n){var o=xe[a]([n.oldX,n.oldY],[n.newX,n.newY],e,r,t);return o.signal*(i[1]-i[0])*o.pixel/o.pixelLength}),scrollMove:Ya(function(i,e,t,a,r,n){var o=xe[a]([0,0],[n.scrollDelta,n.scrollDelta],e,r,t);return o.signal*(i[1]-i[0])*n.scrollDelta})};function Ya(i){return function(e,t,a,r){var n=this.range,o=n.slice(),s=e.axisModels[0];if(s){var l=i(o,s,e,t,a,r);if(zt(l,o,[0,100],"all"),this.range=o,n[0]!==o[0]||n[1]!==o[1])return o}}}var xe={grid:function(i,e,t,a,r){var n=t.axis,o={},s=r.model.coordinateSystem.getRect();return i=i||[0,0],n.dim==="x"?(o.pixel=e[0]-i[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=n.inverse?1:-1):(o.pixel=e[1]-i[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=n.inverse?-1:1),o},polar:function(i,e,t,a,r){var n=t.axis,o={},s=r.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return i=i?s.pointToCoord(i):[0,0],e=s.pointToCoord(e),t.mainType==="radiusAxis"?(o.pixel=e[0]-i[0],o.pixelLength=l[1]-l[0],o.pixelStart=l[0],o.signal=n.inverse?1:-1):(o.pixel=e[1]-i[1],o.pixelLength=u[1]-u[0],o.pixelStart=u[0],o.signal=n.inverse?-1:1),o},singleAxis:function(i,e,t,a,r){var n=t.axis,o=r.model.coordinateSystem.getRect(),s={};return i=i||[0,0],n.orient==="horizontal"?(s.pixel=e[0]-i[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=n.inverse?1:-1):(s.pixel=e[1]-i[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=n.inverse?-1:1),s}};const Ss=bs;function _s(i){Yr(i),i.registerComponentModel(vs),i.registerComponentView(Ss),xs(i)}var Ms=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=kt(Jt.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e}(Jt);const As=Ms;var It=j,Ka=7,ws=1,be=30,Ds=7,Ct="horizontal",qa="vertical",Is=5,Cs=["line","bar","candlestick","scatter"],Ls={easing:"cubicOut",duration:100,delay:0},Ts=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t._displayables={},t}return e.prototype.init=function(t,a){this.api=a,this._onBrush=O(this._onBrush,this),this._onBrushEnd=O(this._onBrushEnd,this)},e.prototype.render=function(t,a,r,n){if(i.prototype.render.apply(this,arguments),Sr(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),t.get("show")===!1){this.group.removeAll();return}if(t.noTarget()){this._clear(),this.group.removeAll();return}(!n||n.type!=="dataZoom"||n.from!==this.uid)&&this._buildView(),this._updateView()},e.prototype.dispose=function(){this._clear(),i.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){ji(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var a=this._displayables.sliderGroup=new X;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(a),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,a=this.api,r=t.get("brushSelect"),n=r?Ds:0,o=this._findCoordRect(),s={width:a.getWidth(),height:a.getHeight()},l=this._orient===Ct?{right:s.width-o.x-o.width,top:s.height-be-Ka-n,width:o.width,height:be}:{right:Ka,top:o.y,width:be,height:o.height},u=yr(t.option);A(["right","top","width","height"],function(c){u[c]==="ph"&&(u[c]=l[c])});var h=Ee(u,s);this._location={x:h.x,y:h.y},this._size=[h.width,h.height],this._orient===qa&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,a=this._location,r=this._orient,n=this.dataZoomModel.getFirstTargetAxisModel(),o=n&&n.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(r===Ct&&!o?{scaleY:l?1:-1,scaleX:1}:r===Ct&&o?{scaleY:l?1:-1,scaleX:-1}:r===qa&&!o?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=t.getBoundingRect([s]);t.x=a.x-u.x,t.y=a.y-u.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,a=this._size,r=this._displayables.sliderGroup,n=t.get("brushSelect");r.add(new It({silent:!0,shape:{x:0,y:0,width:a[0],height:a[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var o=new It({shape:{x:0,y:0,width:a[0],height:a[1]},style:{fill:"transparent"},z2:0,onclick:O(this._onClickPanel,this)}),s=this.api.getZr();n?(o.on("mousedown",this._onBrushStart,this),o.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),r.add(o)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!t)return;var a=this._size,r=this._shadowSize||[],n=t.series,o=n.getRawData(),s=n.getShadowDim&&n.getShadowDim(),l=s&&o.getDimensionInfo(s)?n.getShadowDim():t.otherDim;if(l==null)return;var u=this._shadowPolygonPts,h=this._shadowPolylinePts;if(o!==this._shadowData||l!==this._shadowDim||a[0]!==r[0]||a[1]!==r[1]){var c=o.getDataExtent(l),f=(c[1]-c[0])*.3;c=[c[0]-f,c[1]+f];var v=[0,a[1]],p=[0,a[0]],d=[[a[0],0],[0,0]],g=[],m=p[1]/(o.count()-1),y=0,x=Math.round(o.count()/a[0]),b;o.each([l],function(C,T){if(x>0&&T%x){y+=m;return}var w=C==null||isNaN(C)||C==="",D=w?0:k(C,c,v,!0);w&&!b&&T?(d.push([d[d.length-1][0],0]),g.push([g[g.length-1][0],0])):!w&&b&&(d.push([y,0]),g.push([y,0])),d.push([y,D]),g.push([y,D]),y+=m,b=w}),u=this._shadowPolygonPts=d,h=this._shadowPolylinePts=g}this._shadowData=o,this._shadowDim=l,this._shadowSize=[a[0],a[1]];var _=this.dataZoomModel;function S(C){var T=_.getModel(C?"selectedDataBackground":"dataBackground"),w=new X,D=new Mr({shape:{points:u},segmentIgnoreThreshold:1,style:T.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),L=new en({shape:{points:h},segmentIgnoreThreshold:1,style:T.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return w.add(D),w.add(L),w}for(var M=0;M<3;M++){var I=S(M===1);this._displayables.sliderGroup.add(I),this._displayables.dataShadowSegs.push(I)}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,a=t.get("showDataShadow");if(a!==!1){var r,n=this.ecModel;return t.eachTargetAxis(function(o,s){var l=t.getAxisProxy(o,s).getTargetSeriesModels();A(l,function(u){if(!r&&!(a!==!0&&Tt(Cs,u.get("type"))<0)){var h=n.getComponent(lt(o),s).axis,c=Vs(o),f,v=u.coordinateSystem;c!=null&&v.getOtherAxis&&(f=v.getOtherAxis(h).inverse),c=u.getData().mapDimension(c),r={thisAxis:h,series:u,thisDim:o,otherDim:c,otherAxisInverse:f}}},this)},this),r}},e.prototype._renderHandle=function(){var t=this.group,a=this._displayables,r=a.handles=[null,null],n=a.handleLabels=[null,null],o=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,u=this.api,h=l.get("borderRadius")||0,c=l.get("brushSelect"),f=a.filler=new It({silent:c,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});o.add(f),o.add(new It({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:h},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:ws,fill:"rgba(0,0,0,0)"}})),A([0,1],function(x){var b=l.get("handleIcon");!Ji[b]&&b.indexOf("path://")<0&&b.indexOf("image://")<0&&(b="path://"+b);var _=ht(b,-1,0,2,2,null,!0);_.attr({cursor:ja(this._orient),draggable:!0,drift:O(this._onDragMove,this,x),ondragend:O(this._onDragEnd,this),onmouseover:O(this._showDataInfo,this,!0),onmouseout:O(this._showDataInfo,this,!1),z2:5});var S=_.getBoundingRect(),M=l.get("handleSize");this._handleHeight=ua(M,this._size[1]),this._handleWidth=S.width/S.height*this._handleHeight,_.setStyle(l.getModel("handleStyle").getItemStyle()),_.style.strokeNoScale=!0,_.rectHover=!0,_.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),Qi(_);var I=l.get("handleColor");I!=null&&(_.style.fill=I),o.add(r[x]=_);var C=l.getModel("textStyle");t.add(n[x]=new pt({silent:!0,invisible:!0,style:Vt(C,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:C.getTextColor(),font:C.getFont()}),z2:10}))},this);var v=f;if(c){var p=ua(l.get("moveHandleSize"),s[1]),d=a.moveHandle=new j({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:p}}),g=p*.8,m=a.moveHandleIcon=ht(l.get("moveHandleIcon"),-g/2,-g/2,g,g,"#fff",!0);m.silent=!0,m.y=s[1]+p/2-.5,d.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var y=Math.min(s[1]/2,Math.max(p,10));v=a.moveZone=new j({invisible:!0,shape:{y:s[1]-y,height:p+y}}),v.on("mouseover",function(){u.enterEmphasis(d)}).on("mouseout",function(){u.leaveEmphasis(d)}),o.add(d),o.add(m),o.add(v)}v.attr({draggable:!0,cursor:ja(this._orient),drift:O(this._onDragMove,this,"all"),ondragstart:O(this._showDataInfo,this,!0),ondragend:O(this._onDragEnd,this),onmouseover:O(this._showDataInfo,this,!0),onmouseout:O(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),a=this._getViewExtent();this._handleEnds=[k(t[0],[0,100],a,!0),k(t[1],[0,100],a,!0)]},e.prototype._updateInterval=function(t,a){var r=this.dataZoomModel,n=this._handleEnds,o=this._getViewExtent(),s=r.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];zt(a,n,o,r.get("zoomLock")?"all":t,s.minSpan!=null?k(s.minSpan,l,o,!0):null,s.maxSpan!=null?k(s.maxSpan,l,o,!0):null);var u=this._range,h=this._range=ft([k(n[0],o,l,!0),k(n[1],o,l,!0)]);return!u||u[0]!==h[0]||u[1]!==h[1]},e.prototype._updateView=function(t){var a=this._displayables,r=this._handleEnds,n=ft(r.slice()),o=this._size;A([0,1],function(v){var p=a.handles[v],d=this._handleHeight;p.attr({scaleX:d/2,scaleY:d/2,x:r[v]+(v?-1:1),y:o[1]/2-d/2})},this),a.filler.setShape({x:n[0],y:0,width:n[1]-n[0],height:o[1]});var s={x:n[0],width:n[1]-n[0]};a.moveHandle&&(a.moveHandle.setShape(s),a.moveZone.setShape(s),a.moveZone.getBoundingRect(),a.moveHandleIcon&&a.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=a.dataShadowSegs,u=[0,n[0],n[1],o[0]],h=0;h<l.length;h++){var c=l[h],f=c.getClipPath();f||(f=new j,c.setClipPath(f)),f.setShape({x:u[h],y:0,width:u[h+1]-u[h],height:o[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var a=this.dataZoomModel,r=this._displayables,n=r.handleLabels,o=this._orient,s=["",""];if(a.get("showDetail")){var l=a.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,h=this._range,c=t?l.calculateDataWindow({start:h[0],end:h[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(c[0],u),this._formatLabel(c[1],u)]}}var f=ft(this._handleEnds.slice());v.call(this,0),v.call(this,1);function v(p){var d=$t(r.handles[p].parent,this.group),g=_r(p===0?"right":"left",d),m=this._handleWidth/2+Is,y=Pt([f[p]+(p===0?-m:m),this._size[1]/2],d);n[p].setStyle({x:y[0],y:y[1],verticalAlign:o===Ct?"middle":g,align:o===Ct?g:"center",text:s[p]})}},e.prototype._formatLabel=function(t,a){var r=this.dataZoomModel,n=r.get("labelFormatter"),o=r.get("labelPrecision");(o==null||o==="auto")&&(o=a.getPixelPrecision());var s=t==null||isNaN(t)?"":a.type==="category"||a.type==="time"?a.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(o,20));return tt(n)?n(t,s):Et(n)?n.replace("{value}",s):s},e.prototype._showDataInfo=function(t){t=this._dragging||t;var a=this._displayables,r=a.handleLabels;r[0].attr("invisible",!t),r[1].attr("invisible",!t),a.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](a.moveHandle,1)},e.prototype._onDragMove=function(t,a,r,n){this._dragging=!0,mt(n.event);var o=this._displayables.sliderGroup.getLocalTransform(),s=Pt([a,r],o,!0),l=this._updateInterval(t,s[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var t=this.dataZoomModel.get("realtime");!t&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var a=this._size,r=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(r[0]<0||r[0]>a[0]||r[1]<0||r[1]>a[1])){var n=this._handleEnds,o=(n[0]+n[1])/2,s=this._updateInterval("all",r[0]-o);this._updateView(),s&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var a=t.offsetX,r=t.offsetY;this._brushStart=new tn(a,r),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var a=this._displayables.brushRect;if(this._brushing=!1,!!a){a.attr("ignore",!0);var r=a.shape,n=+new Date;if(!(n-this._brushStartTime<200&&Math.abs(r.width)<5)){var o=this._getViewExtent(),s=[0,100];this._range=ft([k(r.x,o,s,!0),k(r.x+r.width,o,s,!0)]),this._handleEnds=[r.x,r.x+r.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(mt(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,a){var r=this._displayables,n=this.dataZoomModel,o=r.brushRect;o||(o=r.brushRect=new It({silent:!0,style:n.getModel("brushStyle").getItemStyle()}),r.sliderGroup.add(o)),o.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(t,a),h=l.transformCoordToLocal(s.x,s.y),c=this._size;u[0]=Math.max(Math.min(c[0],u[0]),0),o.setShape({x:h[0],y:0,width:u[0]-h[0],height:c[1]})},e.prototype._dispatchZoomAction=function(t){var a=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?Ls:null,start:a[0],end:a[1]})},e.prototype._findCoordRect=function(){var t,a=Xr(this.dataZoomModel).infoList;if(!t&&a.length){var r=a[0].model.coordinateSystem;t=r.getRect&&r.getRect()}if(!t){var n=this.api.getWidth(),o=this.api.getHeight();t={x:n*.2,y:o*.2,width:n*.6,height:o*.6}}return t},e.type="dataZoom.slider",e}(Ur);function Vs(i){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[i]}function ja(i){return i==="vertical"?"ns-resize":"ew-resize"}const Ps=Ts;function Rs(i){i.registerComponentModel(As),i.registerComponentView(Ps),Yr(i)}function gl(i){At(_s),At(Rs)}var Os={get:function(i,e,t){var a=$((Es[i]||{})[e]);return t&&G(a)?a[a.length-1]:a}},Es={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};const qr=Os;var Ja=Z.mapVisual,ks=Z.eachVisual,zs=G,Qa=A,Ns=ft,Bs=k,Gs=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.stateList=["inRange","outOfRange"],t.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],t.layoutMode={type:"box",ignoreSize:!0},t.dataBound=[-1/0,1/0],t.targetVisuals={},t.controllerVisuals={},t}return e.prototype.init=function(t,a,r){this.mergeDefaultAndTheme(t,r)},e.prototype.optionUpdated=function(t,a){var r=this.option;!a&&us(r,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var a=this.stateList;t=O(t,this),this.controllerVisuals=Ua(this.option.controller,a,t),this.targetVisuals=Ua(this.option.target,a,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,a=[];return t==null||t==="all"?this.ecModel.eachSeries(function(r,n){a.push(n)}):a=an(t),a},e.prototype.eachTargetSeries=function(t,a){A(this.getTargetSeriesIndices(),function(r){var n=this.ecModel.getSeriesByIndex(r);n&&t.call(a,n)},this)},e.prototype.isTargetSeries=function(t){var a=!1;return this.eachTargetSeries(function(r){r===t&&(a=!0)}),a},e.prototype.formatValueText=function(t,a,r){var n=this.option,o=n.precision,s=this.dataBound,l=n.formatter,u;r=r||["<",">"],G(t)&&(t=t.slice(),u=!0);var h=a?t:u?[c(t[0]),c(t[1])]:c(t);if(Et(l))return l.replace("{value}",u?h[0]:h).replace("{value2}",u?h[1]:h);if(tt(l))return u?l(t[0],t[1]):l(t);if(u)return t[0]===s[0]?r[0]+" "+h[1]:t[1]===s[1]?r[1]+" "+h[0]:h[0]+" - "+h[1];return h;function c(f){return f===s[0]?"min":f===s[1]?"max":(+f).toFixed(Math.min(o,20))}},e.prototype.resetExtent=function(){var t=this.option,a=Ns([t.min,t.max]);this._dataExtent=a},e.prototype.getDataDimensionIndex=function(t){var a=this.option.dimension;if(a!=null)return t.getDimensionIndex(a);for(var r=t.dimensions,n=r.length-1;n>=0;n--){var o=r[n],s=t.getDimensionInfo(o);if(!s.isCalculationCoord)return s.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,a=this.option,r={inRange:a.inRange,outOfRange:a.outOfRange},n=a.target||(a.target={}),o=a.controller||(a.controller={});q(n,r),q(o,r);var s=this.isCategory();l.call(this,n),l.call(this,o),u.call(this,n,"inRange","outOfRange"),h.call(this,o);function l(c){zs(a.color)&&!c.inRange&&(c.inRange={color:a.color.slice().reverse()}),c.inRange=c.inRange||{color:t.get("gradientColor")}}function u(c,f,v){var p=c[f],d=c[v];p&&!d&&(d=c[v]={},Qa(p,function(g,m){if(Z.isValidType(m)){var y=qr.get(m,"inactive",s);y!=null&&(d[m]=y,m==="color"&&!d.hasOwnProperty("opacity")&&!d.hasOwnProperty("colorAlpha")&&(d.opacity=[0,0]))}}))}function h(c){var f=(c.inRange||{}).symbol||(c.outOfRange||{}).symbol,v=(c.inRange||{}).symbolSize||(c.outOfRange||{}).symbolSize,p=this.get("inactiveColor"),d=this.getItemSymbol(),g=d||"roundRect";Qa(this.stateList,function(m){var y=this.itemSize,x=c[m];x||(x=c[m]={color:s?p:[p]}),x.symbol==null&&(x.symbol=f&&$(f)||(s?g:[g])),x.symbolSize==null&&(x.symbolSize=v&&$(v)||(s?y[0]:[y[0],y[0]])),x.symbol=Ja(x.symbol,function(S){return S==="none"?g:S});var b=x.symbolSize;if(b!=null){var _=-1/0;ks(b,function(S){S>_&&(_=S)}),x.symbolSize=Ja(b,function(S){return Bs(S,[0,_],[0,y[0]],!0)})}},this)}},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e}(re);const Qt=Gs;var tr=[20,140],Hs=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(t,a){i.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(r){r.mappingMethod="linear",r.dataExtent=this.getExtent()}),this._resetRange()},e.prototype.resetItemSize=function(){i.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(t[0]==null||isNaN(t[0]))&&(t[0]=tr[0]),(t[1]==null||isNaN(t[1]))&&(t[1]=tr[1])},e.prototype._resetRange=function(){var t=this.getExtent(),a=this.option.range;!a||a.auto?(t.auto=1,this.option.range=t):G(a)&&(a[0]>a[1]&&a.reverse(),a[0]=Math.max(a[0],t[0]),a[1]=Math.min(a[1],t[1]))},e.prototype.completeVisualOption=function(){i.prototype.completeVisualOption.apply(this,arguments),A(this.stateList,function(t){var a=this.option.controller[t].symbolSize;a&&a[0]!==a[1]&&(a[0]=a[1]/3)},this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),a=ft((this.get("range")||[]).slice());return a[0]>t[1]&&(a[0]=t[1]),a[1]>t[1]&&(a[1]=t[1]),a[0]<t[0]&&(a[0]=t[0]),a[1]<t[0]&&(a[1]=t[0]),a},e.prototype.getValueState=function(t){var a=this.option.range,r=this.getExtent();return(a[0]<=r[0]||a[0]<=t)&&(a[1]>=r[1]||t<=a[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var a=[];return this.eachTargetSeries(function(r){var n=[],o=r.getData();o.each(this.getDataDimensionIndex(o),function(s,l){t[0]<=s&&s<=t[1]&&n.push(l)},this),a.push({seriesId:r.id,dataIndex:n})},this),a},e.prototype.getVisualMeta=function(t){var a=er(this,"outOfRange",this.getExtent()),r=er(this,"inRange",this.option.range.slice()),n=[];function o(v,p){n.push({value:v,color:t(v,p)})}for(var s=0,l=0,u=r.length,h=a.length;l<h&&(!r.length||a[l]<=r[0]);l++)a[l]<r[s]&&o(a[l],"outOfRange");for(var c=1;s<u;s++,c=0)c&&n.length&&o(r[s],"outOfRange"),o(r[s],"inRange");for(var c=1;l<h;l++)(!r.length||r[r.length-1]<a[l])&&(c&&(n.length&&o(n[n.length-1].value,"outOfRange"),c=0),o(a[l],"outOfRange"));var f=n.length;return{stops:n,outerColors:[f?n[0].color:"transparent",f?n[f-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=kt(Qt.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e}(Qt);function er(i,e,t){if(t[0]===t[1])return t.slice();for(var a=200,r=(t[1]-t[0])/a,n=t[0],o=[],s=0;s<=a&&n<t[1];s++)o.push(n),n+=r;return o.push(t[1]),o}const Zs=Hs;var Fs=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.autoPositionValues={left:1,right:1,top:1,bottom:1},t}return e.prototype.init=function(t,a){this.ecModel=t,this.api=a},e.prototype.render=function(t,a,r,n){if(this.visualMapModel=t,t.get("show")===!1){this.group.removeAll();return}this.doRender(t,a,r,n)},e.prototype.renderBackground=function(t){var a=this.visualMapModel,r=rn(a.get("padding")||0),n=t.getBoundingRect();t.add(new j({z2:-1,silent:!0,shape:{x:n.x-r[3],y:n.y-r[0],width:n.width+r[3]+r[1],height:n.height+r[0]+r[2]},style:{fill:a.get("backgroundColor"),stroke:a.get("borderColor"),lineWidth:a.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,a,r){r=r||{};var n=r.forceState,o=this.visualMapModel,s={};if(a==="color"){var l=o.get("contentColor");s.color=l}function u(v){return s[v]}function h(v,p){s[v]=p}var c=o.controllerVisuals[n||o.getValueState(t)],f=Z.prepareVisualTypes(c);return A(f,function(v){var p=c[v];r.convertOpacityToAlpha&&v==="opacity"&&(v="colorAlpha",p=c.__alphaForOpacity),Z.dependsOn(v,a)&&p&&p.applyVisual(t,u,h)}),s[a]},e.prototype.positionGroup=function(t){var a=this.visualMapModel,r=this.api;nn(t,a.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})},e.prototype.doRender=function(t,a,r,n){},e.type="visualMap",e}(ke);const jr=Fs;var ar=[["left","right","width"],["top","bottom","height"]];function Jr(i,e,t){var a=i.option,r=a.align;if(r!=null&&r!=="auto")return r;for(var n={width:e.getWidth(),height:e.getHeight()},o=a.orient==="horizontal"?1:0,s=ar[o],l=[0,null,10],u={},h=0;h<3;h++)u[ar[1-o][h]]=l[h],u[s[h]]=h===2?t[0]:a[s[h]];var c=[["x","width",3],["y","height",0]][o],f=Ee(u,n,a.padding);return s[(f.margin[c[2]]||0)+f[c[0]]+f[c[1]]*.5<n[c[1]]*.5?0:1]}function Ut(i,e){return A(i||[],function(t){t.dataIndex!=null&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")}),i}var J=k,Ws=A,rr=Math.min,Se=Math.max,$s=12,Xs=6,Us=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t._shapes={},t._dataInterval=[],t._handleEnds=[],t._hoverLinkDataIndices=[],t}return e.prototype.doRender=function(t,a,r,n){this._api=r,(!n||n.type!=="selectDataRange"||n.from!==this.uid)&&this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,a=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(a);var r=t.get("text");this._renderEndsText(a,r,0),this._renderEndsText(a,r,1),this._updateView(!0),this.renderBackground(a),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(a)},e.prototype._renderEndsText=function(t,a,r){if(a){var n=a[1-r];n=n!=null?n+"":"";var o=this.visualMapModel,s=o.get("textGap"),l=o.itemSize,u=this._shapes.mainGroup,h=this._applyTransform([l[0]/2,r===0?-s:l[1]+s],u),c=this._applyTransform(r===0?"bottom":"top",u),f=this._orient,v=this.visualMapModel.textStyleModel;this.group.add(new pt({style:Vt(v,{x:h[0],y:h[1],verticalAlign:f==="horizontal"?"middle":c,align:f==="horizontal"?c:"center",text:n})}))}},e.prototype._renderBar=function(t){var a=this.visualMapModel,r=this._shapes,n=a.itemSize,o=this._orient,s=this._useHandle,l=Jr(a,this.api,n),u=r.mainGroup=this._createBarGroup(l),h=new X;u.add(h),h.add(r.outOfRange=ir()),h.add(r.inRange=ir(null,s?or(this._orient):null,O(this._dragHandle,this,"all",!1),O(this._dragHandle,this,"all",!0))),h.setClipPath(new j({shape:{x:0,y:0,width:n[0],height:n[1],r:3}}));var c=a.textStyleModel.getTextRect("国"),f=Se(c.width,c.height);s&&(r.handleThumbs=[],r.handleLabels=[],r.handleLabelPoints=[],this._createHandle(a,u,0,n,f,o),this._createHandle(a,u,1,n,f,o)),this._createIndicator(a,u,n,f,o),t.add(u)},e.prototype._createHandle=function(t,a,r,n,o,s){var l=O(this._dragHandle,this,r,!1),u=O(this._dragHandle,this,r,!0),h=ha(t.get("handleSize"),n[0]),c=ht(t.get("handleIcon"),-h/2,-h/2,h,h,null,!0),f=or(this._orient);c.attr({cursor:f,draggable:!0,drift:l,ondragend:u,onmousemove:function(m){mt(m.event)}}),c.x=n[0]/2,c.useStyle(t.getModel("handleStyle").getItemStyle()),c.setStyle({strokeNoScale:!0,strokeFirst:!0}),c.style.lineWidth*=2,c.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),on(c,!0),a.add(c);var v=this.visualMapModel.textStyleModel,p=new pt({cursor:f,draggable:!0,drift:l,onmousemove:function(m){mt(m.event)},ondragend:u,style:Vt(v,{x:0,y:0,text:""})});p.ensureState("blur").style={opacity:.1},p.stateTransition={duration:200},this.group.add(p);var d=[h,0],g=this._shapes;g.handleThumbs[r]=c,g.handleLabelPoints[r]=d,g.handleLabels[r]=p},e.prototype._createIndicator=function(t,a,r,n,o){var s=ha(t.get("indicatorSize"),r[0]),l=ht(t.get("indicatorIcon"),-s/2,-s/2,s,s,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:r[0]/2});var u=t.getModel("indicatorStyle").getItemStyle();if(l instanceof pr){var h=l.style;l.useStyle(Mt({image:h.image,x:h.x,y:h.y,width:h.width,height:h.height},u))}else l.useStyle(u);a.add(l);var c=this.visualMapModel.textStyleModel,f=new pt({silent:!0,invisible:!0,style:Vt(c,{x:0,y:0,text:""})});this.group.add(f);var v=[(o==="horizontal"?n/2:Xs)+r[0]/2,0],p=this._shapes;p.indicator=l,p.indicatorLabel=f,p.indicatorLabelPoint=v,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,a,r,n){if(this._useHandle){if(this._dragging=!a,!a){var o=this._applyTransform([r,n],this._shapes.mainGroup,!0);this._updateInterval(t,o[1]),this._hideIndicator(),this._updateView()}a===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),a?!this._hovering&&this._clearHoverLinkToSeries():nr(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,a=this._dataInterval=t.getSelected(),r=t.getExtent(),n=[0,t.itemSize[1]];this._handleEnds=[J(a[0],r,n,!0),J(a[1],r,n,!0)]},e.prototype._updateInterval=function(t,a){a=a||0;var r=this.visualMapModel,n=this._handleEnds,o=[0,r.itemSize[1]];zt(a,n,o,t,0);var s=r.getExtent();this._dataInterval=[J(n[0],o,s,!0),J(n[1],o,s,!0)]},e.prototype._updateView=function(t){var a=this.visualMapModel,r=a.getExtent(),n=this._shapes,o=[0,a.itemSize[1]],s=t?o:this._handleEnds,l=this._createBarVisual(this._dataInterval,r,s,"inRange"),u=this._createBarVisual(r,r,o,"outOfRange");n.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),n.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(s,l)},e.prototype._createBarVisual=function(t,a,r,n){var o={forceState:n,convertOpacityToAlpha:!0},s=this._makeColorGradient(t,o),l=[this.getControllerVisual(t[0],"symbolSize",o),this.getControllerVisual(t[1],"symbolSize",o)],u=this._createBarPoints(r,l);return{barColor:new mr(0,0,0,1,s),barPoints:u,handlesColor:[s[0].color,s[s.length-1].color]}},e.prototype._makeColorGradient=function(t,a){var r=100,n=[],o=(t[1]-t[0])/r;n.push({color:this.getControllerVisual(t[0],"color",a),offset:0});for(var s=1;s<r;s++){var l=t[0]+o*s;if(l>t[1])break;n.push({color:this.getControllerVisual(l,"color",a),offset:s/r})}return n.push({color:this.getControllerVisual(t[1],"color",a),offset:1}),n},e.prototype._createBarPoints=function(t,a){var r=this.visualMapModel.itemSize;return[[r[0]-a[0],t[0]],[r[0],t[0]],[r[0],t[1]],[r[0]-a[1],t[1]]]},e.prototype._createBarGroup=function(t){var a=this._orient,r=this.visualMapModel.get("inverse");return new X(a==="horizontal"&&!r?{scaleX:t==="bottom"?1:-1,rotation:Math.PI/2}:a==="horizontal"&&r?{scaleX:t==="bottom"?-1:1,rotation:-Math.PI/2}:a==="vertical"&&!r?{scaleX:t==="left"?1:-1,scaleY:-1}:{scaleX:t==="left"?1:-1})},e.prototype._updateHandle=function(t,a){if(this._useHandle){var r=this._shapes,n=this.visualMapModel,o=r.handleThumbs,s=r.handleLabels,l=n.itemSize,u=n.getExtent();Ws([0,1],function(h){var c=o[h];c.setStyle("fill",a.handlesColor[h]),c.y=t[h];var f=J(t[h],[0,l[1]],u,!0),v=this.getControllerVisual(f,"symbolSize");c.scaleX=c.scaleY=v/l[0],c.x=l[0]-v/2;var p=Pt(r.handleLabelPoints[h],$t(c,this.group));s[h].setStyle({x:p[0],y:p[1],text:n.formatValueText(this._dataInterval[h]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",r.mainGroup):"center"})},this)}},e.prototype._showIndicator=function(t,a,r,n){var o=this.visualMapModel,s=o.getExtent(),l=o.itemSize,u=[0,l[1]],h=this._shapes,c=h.indicator;if(c){c.attr("invisible",!1);var f={convertOpacityToAlpha:!0},v=this.getControllerVisual(t,"color",f),p=this.getControllerVisual(t,"symbolSize"),d=J(t,s,u,!0),g=l[0]-p/2,m={x:c.x,y:c.y};c.y=d,c.x=g;var y=Pt(h.indicatorLabelPoint,$t(c,this.group)),x=h.indicatorLabel;x.attr("invisible",!1);var b=this._applyTransform("left",h.mainGroup),_=this._orient,S=_==="horizontal";x.setStyle({text:(r||"")+o.formatValueText(a),verticalAlign:S?b:"middle",align:S?"center":b});var M={x:g,y:d,style:{fill:v}},I={style:{x:y[0],y:y[1]}};if(o.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var C={duration:100,easing:"cubicInOut",additive:!0};c.x=m.x,c.y=m.y,c.animateTo(M,C),x.animateTo(I,C)}else c.attr(M),x.attr(I);this._firstShowIndicator=!1;var T=this._shapes.handleLabels;if(T)for(var w=0;w<T.length;w++)this._api.enterBlur(T[w])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(a){if(t._hovering=!0,!t._dragging){var r=t.visualMapModel.itemSize,n=t._applyTransform([a.offsetX,a.offsetY],t._shapes.mainGroup,!0,!0);n[1]=rr(Se(0,n[1]),r[1]),t._doHoverLinkToSeries(n[1],0<=n[0]&&n[0]<=r[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,a){var r=this.visualMapModel,n=r.itemSize;if(r.option.hoverLink){var o=[0,n[1]],s=r.getExtent();t=rr(Se(o[0],t),o[1]);var l=Ys(r,s,o),u=[t-l,t+l],h=J(t,o,s,!0),c=[J(u[0],o,s,!0),J(u[1],o,s,!0)];u[0]<o[0]&&(c[0]=-1/0),u[1]>o[1]&&(c[1]=1/0),a&&(c[0]===-1/0?this._showIndicator(h,c[1],"< ",l):c[1]===1/0?this._showIndicator(h,c[0],"> ",l):this._showIndicator(h,h,"≈ ",l));var f=this._hoverLinkDataIndices,v=[];(a||nr(r))&&(v=this._hoverLinkDataIndices=r.findTargetDataIndices(c));var p=sn(f,v);this._dispatchHighDown("downplay",Ut(p[0],r)),this._dispatchHighDown("highlight",Ut(p[1],r))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var a;if(ln(t.target,function(l){var u=ut(l);if(u.dataIndex!=null)return a=u,!0},!0),!!a){var r=this.ecModel.getSeriesByIndex(a.seriesIndex),n=this.visualMapModel;if(n.isTargetSeries(r)){var o=r.getData(a.dataType),s=o.getStore().get(n.getDataDimensionIndex(o),a.dataIndex);isNaN(s)||this._showIndicator(s,s)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var a=this._shapes.handleLabels;if(a)for(var r=0;r<a.length;r++)this._api.leaveBlur(a[r])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Ut(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,a,r,n){var o=$t(a,n?null:this.group);return G(t)?Pt(t,o,r):_r(t,o,r)},e.prototype._dispatchHighDown=function(t,a){a&&a.length&&this.api.dispatchAction({type:t,batch:a})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e}(jr);function ir(i,e,t,a){return new Mr({shape:{points:i},draggable:!!t,cursor:e,drift:t,onmousemove:function(r){mt(r.event)},ondragend:a})}function Ys(i,e,t){var a=$s/2,r=i.get("hoverLinkDataSize");return r&&(a=J(r,e,t,!0)/2),a}function nr(i){var e=i.get("hoverLinkOnHandle");return!!(e??i.get("realtime"))}function or(i){return i==="vertical"?"ns-resize":"ew-resize"}const Ks=Us;var qs={type:"selectDataRange",event:"dataRangeSelected",update:"update"},js=function(i,e){e.eachComponent({mainType:"visualMap",query:i},function(t){t.setSelected(i.selected)})},Js=[{createOnAllSeries:!0,reset:function(i,e){var t=[];return e.eachComponent("visualMap",function(a){var r=i.pipelineContext;!a.isTargetSeries(i)||r&&r.large||t.push(hs(a.stateList,a.targetVisuals,O(a.getValueState,a),a.getDataDimensionIndex(i.getData())))}),t}},{createOnAllSeries:!0,reset:function(i,e){var t=i.getData(),a=[];e.eachComponent("visualMap",function(r){if(r.isTargetSeries(i)){var n=r.getVisualMeta(O(Qs,null,i,r))||{stops:[],outerColors:[]},o=r.getDataDimensionIndex(t);o>=0&&(n.dimension=o,a.push(n))}}),i.getData().setVisual("visualMeta",a)}}];function Qs(i,e,t,a){for(var r=e.targetVisuals[a],n=Z.prepareVisualTypes(r),o={color:un(i.getData(),"color")},s=0,l=n.length;s<l;s++){var u=n[s],h=r[u==="opacity"?"__alphaForOpacity":u];h&&h.applyVisual(t,c,f)}return o.color;function c(v){return o[v]}function f(v,p){o[v]=p}}var sr=A;function tl(i){var e=i&&i.visualMap;G(e)||(e=e?[e]:[]),sr(e,function(t){if(t){bt(t,"splitList")&&!bt(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var a=t.pieces;a&&G(a)&&sr(a,function(r){it(r)&&(bt(r,"start")&&!bt(r,"min")&&(r.min=r.start),bt(r,"end")&&!bt(r,"max")&&(r.max=r.end))})}})}function bt(i,e){return i&&i.hasOwnProperty&&i.hasOwnProperty(e)}var lr=!1;function Qr(i){lr||(lr=!0,i.registerSubTypeDefaulter("visualMap",function(e){return!e.categories&&(!(e.pieces?e.pieces.length>0:e.splitNumber>0)||e.calculable)?"continuous":"piecewise"}),i.registerAction(qs,js),A(Js,function(e){i.registerVisual(i.PRIORITY.VISUAL.COMPONENT,e)}),i.registerPreprocessor(tl))}function el(i){i.registerComponentModel(Zs),i.registerComponentView(Ks),Qr(i)}var al=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t._pieceList=[],t}return e.prototype.optionUpdated=function(t,a){i.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var r=this._mode=this._determineMode();this._pieceList=[],rl[this._mode].call(this,this._pieceList),this._resetSelected(t,a);var n=this.option.categories;this.resetVisual(function(o,s){r==="categories"?(o.mappingMethod="category",o.categories=$(n)):(o.dataExtent=this.getExtent(),o.mappingMethod="piecewise",o.pieceList=N(this._pieceList,function(l){return l=$(l),s!=="inRange"&&(l.visual=null),l}))})},e.prototype.completeVisualOption=function(){var t=this.option,a={},r=Z.listVisualTypes(),n=this.isCategory();A(t.pieces,function(s){A(r,function(l){s.hasOwnProperty(l)&&(a[l]=1)})}),A(a,function(s,l){var u=!1;A(this.stateList,function(h){u=u||o(t,h,l)||o(t.target,h,l)},this),!u&&A(this.stateList,function(h){(t[h]||(t[h]={}))[l]=qr.get(l,h==="inRange"?"active":"inactive",n)})},this);function o(s,l,u){return s&&s[l]&&s[l].hasOwnProperty(u)}i.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,a){var r=this.option,n=this._pieceList,o=(a?r:t).selected||{};if(r.selected=o,A(n,function(l,u){var h=this.getSelectedMapKey(l);o.hasOwnProperty(h)||(o[h]=!0)},this),r.selectedMode==="single"){var s=!1;A(n,function(l,u){var h=this.getSelectedMapKey(l);o[h]&&(s?o[h]=!1:s=!0)},this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return this._mode==="categories"?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=$(t)},e.prototype.getValueState=function(t){var a=Z.findPieceIndex(t,this._pieceList);return a!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[a])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var a=[],r=this._pieceList;return this.eachTargetSeries(function(n){var o=[],s=n.getData();s.each(this.getDataDimensionIndex(s),function(l,u){var h=Z.findPieceIndex(l,r);h===t&&o.push(u)},this),a.push({seriesId:n.id,dataIndex:o})},this),a},e.prototype.getRepresentValue=function(t){var a;if(this.isCategory())a=t.value;else if(t.value!=null)a=t.value;else{var r=t.interval||[];a=r[0]===-1/0&&r[1]===1/0?0:(r[0]+r[1])/2}return a},e.prototype.getVisualMeta=function(t){if(this.isCategory())return;var a=[],r=["",""],n=this;function o(h,c){var f=n.getRepresentValue({interval:h});c||(c=n.getValueState(f));var v=t(f,c);h[0]===-1/0?r[0]=v:h[1]===1/0?r[1]=v:a.push({value:h[0],color:v},{value:h[1],color:v})}var s=this._pieceList.slice();if(!s.length)s.push({interval:[-1/0,1/0]});else{var l=s[0].interval[0];l!==-1/0&&s.unshift({interval:[-1/0,l]}),l=s[s.length-1].interval[1],l!==1/0&&s.push({interval:[l,1/0]})}var u=-1/0;return A(s,function(h){var c=h.interval;c&&(c[0]>u&&o([u,c[0]],"outOfRange"),o(c.slice()),u=c[1])},this),{stops:a,outerColors:r}},e.type="visualMap.piecewise",e.defaultOption=kt(Qt.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e}(Qt),rl={splitNumber:function(i){var e=this.option,t=Math.min(e.precision,20),a=this.getExtent(),r=e.splitNumber;r=Math.max(parseInt(r,10),1),e.splitNumber=r;for(var n=(a[1]-a[0])/r;+n.toFixed(t)!==n&&t<5;)t++;e.precision=t,n=+n.toFixed(t),e.minOpen&&i.push({interval:[-1/0,a[0]],close:[0,0]});for(var o=0,s=a[0];o<r;s+=n,o++){var l=o===r-1?a[1]:s+n;i.push({interval:[s,l],close:[1,1]})}e.maxOpen&&i.push({interval:[a[1],1/0],close:[0,0]}),ca(i),A(i,function(u,h){u.index=h,u.text=this.formatValueText(u.interval)},this)},categories:function(i){var e=this.option;A(e.categories,function(t){i.push({text:this.formatValueText(t,!0),value:t})},this),ur(e,i)},pieces:function(i){var e=this.option;A(e.pieces,function(t,a){it(t)||(t={value:t});var r={text:"",index:a};if(t.label!=null&&(r.text=t.label),t.hasOwnProperty("value")){var n=r.value=t.value;r.interval=[n,n],r.close=[1,1]}else{for(var o=r.interval=[],s=r.close=[0,0],l=[1,0,1],u=[-1/0,1/0],h=[],c=0;c<2;c++){for(var f=[["gte","gt","min"],["lte","lt","max"]][c],v=0;v<3&&o[c]==null;v++)o[c]=t[f[v]],s[c]=l[v],h[c]=v===2;o[c]==null&&(o[c]=u[c])}h[0]&&o[1]===1/0&&(s[0]=0),h[1]&&o[0]===-1/0&&(s[1]=0),o[0]===o[1]&&s[0]&&s[1]&&(r.value=o[0])}r.visual=Z.retrieveVisuals(t),i.push(r)},this),ur(e,i),ca(i),A(i,function(t){var a=t.close,r=[["<","≤"][a[1]],[">","≥"][a[0]]];t.text=t.text||this.formatValueText(t.value!=null?t.value:t.interval,!1,r)},this)}};function ur(i,e){var t=i.inverse;(i.orient==="vertical"?!t:t)&&e.reverse()}const il=al;var nl=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.doRender=function(){var t=this.group;t.removeAll();var a=this.visualMapModel,r=a.get("textGap"),n=a.textStyleModel,o=n.getFont(),s=n.getTextColor(),l=this._getItemAlign(),u=a.itemSize,h=this._getViewData(),c=h.endsText,f=hn(a.get("showLabel",!0),!c);c&&this._renderEndsText(t,c[0],u,f,l),A(h.viewPieceList,function(v){var p=v.piece,d=new X;d.onclick=O(this._onItemClick,this,p),this._enableHoverLink(d,v.indexInModelPieceList);var g=a.getRepresentValue(p);if(this._createItemSymbol(d,g,[0,0,u[0],u[1]]),f){var m=this.visualMapModel.getValueState(g);d.add(new pt({style:{x:l==="right"?-r:u[0]+r,y:u[1]/2,text:p.text,verticalAlign:"middle",align:l,font:o,fill:s,opacity:m==="outOfRange"?.5:1}}))}t.add(d)},this),c&&this._renderEndsText(t,c[1],u,f,l),cn(a.get("orient"),t,a.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,a){var r=this;t.on("mouseover",function(){return n("highlight")}).on("mouseout",function(){return n("downplay")});var n=function(o){var s=r.visualMapModel;s.option.hoverLink&&r.api.dispatchAction({type:o,batch:Ut(s.findTargetDataIndices(a),s)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,a=t.option;if(a.orient==="vertical")return Jr(t,this.api,t.itemSize);var r=a.align;return(!r||r==="auto")&&(r="left"),r},e.prototype._renderEndsText=function(t,a,r,n,o){if(a){var s=new X,l=this.visualMapModel.textStyleModel;s.add(new pt({style:Vt(l,{x:n?o==="right"?r[0]:0:r[0]/2,y:r[1]/2,verticalAlign:"middle",align:n?o:"center",text:a})})),t.add(s)}},e.prototype._getViewData=function(){var t=this.visualMapModel,a=N(t.getPieceList(),function(s,l){return{piece:s,indexInModelPieceList:l}}),r=t.get("text"),n=t.get("orient"),o=t.get("inverse");return(n==="horizontal"?o:!o)?a.reverse():r&&(r=r.slice().reverse()),{viewPieceList:a,endsText:r}},e.prototype._createItemSymbol=function(t,a,r){t.add(ht(this.getControllerVisual(a,"symbol"),r[0],r[1],r[2],r[3],this.getControllerVisual(a,"color")))},e.prototype._onItemClick=function(t){var a=this.visualMapModel,r=a.option,n=r.selectedMode;if(n){var o=$(r.selected),s=a.getSelectedMapKey(t);n==="single"||n===!0?(o[s]=!0,A(o,function(l,u){o[u]=u===s})):o[s]=!o[s],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}},e.type="visualMap.piecewise",e}(jr);const ol=nl;function sl(i){i.registerComponentModel(il),i.registerComponentView(ol),Qr(i)}function ml(i){At(el),At(sl)}const ll="path://M18.1 10.7V9.3c-.3-4.9-4.4-8.8-9.4-8.8-5 0-9.1 3.9-9.4 8.8v1.3c.3 4.9 4.4 8.8 9.4 8.8C13.7 19.5 17.8 15.6 18.1 10.7zM5.6 13.3V6.7H7v6.6H5.6zM10.4 13.3V6.7h1.4v6.6H10.4z",yl={show:!0,type:"slider",handleIcon:ll,handleSize:"80%"};export{Tn as A,Jt as D,kn as S,Fn as a,Ur as b,ze as c,Yr as d,gl as e,dl as f,ml as g,sl as h,$o as i,vl as j,cl as k,yl as l,eo as p,pl as r,zt as s,fl as t};
//# sourceMappingURL=chartZoom-16ae2117.js.map
