import{_ as S,d as $,u as A,j as L,B as h,x as M,r as C,o as s,k as d,w as P,c as B,Q as q,R as w,l as u,b as E,g as N,t as R,h as y}from"./index.5e6b3c4a.js";import{_ as V,P as j}from"./InfoBox.065c0f41.js";const F=["title"],b=$({__name:"PairSummary",props:{pairlist:{required:!0,type:Array},currentLocks:{required:!1,type:Array,default:()=>[]},trades:{required:!0,type:Array},sortMethod:{default:"normal",type:String},backtestMode:{required:!1,default:!1,type:Boolean}},setup(p){const l=p,f=A(),x=L(()=>{const o=[];return l.pairlist.forEach(r=>{const e=l.trades.filter(a=>a.pair===r),i=l.currentLocks.filter(a=>a.pair===r);let t="",n;i.sort((a,c)=>a.lock_end_timestamp>c.lock_end_timestamp?-1:1),i.length>0&&([n]=i,t=`${h(n.lock_end_timestamp)} - ${n.reason}`);let _="",k=0,g=0;e.forEach(a=>{var c;k+=a.profit_ratio,g+=(c=a.profit_abs)!=null?c:0});const v=e.length,m=v?e[0]:void 0;e.length>0&&(_=`Current profit: ${M(k)}`),m&&(_+=`
Open since: ${h(m.open_timestamp)}`),o.push({pair:r,trade:m,locks:n,lockReason:t,profitString:_,profit:k,profitAbs:g,tradeCount:v})}),l.sortMethod==="profit"?o.sort((r,e)=>r.profit>e.profit?-1:1):o.sort((r,e)=>r.trade&&!e.trade?-1:r.trade&&e.trade?r.trade.trade_id>e.trade.trade_id?1:-1:!r.locks&&e.locks?-1:r.locks&&e.locks?r.locks.lock_end_timestamp>e.locks.lock_end_timestamp?1:-1:1),o});return(o,r)=>{const e=C("b-list-group-item"),i=C("b-list-group");return s(),d(i,null,{default:P(()=>[(s(!0),B(q,null,w(u(x),t=>(s(),d(e,{key:t.pair,button:"",class:"d-flex justify-content-between align-items-center py-1",active:t.pair===u(f).activeBot.selectedPair,title:`${t.pair} - ${t.tradeCount} trades`,onClick:n=>u(f).activeBot.selectedPair=t.pair},{default:P(()=>[E("div",null,[N(R(t.pair)+" ",1),t.locks?(s(),B("span",{key:0,title:t.lockReason}," \u{1F512} ",8,F)):y("",!0)]),t.trade&&!p.backtestMode?(s(),d(V,{key:0,trade:t.trade},null,8,["trade"])):y("",!0),p.backtestMode&&t.tradeCount>0?(s(),d(j,{key:1,"profit-ratio":t.profit,"profit-abs":t.profitAbs,"stake-currency":u(f).activeBot.stakeCurrency},null,8,["profit-ratio","profit-abs","stake-currency"])):y("",!0)]),_:2},1032,["active","title","onClick"]))),128))]),_:1})}}});var O=S(b,[["__scopeId","data-v-06227d9a"]]);export{O as P};
//# sourceMappingURL=PairSummary.a2dd6db6.js.map
