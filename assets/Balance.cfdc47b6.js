import{_ as Ge,o as E,c as U,b as B,t as ne,h as se,m as oa,d as la,G as Ca,j as me,y as He,k as ye,r as $e,u as Ma,i as Aa,e as Pe,w as De,l as $,g as Ta,x as wa,A as Pa}from"./index.5e6b3c4a.js";import{P as Da,a as D,D as Ze,r as Ee,b as ca,d as ka,S as We,i as Ia,c as Na,e as Ke,l as ke,q as Ba,f as Oa,n as fe,T as Ra,B as Je,g as Qe,k as $a,h as Ie,p as G,j as Ea,m as Ne,s as Va,o as va,t as Ga,u as re,v as za,w as Ya,x as ie,y as ea,z as be,A as Xa,C as _e,E as Ua,F as ja,G as Ve,H as ua,I as qa,J as Fa,_ as ze,Z as Ha,K as W,L as Za,M as Wa,N as Ka,O as Ja,Q as Qa,R as et,U as fa,V as at,W as tt,X as aa,Y as ga,$ as rt,a0 as nt,a1 as it,a2 as st,a3 as ot,a4 as lt,a5 as ct,a6 as vt,a7 as ut,a8 as ft,a9 as gt,aa as ht}from"./install.6a484433.js";import{c as dt}from"./createSeriesDataSimply.a7ae3a3f.js";const pt={name:"EyeOffIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},mt=["aria-hidden","aria-label"],yt=["fill","width","height"],bt={d:"M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z"},Lt={key:0};function St(n,t,a,e,r,o){return E(),U("span",oa(n.$attrs,{"aria-hidden":!a.title,"aria-label":a.title,class:"material-design-icon eye-off-icon",role:"img",onClick:t[0]||(t[0]=i=>n.$emit("click",i))}),[(E(),U("svg",{fill:a.fillColor,class:"material-design-icon__svg",width:a.size,height:a.size,viewBox:"0 0 24 24"},[B("path",bt,[a.title?(E(),U("title",Lt,ne(a.title),1)):se("",!0)])],8,yt))],16,mt)}var _t=Ge(pt,[["render",St]]);const xt={name:"EyeIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},Ct=["aria-hidden","aria-label"],Mt=["fill","width","height"],At={d:"M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"},Tt={key:0};function wt(n,t,a,e,r,o){return E(),U("span",oa(n.$attrs,{"aria-hidden":!a.title,"aria-label":a.title,class:"material-design-icon eye-icon",role:"img",onClick:t[0]||(t[0]=i=>n.$emit("click",i))}),[(E(),U("svg",{fill:a.fillColor,class:"material-design-icon__svg",width:a.size,height:a.size,viewBox:"0 0 24 24"},[B("path",At,[a.title?(E(),U("title",Tt,ne(a.title),1)):se("",!0)])],8,Mt))],16,Ct)}var Pt=Ge(xt,[["render",wt]]),te=Math.PI*2,q=Da.CMD,Dt=["top","right","bottom","left"];function kt(n,t,a,e,r){var o=a.width,i=a.height;switch(n){case"top":e.set(a.x+o/2,a.y-t),r.set(0,-1);break;case"bottom":e.set(a.x+o/2,a.y+i+t),r.set(0,1);break;case"left":e.set(a.x-t,a.y+i/2),r.set(-1,0);break;case"right":e.set(a.x+o+t,a.y+i/2),r.set(1,0);break}}function It(n,t,a,e,r,o,i,l,v){i-=n,l-=t;var u=Math.sqrt(i*i+l*l);i/=u,l/=u;var s=i*a+n,h=l*a+t;if(Math.abs(e-r)%te<1e-4)return v[0]=s,v[1]=h,u-a;if(o){var g=e;e=fe(r),r=fe(g)}else e=fe(e),r=fe(r);e>r&&(r+=te);var c=Math.atan2(l,i);if(c<0&&(c+=te),c>=e&&c<=r||c+te>=e&&c+te<=r)return v[0]=s,v[1]=h,u-a;var f=a*Math.cos(e)+n,d=a*Math.sin(e)+t,p=a*Math.cos(r)+n,m=a*Math.sin(r)+t,y=(f-i)*(f-i)+(d-l)*(d-l),b=(p-i)*(p-i)+(m-l)*(m-l);return y<b?(v[0]=f,v[1]=d,Math.sqrt(y)):(v[0]=p,v[1]=m,Math.sqrt(b))}function Le(n,t,a,e,r,o,i,l){var v=r-n,u=o-t,s=a-n,h=e-t,g=Math.sqrt(s*s+h*h);s/=g,h/=g;var c=v*s+u*h,f=c/g;l&&(f=Math.min(Math.max(f,0),1)),f*=g;var d=i[0]=n+f*s,p=i[1]=t+f*h;return Math.sqrt((d-r)*(d-r)+(p-o)*(p-o))}function ha(n,t,a,e,r,o,i){a<0&&(n=n+a,a=-a),e<0&&(t=t+e,e=-e);var l=n+a,v=t+e,u=i[0]=Math.min(Math.max(r,n),l),s=i[1]=Math.min(Math.max(o,t),v);return Math.sqrt((u-r)*(u-r)+(s-o)*(s-o))}var V=[];function Nt(n,t,a){var e=ha(t.x,t.y,t.width,t.height,n.x,n.y,V);return a.set(V[0],V[1]),e}function Bt(n,t,a){for(var e=0,r=0,o=0,i=0,l,v,u=1/0,s=t.data,h=n.x,g=n.y,c=0;c<s.length;){var f=s[c++];c===1&&(e=s[c],r=s[c+1],o=e,i=r);var d=u;switch(f){case q.M:o=s[c++],i=s[c++],e=o,r=i;break;case q.L:d=Le(e,r,s[c],s[c+1],h,g,V,!0),e=s[c++],r=s[c++];break;case q.C:d=Oa(e,r,s[c++],s[c++],s[c++],s[c++],s[c],s[c+1],h,g,V),e=s[c++],r=s[c++];break;case q.Q:d=Ba(e,r,s[c++],s[c++],s[c],s[c+1],h,g,V),e=s[c++],r=s[c++];break;case q.A:var p=s[c++],m=s[c++],y=s[c++],b=s[c++],x=s[c++],_=s[c++];c+=1;var T=!!(1-s[c++]);l=Math.cos(x)*y+p,v=Math.sin(x)*b+m,c<=1&&(o=l,i=v);var M=(h-p)*b/y+p;d=It(p,m,b,x,x+_,T,M,g,V),e=Math.cos(x+_)*y+p,r=Math.sin(x+_)*b+m;break;case q.R:o=e=s[c++],i=r=s[c++];var L=s[c++],C=s[c++];d=ha(o,i,L,C,h,g,V);break;case q.Z:d=Le(e,r,o,i,h,g,V,!0),e=o,r=i;break}d<u&&(u=d,a.set(V[0],V[1]))}return u}var z=new D,S=new D,A=new D,X=new D,Y=new D;function ta(n,t){if(!!n){var a=n.getTextGuideLine(),e=n.getTextContent();if(!!(e&&a)){var r=n.textGuideLineConfig||{},o=[[0,0],[0,0],[0,0]],i=r.candidates||Dt,l=e.getBoundingRect().clone();l.applyTransform(e.getComputedTransform());var v=1/0,u=r.anchor,s=n.getComputedTransform(),h=s&&Ia([],s),g=t.get("length2")||0;u&&A.copy(u);for(var c=0;c<i.length;c++){var f=i[c];kt(f,0,l,z,X),D.scaleAndAdd(S,z,X,g),S.transform(h);var d=n.getBoundingRect(),p=u?u.distance(S):n instanceof Na?Bt(S,n.path,A):Nt(S,d,A);p<v&&(v=p,S.transform(s),A.transform(s),A.toArray(o[0]),S.toArray(o[1]),z.toArray(o[2]))}da(o,t.get("minTurnAngle")),a.setShape({points:o})}}}var Se=[],k=new D;function da(n,t){if(t<=180&&t>0){t=t/180*Math.PI,z.fromArray(n[0]),S.fromArray(n[1]),A.fromArray(n[2]),D.sub(X,z,S),D.sub(Y,A,S);var a=X.len(),e=Y.len();if(!(a<.001||e<.001)){X.scale(1/a),Y.scale(1/e);var r=X.dot(Y),o=Math.cos(t);if(o<r){var i=Le(S.x,S.y,A.x,A.y,z.x,z.y,Se,!1);k.fromArray(Se),k.scaleAndAdd(Y,i/Math.tan(Math.PI-t));var l=A.x!==S.x?(k.x-S.x)/(A.x-S.x):(k.y-S.y)/(A.y-S.y);if(isNaN(l))return;l<0?D.copy(k,S):l>1&&D.copy(k,A),k.toArray(n[1])}}}}function Ot(n,t,a){if(a<=180&&a>0){a=a/180*Math.PI,z.fromArray(n[0]),S.fromArray(n[1]),A.fromArray(n[2]),D.sub(X,S,z),D.sub(Y,A,S);var e=X.len(),r=Y.len();if(!(e<.001||r<.001)){X.scale(1/e),Y.scale(1/r);var o=X.dot(t),i=Math.cos(a);if(o<i){var l=Le(S.x,S.y,A.x,A.y,z.x,z.y,Se,!1);k.fromArray(Se);var v=Math.PI/2,u=Math.acos(Y.dot(t)),s=v+u-a;if(s>=v)D.copy(k,A);else{k.scaleAndAdd(Y,l/Math.tan(Math.PI/2-s));var h=A.x!==S.x?(k.x-S.x)/(A.x-S.x):(k.y-S.y)/(A.y-S.y);if(isNaN(h))return;h<0?D.copy(k,S):h>1&&D.copy(k,A)}k.toArray(n[1])}}}}function ra(n,t,a,e){var r=a==="normal",o=r?n:n.ensureState(a);o.ignore=t;var i=e.get("smooth");i&&i===!0&&(i=.3),o.shape=o.shape||{},i>0&&(o.shape.smooth=i);var l=e.getModel("lineStyle").getLineStyle();r?n.useStyle(l):o.style=l}function Rt(n,t){var a=t.smooth,e=t.points;if(!!e)if(n.moveTo(e[0][0],e[0][1]),a>0&&e.length>=3){var r=Ke(e[0],e[1]),o=Ke(e[1],e[2]);if(!r||!o){n.lineTo(e[1][0],e[1][1]),n.lineTo(e[2][0],e[2][1]);return}var i=Math.min(r,o)*a,l=ke([],e[1],e[0],i/r),v=ke([],e[1],e[2],i/o),u=ke([],l,v,.5);n.bezierCurveTo(l[0],l[1],l[0],l[1],u[0],u[1]),n.bezierCurveTo(v[0],v[1],v[0],v[1],e[2][0],e[2][1])}else for(var s=1;s<e.length;s++)n.lineTo(e[s][0],e[s][1])}function pa(n,t,a){var e=n.getTextGuideLine(),r=n.getTextContent();if(!r){e&&n.removeTextGuideLine();return}for(var o=t.normal,i=o.get("show"),l=r.ignore,v=0;v<Ze.length;v++){var u=Ze[v],s=t[u],h=u==="normal";if(s){var g=s.get("show"),c=h?l:Ee(r.states[u]&&r.states[u].ignore,l);if(c||!Ee(g,i)){var f=h?e:e&&e.states[u];f&&(f.ignore=!0);continue}e||(e=new ca,n.setTextGuideLine(e),!h&&(l||!i)&&ra(e,!0,"normal",t.normal),n.stateProxy&&(e.stateProxy=n.stateProxy)),ra(e,!1,u,s)}}if(e){ka(e.style,a),e.style.fill=null;var d=o.get("showAbove"),p=n.textGuideLineConfig=n.textGuideLineConfig||{};p.showAbove=d||!1,e.buildPath=Rt}}function ma(n,t){t=t||"labelLine";for(var a={normal:n.getModel(t)},e=0;e<We.length;e++){var r=We[e];a[r]=n.getModel([r,t])}return a}function $t(n){if(n){for(var t=[],a=0;a<n.length;a++)t.push(n[a].slice());return t}}function Et(n,t){var a=n.label,e=t&&t.getTextGuideLine();return{dataIndex:n.dataIndex,dataType:n.dataType,seriesIndex:n.seriesModel.seriesIndex,text:n.label.style.text,rect:n.hostRect,labelRect:n.rect,align:a.style.align,verticalAlign:a.style.verticalAlign,labelLinePoints:$t(e&&e.shape.points)}}var na=["align","verticalAlign","width","height","fontSize"],N=new Ra,Be=_e(),Vt=_e();function ge(n,t,a){for(var e=0;e<a.length;e++){var r=a[e];t[r]!=null&&(n[r]=t[r])}}var he=["x","y","rotation"],Gt=function(){function n(){this._labelList=[],this._chartViewList=[]}return n.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},n.prototype._addLabel=function(t,a,e,r,o){var i=r.style,l=r.__hostTarget,v=l.textConfig||{},u=r.getComputedTransform(),s=r.getBoundingRect().plain();Je.applyTransform(s,s,u),u?N.setLocalTransform(u):(N.x=N.y=N.rotation=N.originX=N.originY=0,N.scaleX=N.scaleY=1);var h=r.__hostTarget,g;if(h){g=h.getBoundingRect().plain();var c=h.getComputedTransform();Je.applyTransform(g,g,c)}var f=g&&h.getTextGuideLine();this._labelList.push({label:r,labelLine:f,seriesModel:e,dataIndex:t,dataType:a,layoutOption:o,computedLayoutOption:null,rect:s,hostRect:g,priority:g?g.width*g.height:0,defaultAttr:{ignore:r.ignore,labelGuideIgnore:f&&f.ignore,x:N.x,y:N.y,scaleX:N.scaleX,scaleY:N.scaleY,rotation:N.rotation,style:{x:i.x,y:i.y,align:i.align,verticalAlign:i.verticalAlign,width:i.width,height:i.height,fontSize:i.fontSize},cursor:r.cursor,attachedPos:v.position,attachedRot:v.rotation}})},n.prototype.addLabelsOfSeries=function(t){var a=this;this._chartViewList.push(t);var e=t.__model,r=e.get("labelLayout");!(Qe(r)||$a(r).length)||t.group.traverse(function(o){if(o.ignore)return!0;var i=o.getTextContent(),l=Ie(o);i&&!i.disableLabelLayout&&a._addLabel(l.dataIndex,l.dataType,e,i,r)})},n.prototype.updateLayoutConfig=function(t){var a=t.getWidth(),e=t.getHeight();function r(b,x){return function(){ta(b,x)}}for(var o=0;o<this._labelList.length;o++){var i=this._labelList[o],l=i.label,v=l.__hostTarget,u=i.defaultAttr,s=void 0;Qe(i.layoutOption)?s=i.layoutOption(Et(i,v)):s=i.layoutOption,s=s||{},i.computedLayoutOption=s;var h=Math.PI/180;v&&v.setTextConfig({local:!1,position:s.x!=null||s.y!=null?null:u.attachedPos,rotation:s.rotate!=null?s.rotate*h:u.attachedRot,offset:[s.dx||0,s.dy||0]});var g=!1;if(s.x!=null?(l.x=G(s.x,a),l.setStyle("x",0),g=!0):(l.x=u.x,l.setStyle("x",u.style.x)),s.y!=null?(l.y=G(s.y,e),l.setStyle("y",0),g=!0):(l.y=u.y,l.setStyle("y",u.style.y)),s.labelLinePoints){var c=v.getTextGuideLine();c&&(c.setShape({points:s.labelLinePoints}),g=!1)}var f=Be(l);f.needsUpdateLabelLine=g,l.rotation=s.rotate!=null?s.rotate*h:u.rotation,l.scaleX=u.scaleX,l.scaleY=u.scaleY;for(var d=0;d<na.length;d++){var p=na[d];l.setStyle(p,s[p]!=null?s[p]:u.style[p])}if(s.draggable){if(l.draggable=!0,l.cursor="move",v){var m=i.seriesModel;if(i.dataIndex!=null){var y=i.seriesModel.getData(i.dataType);m=y.getItemModel(i.dataIndex)}l.on("drag",r(v,m.getModel("labelLine")))}}else l.off("drag"),l.cursor=u.cursor}},n.prototype.layout=function(t){var a=t.getWidth(),e=t.getHeight(),r=Ea(this._labelList),o=Ne(r,function(v){return v.layoutOption.moveOverlap==="shiftX"}),i=Ne(r,function(v){return v.layoutOption.moveOverlap==="shiftY"});Va(o,0,a),va(i,0,e);var l=Ne(r,function(v){return v.layoutOption.hideOverlap});Ga(l)},n.prototype.processLabelsOverall=function(){var t=this;re(this._chartViewList,function(a){var e=a.__model,r=a.ignoreLabelLineUpdate,o=e.isAnimationEnabled();a.group.traverse(function(i){if(i.ignore&&!i.forceLabelAnimation)return!0;var l=!r,v=i.getTextContent();!l&&v&&(l=Be(v).needsUpdateLabelLine),l&&t._updateLabelLine(i,e),o&&t._animateLabels(i,e)})})},n.prototype._updateLabelLine=function(t,a){var e=t.getTextContent(),r=Ie(t),o=r.dataIndex;if(e&&o!=null){var i=a.getData(r.dataType),l=i.getItemModel(o),v={},u=i.getItemVisual(o,"style"),s=i.getVisual("drawType");v.stroke=u[s];var h=l.getModel("labelLine");pa(t,ma(l),v),ta(t,h)}},n.prototype._animateLabels=function(t,a){var e=t.getTextContent(),r=t.getTextGuideLine();if(e&&(t.forceLabelAnimation||!e.ignore&&!e.invisible&&!t.disableLabelAnimation&&!za(t))){var o=Be(e),i=o.oldLayout,l=Ie(t),v=l.dataIndex,u={x:e.x,y:e.y,rotation:e.rotation},s=a.getData(l.dataType);if(i){e.attr(i);var g=t.prevStates;g&&(ea(g,"select")>=0&&e.attr(o.oldLayoutSelect),ea(g,"emphasis")>=0&&e.attr(o.oldLayoutEmphasis)),be(e,u,a,v)}else if(e.attr(u),!Ya(e).valueAnimation){var h=Ee(e.style.opacity,1);e.style.opacity=0,ie(e,{style:{opacity:h}},a,v)}if(o.oldLayout=u,e.states.select){var c=o.oldLayoutSelect={};ge(c,u,he),ge(c,e.states.select,he)}if(e.states.emphasis){var f=o.oldLayoutEmphasis={};ge(f,u,he),ge(f,e.states.emphasis,he)}Xa(e,v,s,a,a)}if(r&&!r.ignore&&!r.invisible){var o=Vt(r),i=o.oldLayout,d={points:r.shape.points};i?(r.attr({shape:i}),be(r,{shape:d},a)):(r.setShape(d),r.style.strokePercent=0,ie(r,{style:{strokePercent:1}},a)),o.oldLayout=d}},n}(),zt=Gt,Oe=_e();function Yt(n){n.registerUpdateLifecycle("series:beforeupdate",function(t,a,e){var r=Oe(a).labelManager;r||(r=Oe(a).labelManager=new zt),r.clearLabels()}),n.registerUpdateLifecycle("series:layoutlabels",function(t,a,e){var r=Oe(a).labelManager;e.updatedSeries.forEach(function(o){r.addLabelsOfSeries(a.getViewOfSeriesModel(o))}),r.updateLayoutConfig(a),r.layout(a),r.processLabelsOverall()})}var de=Math.PI*2,ia=Math.PI/180;function ya(n,t){return ja(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function ba(n,t){var a=ya(n,t),e=n.get("center"),r=n.get("radius");Ve(r)||(r=[0,r]);var o=G(a.width,t.getWidth()),i=G(a.height,t.getHeight()),l=Math.min(o,i),v=G(r[0],l/2),u=G(r[1],l/2),s,h,g=n.coordinateSystem;if(g){var c=g.dataToPoint(e);s=c[0]||0,h=c[1]||0}else Ve(e)||(e=[e,e]),s=G(e[0],o)+a.x,h=G(e[1],i)+a.y;return{cx:s,cy:h,r0:v,r:u}}function Xt(n,t,a){t.eachSeriesByType(n,function(e){var r=e.getData(),o=r.mapDimension("value"),i=ya(e,a),l=ba(e,a),v=l.cx,u=l.cy,s=l.r,h=l.r0,g=-e.get("startAngle")*ia,c=e.get("minAngle")*ia,f=0;r.each(o,function(P){!isNaN(P)&&f++});var d=r.getSum(o),p=Math.PI/(d||f)*2,m=e.get("clockwise"),y=e.get("roseType"),b=e.get("stillShowZeroSum"),x=r.getDataExtent(o);x[0]=0;var _=de,T=0,M=g,L=m?1:-1;if(r.setLayout({viewRect:i,r:s}),r.each(o,function(P,O){var w;if(isNaN(P)){r.setItemLayout(O,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:m,cx:v,cy:u,r0:h,r:y?NaN:s});return}y!=="area"?w=d===0&&b?p:P*p:w=de/f,w<c?(w=c,_-=c):T+=P;var I=M+L*w;r.setItemLayout(O,{angle:w,startAngle:M,endAngle:I,clockwise:m,cx:v,cy:u,r0:h,r:y?Ua(P,x,[h,s]):s}),M=I}),_<de&&f)if(_<=.001){var C=de/f;r.each(o,function(P,O){if(!isNaN(P)){var w=r.getItemLayout(O);w.angle=C,w.startAngle=g+L*O*C,w.endAngle=g+L*(O+1)*C}})}else p=_/T,M=g,r.each(o,function(P,O){if(!isNaN(P)){var w=r.getItemLayout(O),I=w.angle===c?c:P*p;w.startAngle=M,w.endAngle=M+L*I,M+=L*I}})})}function Ut(n){return{seriesType:n,reset:function(t,a){var e=a.findComponents({mainType:"legend"});if(!(!e||!e.length)){var r=t.getData();r.filterSelf(function(o){for(var i=r.getName(o),l=0;l<e.length;l++)if(!e[l].isSelected(i))return!1;return!0})}}}}var jt=Math.PI/180;function sa(n,t,a,e,r,o,i,l,v,u){if(n.length<2)return;function s(d){for(var p=d.rB,m=p*p,y=0;y<d.list.length;y++){var b=d.list[y],x=Math.abs(b.label.y-a),_=e+b.len,T=_*_,M=Math.sqrt((1-Math.abs(x*x/m))*T),L=t+(M+b.len2)*r,C=L-b.label.x,P=b.targetTextWidth-C*r;La(b,P,!0),b.label.x=L}}function h(d){for(var p={list:[],maxY:0},m={list:[],maxY:0},y=0;y<d.length;y++)if(d[y].labelAlignTo==="none"){var b=d[y],x=b.label.y>a?m:p,_=Math.abs(b.label.y-a);if(_>=x.maxY){var T=b.label.x-t-b.len2*r,M=e+b.len,L=Math.abs(T)<M?Math.sqrt(_*_/(1-T*T/M/M)):M;x.rB=L,x.maxY=_}x.list.push(b)}s(p),s(m)}for(var g=n.length,c=0;c<g;c++)if(n[c].position==="outer"&&n[c].labelAlignTo==="labelLine"){var f=n[c].label.x-u;n[c].linePoints[1][0]+=f,n[c].label.x=u}va(n,v,v+i)&&h(n)}function qt(n,t,a,e,r,o,i,l){for(var v=[],u=[],s=Number.MAX_VALUE,h=-Number.MAX_VALUE,g=0;g<n.length;g++){var c=n[g].label;Re(n[g])||(c.x<t?(s=Math.min(s,c.x),v.push(n[g])):(h=Math.max(h,c.x),u.push(n[g])))}for(var g=0;g<n.length;g++){var f=n[g];if(!Re(f)&&f.linePoints){if(f.labelStyleWidth!=null)continue;var c=f.label,d=f.linePoints,p=void 0;f.labelAlignTo==="edge"?c.x<t?p=d[2][0]-f.labelDistance-i-f.edgeDistance:p=i+r-f.edgeDistance-d[2][0]-f.labelDistance:f.labelAlignTo==="labelLine"?c.x<t?p=s-i-f.bleedMargin:p=i+r-h-f.bleedMargin:c.x<t?p=c.x-i-f.bleedMargin:p=i+r-c.x-f.bleedMargin,f.targetTextWidth=p,La(f,p)}}sa(u,t,a,e,1,r,o,i,l,h),sa(v,t,a,e,-1,r,o,i,l,s);for(var g=0;g<n.length;g++){var f=n[g];if(!Re(f)&&f.linePoints){var c=f.label,d=f.linePoints,m=f.labelAlignTo==="edge",y=c.style.padding,b=y?y[1]+y[3]:0,x=c.style.backgroundColor?0:b,_=f.rect.width+x,T=d[1][0]-d[2][0];m?c.x<t?d[2][0]=i+f.edgeDistance+_+f.labelDistance:d[2][0]=i+r-f.edgeDistance-_-f.labelDistance:(c.x<t?d[2][0]=c.x+f.labelDistance:d[2][0]=c.x-f.labelDistance,d[1][0]=d[2][0]+T),d[1][1]=d[2][1]=c.y}}}function La(n,t,a){if(a===void 0&&(a=!1),n.labelStyleWidth==null){var e=n.label,r=e.style,o=n.rect,i=r.backgroundColor,l=r.padding,v=l?l[1]+l[3]:0,u=r.overflow,s=o.width+(i?0:v);if(t<s||a){var h=o.height;if(u&&u.match("break")){e.setStyle("backgroundColor",null),e.setStyle("width",t-v);var g=e.getBoundingRect();e.setStyle("width",Math.ceil(g.width)),e.setStyle("backgroundColor",i)}else{var c=t-v,f=t<s?c:a?c>n.unconstrainedWidth?null:c:null;e.setStyle("width",f)}var d=e.getBoundingRect();o.width=d.width;var p=(e.style.margin||0)+2.1;o.height=d.height+p,o.y-=(o.height-h)/2}}}function Re(n){return n.position==="center"}function Ft(n){var t=n.getData(),a=[],e,r,o=!1,i=(n.get("minShowLabelAngle")||0)*jt,l=t.getLayout("viewRect"),v=t.getLayout("r"),u=l.width,s=l.x,h=l.y,g=l.height;function c(T){T.ignore=!0}function f(T){if(!T.ignore)return!0;for(var M in T.states)if(T.states[M].ignore===!1)return!0;return!1}t.each(function(T){var M=t.getItemGraphicEl(T),L=M.shape,C=M.getTextContent(),P=M.getTextGuideLine(),O=t.getItemModel(T),w=O.getModel("label"),I=w.get("position")||O.get(["emphasis","label","position"]),xe=w.get("distanceToLabelLine"),Ce=w.get("alignTo"),Me=G(w.get("edgeDistance"),u),Sa=w.get("bleedMargin"),oe=O.getModel("labelLine"),K=oe.get("length");K=G(K,u);var le=oe.get("length2");if(le=G(le,u),Math.abs(L.endAngle-L.startAngle)<i){re(C.states,c),C.ignore=!0,P&&(re(P.states,c),P.ignore=!0);return}if(!!f(C)){var ce=(L.startAngle+L.endAngle)/2,R=Math.cos(ce),j=Math.sin(ce),J,ve,Ye,ue;e=L.cx,r=L.cy;var F=I==="inside"||I==="inner";if(I==="center")J=L.cx,ve=L.cy,ue="center";else{var Ae=(F?(L.r+L.r0)/2*R:L.r*R)+e,Te=(F?(L.r+L.r0)/2*j:L.r*j)+r;if(J=Ae+R*3,ve=Te+j*3,!F){var Xe=Ae+R*(K+v-L.r),Ue=Te+j*(K+v-L.r),je=Xe+(R<0?-1:1)*le,qe=Ue;Ce==="edge"?J=R<0?s+Me:s+u-Me:J=je+(R<0?-xe:xe),ve=qe,Ye=[[Ae,Te],[Xe,Ue],[je,qe]]}ue=F?"center":Ce==="edge"?R>0?"right":"left":R>0?"left":"right"}var Q=Math.PI,H=0,ee=w.get("rotate");if(ua(ee))H=ee*(Q/180);else if(I==="center")H=0;else if(ee==="radial"||ee===!0){var _a=R<0?-ce+Q:-ce;H=_a}else if(ee==="tangential"&&I!=="outside"&&I!=="outer"){var Z=Math.atan2(R,j);Z<0&&(Z=Q*2+Z);var xa=j>0;xa&&(Z=Q+Z),H=Z-Q}if(o=!!H,C.x=J,C.y=ve,C.rotation=H,C.setStyle({verticalAlign:"middle"}),F){C.setStyle({align:ue});var we=C.states.select;we&&(we.x+=C.x,we.y+=C.y)}else{var ae=C.getBoundingRect().clone();ae.applyTransform(C.getComputedTransform());var Fe=(C.style.margin||0)+2.1;ae.y-=Fe/2,ae.height+=Fe,a.push({label:C,labelLine:P,position:I,len:K,len2:le,minTurnAngle:oe.get("minTurnAngle"),maxSurfaceAngle:oe.get("maxSurfaceAngle"),surfaceNormal:new D(R,j),linePoints:Ye,textAlign:ue,labelDistance:xe,labelAlignTo:Ce,edgeDistance:Me,bleedMargin:Sa,rect:ae,unconstrainedWidth:ae.width,labelStyleWidth:C.style.width})}M.setTextConfig({inside:F})}}),!o&&n.get("avoidLabelOverlap")&&qt(a,e,r,v,u,g,s,h);for(var d=0;d<a.length;d++){var p=a[d],m=p.label,y=p.labelLine,b=isNaN(m.x)||isNaN(m.y);if(m){m.setStyle({align:p.textAlign}),b&&(re(m.states,c),m.ignore=!0);var x=m.states.select;x&&(x.x+=m.x,x.y+=m.y)}if(y){var _=p.linePoints;b||!_?(re(y.states,c),y.ignore=!0):(da(_,p.minTurnAngle),Ot(_,p.surfaceNormal,p.maxSurfaceAngle),y.setShape({points:_}),m.__hostTarget.textGuideLineConfig={anchor:new D(_[0][0],_[0][1])})}}}function pe(n,t,a){var e=n.get("borderRadius");if(e==null)return a?{cornerRadius:0}:null;Ve(e)||(e=[e,e,e,e]);var r=Math.abs(t.r||0-t.r0||0);return{cornerRadius:qa(e,function(o){return Fa(o,r)})}}var Ht=function(n){ze(t,n);function t(a,e,r){var o=n.call(this)||this;o.z2=2;var i=new Ha;return o.setTextContent(i),o.updateData(a,e,r,!0),o}return t.prototype.updateData=function(a,e,r,o){var i=this,l=a.hostModel,v=a.getItemModel(e),u=v.getModel("emphasis"),s=a.getItemLayout(e),h=W(pe(v.getModel("itemStyle"),s,!0),s);if(isNaN(h.startAngle)){i.setShape(h);return}if(o){i.setShape(h);var g=l.getShallow("animationType");l.ecModel.ssr?(ie(i,{scaleX:0,scaleY:0},l,{dataIndex:e,isFrom:!0}),i.originX=h.cx,i.originY=h.cy):g==="scale"?(i.shape.r=s.r0,ie(i,{shape:{r:s.r}},l,e)):r!=null?(i.setShape({startAngle:r,endAngle:r}),ie(i,{shape:{startAngle:s.startAngle,endAngle:s.endAngle}},l,e)):(i.shape.endAngle=s.startAngle,be(i,{shape:{endAngle:s.endAngle}},l,e))}else Za(i),be(i,{shape:h},l,e);i.useStyle(a.getItemVisual(e,"style")),Wa(i,v);var c=(s.startAngle+s.endAngle)/2,f=l.get("selectedOffset"),d=Math.cos(c)*f,p=Math.sin(c)*f,m=v.getShallow("cursor");m&&i.attr("cursor",m),this._updateLabel(l,a,e),i.ensureState("emphasis").shape=W({r:s.r+(u.get("scale")&&u.get("scaleSize")||0)},pe(u.getModel("itemStyle"),s)),W(i.ensureState("select"),{x:d,y:p,shape:pe(v.getModel(["select","itemStyle"]),s)}),W(i.ensureState("blur"),{shape:pe(v.getModel(["blur","itemStyle"]),s)});var y=i.getTextGuideLine(),b=i.getTextContent();y&&W(y.ensureState("select"),{x:d,y:p}),W(b.ensureState("select"),{x:d,y:p}),Ka(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(a,e,r){var o=this,i=e.getItemModel(r),l=i.getModel("labelLine"),v=e.getItemVisual(r,"style"),u=v&&v.fill,s=v&&v.opacity;Ja(o,Qa(i),{labelFetcher:e.hostModel,labelDataIndex:r,inheritColor:u,defaultOpacity:s,defaultText:a.getFormattedLabel(r,"normal")||e.getName(r)});var h=o.getTextContent();o.setTextConfig({position:null,rotation:null}),h.attr({z2:10});var g=a.get(["label","position"]);if(g!=="outside"&&g!=="outer")o.removeTextGuideLine();else{var c=this.getTextGuideLine();c||(c=new ca,this.setTextGuideLine(c)),pa(this,ma(i),{stroke:u,opacity:et(l.get(["lineStyle","opacity"]),s,1)})}},t}(fa),Zt=function(n){ze(t,n);function t(){var a=n!==null&&n.apply(this,arguments)||this;return a.ignoreLabelLineUpdate=!0,a}return t.prototype.render=function(a,e,r,o){var i=a.getData(),l=this._data,v=this.group,u;if(!l&&i.count()>0){for(var s=i.getItemLayout(0),h=1;isNaN(s&&s.startAngle)&&h<i.count();++h)s=i.getItemLayout(h);s&&(u=s.startAngle)}if(this._emptyCircleSector&&v.remove(this._emptyCircleSector),i.count()===0&&a.get("showEmptyCircle")){var g=new fa({shape:ba(a,r)});g.useStyle(a.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=g,v.add(g)}i.diff(l).add(function(c){var f=new Ht(i,c,u);i.setItemGraphicEl(c,f),v.add(f)}).update(function(c,f){var d=l.getItemGraphicEl(f);d.updateData(i,c,u),d.off("click"),v.add(d),i.setItemGraphicEl(c,d)}).remove(function(c){var f=l.getItemGraphicEl(c);at(f,a,c)}).execute(),Ft(a),a.get("animationTypeUpdate")!=="expansion"&&(this._data=i)},t.prototype.dispose=function(){},t.prototype.containPoint=function(a,e){var r=e.getData(),o=r.getItemLayout(0);if(o){var i=a[0]-o.cx,l=a[1]-o.cy,v=Math.sqrt(i*i+l*l);return v<=o.r&&v>=o.r0}},t.type="pie",t}(tt),Wt=Zt,Kt=function(){function n(t,a){this._getDataWithEncodedVisual=t,this._getRawData=a}return n.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},n.prototype.containName=function(t){var a=this._getRawData();return a.indexOfName(t)>=0},n.prototype.indexOfName=function(t){var a=this._getDataWithEncodedVisual();return a.indexOfName(t)},n.prototype.getItemVisual=function(t,a){var e=this._getDataWithEncodedVisual();return e.getItemVisual(t,a)},n}(),Jt=Kt,Qt=_e(),er=function(n){ze(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(a){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Jt(aa(this.getData,this),aa(this.getRawData,this)),this._defaultLabelLine(a)},t.prototype.mergeOption=function(){n.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return dt(this,{coordDimensions:["value"],encodeDefaulter:ga(rt,this)})},t.prototype.getDataParams=function(a){var e=this.getData(),r=Qt(e),o=r.seats;if(!o){var i=[];e.each(e.mapDimension("value"),function(v){i.push(v)}),o=r.seats=nt(i,e.hostModel.get("percentPrecision"))}var l=n.prototype.getDataParams.call(this,a);return l.percent=o[a]||0,l.$vars.push("percent"),l},t.prototype._defaultLabelLine=function(a){it(a,"labelLine",["show"]);var e=a.labelLine,r=a.emphasis.labelLine;e.show=e.show&&a.label.show,r.show=r.show&&a.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(st),ar=er;function tr(n){return{seriesType:n,reset:function(t,a){var e=t.getData();e.filterSelf(function(r){var o=e.mapDimension("value"),i=e.get(o,r);return!(ua(i)&&!isNaN(i)&&i<0)})}}}function rr(n){n.registerChartView(Wt),n.registerSeriesModel(ar),ot("pie",n.registerAction),n.registerLayout(ga(Xt,"pie")),n.registerProcessor(Ut("pie")),n.registerProcessor(tr("pie"))}lt([rr,vt,ut,ft,gt,ht,Yt]);const nr=la({name:"BalanceChart",components:{"v-chart":ct},props:{currencies:{required:!0,type:Array},showTitle:{required:!1,type:Boolean}},setup(n){const t=Ca();return{balanceChartOptions:me(()=>({title:{text:"Balance",show:n.showTitle},center:["50%","50%"],backgroundColor:"rgba(0, 0, 0, 0)",dataset:{dimensions:["balance","currency","est_stake","free","used","stake"],source:n.currencies},tooltip:{trigger:"item",formatter:e=>`${He(e.value.balance,e.value.currency,8)}<br />${e.percent}% (${He(e.value.est_stake,e.value.stake)})`},series:[{type:"pie",radius:["40%","70%"],encode:{value:"est_stake",itemName:"currency",tooltip:["balance","currency"]},label:{formatter:"{b} - {d}%"},tooltip:{show:!0}}]})),settingsStore:t}}});function ir(n,t,a,e,r,o){const i=$e("v-chart");return n.currencies?(E(),ye(i,{key:0,option:n.balanceChartOptions,theme:n.settingsStore.chartTheme,autoresize:""},null,8,["option","theme"])):se("",!0)}var sr=Ge(nr,[["render",ir],["__scopeId","data-v-6f90a4a6"]]);const or={class:"mb-2"},lr=B("label",{class:"me-auto h3"},"Balance",-1),cr={class:"float-end d-flex flex-row"},vr={key:0},ur=B("td",null,[B("strong",null,"Total")],-1),fr=["title"],pr=la({__name:"Balance",setup(n){const t=Ma(),a=Aa(!0),e=me(()=>Number((.1**t.activeBot.stakeCurrencyDecimals).toFixed(8))),r=me(()=>{var l;return a.value?(l=t.activeBot.balance.currencies)==null?void 0:l.filter(v=>v.est_stake>=e.value):t.activeBot.balance.currencies}),o=l=>l?Pa(l,5):"",i=me(()=>[{key:"currency",label:"Currency"},{key:"free",label:"Available",formatter:o},{key:"est_stake",label:`in ${t.activeBot.balance.stake}`,formatter:o}]);return(l,v)=>{const u=$e("b-button"),s=$e("b-table");return E(),U("div",null,[B("div",or,[lr,B("div",cr,[Pe(u,{size:"sm",title:"Hide small balances",onClick:v[0]||(v[0]=h=>a.value=!a.value)},{default:De(()=>[a.value?(E(),ye(_t,{key:0,size:16})):(E(),ye(Pt,{key:1,size:16}))]),_:1}),Pe(u,{class:"float-end",size:"sm",onClick:$(t).activeBot.getBalance},{default:De(()=>[Ta("\u21BB")]),_:1},8,["onClick"])])]),$(r)?(E(),ye(sr,{key:0,currencies:$(r)},null,8,["currencies"])):se("",!0),B("div",null,[$(t).activeBot.balance.note?(E(),U("p",vr,[B("strong",null,ne($(t).activeBot.balance.note),1)])):se("",!0),Pe(s,{class:"table-sm",items:$(r),fields:$(i)},{"custom-foot":De(()=>[ur,B("td",null,[B("span",{class:"font-italic",title:`Increase over initial capital of ${o($(t).activeBot.balance.starting_capital)} ${$(t).activeBot.balance.stake}`},ne($(wa)($(t).activeBot.balance.starting_capital_ratio)),9,fr)]),B("td",null,[B("strong",null,ne(o($(t).activeBot.balance.total)),1)])]),_:1},8,["items","fields"])])])}}});export{pr as default};
//# sourceMappingURL=Balance.cfdc47b6.js.map
