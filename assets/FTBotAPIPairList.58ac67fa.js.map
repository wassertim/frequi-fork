{"version":3,"file":"FTBotAPIPairList.58ac67fa.js","sources":["../../src/components/ftbot/FTBotAPIPairList.vue"],"sourcesContent":["<template>\n  <!-- TODO We could move the list into a component since we are reusing the same code for both lists. -->\n  <div>\n    <div>\n      <h3>Whitelist Methods</h3>\n\n      <div v-if=\"botStore.activeBot.pairlistMethods.length\" class=\"list\">\n        <b-list-group v-for=\"(method, key) in botStore.activeBot.pairlistMethods\" :key=\"key\">\n          <b-list-group-item href=\"#\" class=\"pair white\">{{ method }}</b-list-group-item>\n        </b-list-group>\n      </div>\n    </div>\n    <!-- Show Whitelist -->\n    <h3 :title=\"`${botStore.activeBot.whitelist.length} pairs`\">Whitelist</h3>\n    <div v-if=\"botStore.activeBot.whitelist.length\" class=\"list\">\n      <b-list-group v-for=\"(pair, key) in botStore.activeBot.whitelist\" :key=\"key\">\n        <b-list-group-item class=\"pair white\">{{ pair }}</b-list-group-item>\n      </b-list-group>\n    </div>\n    <p v-else>List Unavailable. Please Login and make sure server is running.</p>\n    <hr />\n\n    <!-- Blacklsit -->\n    <div>\n      <label\n        class=\"me-auto h3\"\n        title=\"Blacklist - Select (followed by a click on '-') to remove pairs\"\n        >Blacklist</label\n      >\n      <div class=\"float-end d-flex d-flex-columns pe-1\">\n        <b-button\n          id=\"blacklist-add-btn\"\n          class=\"me-1\"\n          :class=\"botStore.activeBot.botApiVersion >= 1.12 ? 'col-6' : ''\"\n          size=\"sm\"\n          >+\n        </b-button>\n        <b-button\n          v-if=\"botStore.activeBot.botApiVersion >= 1.12\"\n          size=\"sm\"\n          class=\"col-6\"\n          title=\"Select pairs to delete pairs from your blacklist.\"\n          :disabled=\"blacklistSelect.length === 0\"\n          @click=\"deletePairs\"\n        >\n          <DeleteIcon :size=\"16\" title=\"Delete Bot\" />\n        </b-button>\n      </div>\n      <b-popover\n        title=\"Add to blacklist\"\n        target=\"blacklist-add-btn\"\n        triggers=\"click\"\n        :show.sync=\"blackListShow\"\n      >\n        <form ref=\"form\" @submit.prevent>\n          <div>\n            <b-form-group label-cols=\"2\" label=\"Pair\" label-for=\"pair-input\">\n              <b-form-input\n                id=\"pair-input\"\n                v-model=\"newblacklistpair\"\n                required\n                autofocus\n              ></b-form-input>\n            </b-form-group>\n            <b-button\n              id=\"blacklist-submit\"\n              class=\"float-end mb-2\"\n              size=\"sm\"\n              type=\"submit\"\n              @click=\"addBlacklistPair\"\n            >\n              Add</b-button\n            >\n          </div>\n        </form>\n      </b-popover>\n    </div>\n    <div v-if=\"botStore.activeBot.blacklist.length\" class=\"list\">\n      <b-list-group v-for=\"(pair, key) in botStore.activeBot.blacklist\" :key=\"key\">\n        <b-list-group-item\n          class=\"pair black\"\n          :active=\"blacklistSelect.indexOf(key) > -1\"\n          @click=\"blacklistSelectClick(key)\"\n          ><span class=\"check\">&#x2714;</span>{{ pair }}</b-list-group-item\n        >\n      </b-list-group>\n    </div>\n    <p v-else>BlackList Unavailable. Please Login and make sure server is running.</p>\n    <!-- Pagination -->\n    <!-- TODO Add pagination support -->\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport DeleteIcon from 'vue-material-design-icons/Delete.vue';\nimport { defineComponent, ref, onMounted } from 'vue';\nimport { useBotStore } from '@/stores/ftbotwrapper';\n\nexport default defineComponent({\n  name: 'FTBotAPIPairList',\n  components: { DeleteIcon },\n  setup() {\n    const newblacklistpair = ref('');\n    const blackListShow = ref(false);\n    const blacklistSelect = ref<number[]>([]);\n    const botStore = useBotStore();\n\n    const initBlacklist = () => {\n      if (botStore.activeBot.whitelist.length === 0) {\n        botStore.activeBot.getWhitelist();\n      }\n      if (botStore.activeBot.blacklist.length === 0) {\n        botStore.activeBot.getBlacklist();\n      }\n    };\n\n    const addBlacklistPair = () => {\n      if (newblacklistpair.value) {\n        blackListShow.value = false;\n\n        botStore.activeBot.addBlacklist({ blacklist: [newblacklistpair.value] });\n        newblacklistpair.value = '';\n      }\n    };\n\n    const blacklistSelectClick = (key) => {\n      console.log(key);\n      const index = blacklistSelect.value.indexOf(key);\n      if (index > -1) {\n        blacklistSelect.value.splice(index, 1);\n      } else {\n        blacklistSelect.value.push(key);\n      }\n    };\n\n    const deletePairs = () => {\n      if (blacklistSelect.value.length === 0) {\n        console.log('nothing to delete');\n        return;\n      }\n      // const pairlist = blacklistSelect.value;\n      const pairlist = botStore.activeBot.blacklist.filter(\n        (value, index) => blacklistSelect.value.indexOf(index) > -1,\n      );\n      console.log('Deleting pairs: ', pairlist);\n      botStore.activeBot.deleteBlacklist(pairlist);\n      blacklistSelect.value = [];\n    };\n    onMounted(() => {\n      initBlacklist();\n    });\n    return {\n      addBlacklistPair,\n      deletePairs,\n      initBlacklist,\n      blacklistSelectClick,\n      botStore,\n      newblacklistpair,\n      blackListShow,\n      blacklistSelect,\n    };\n  },\n});\n</script>\n\n<style scoped lang=\"scss\">\n.check {\n  // Hidden checkbox on blacklist selection\n  background: #41b883;\n  opacity: 0;\n  border-radius: 50%;\n  z-index: 5;\n  width: 1.3em;\n  height: 1.3em;\n  top: -0.2em;\n  left: -0.2em;\n  position: absolute;\n  transition: opacity 0.2s;\n}\n\n.list-group-item.active .check {\n  opacity: 1;\n}\n\n.list {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));\n  grid-gap: 0.5rem;\n  padding-bottom: 1rem;\n}\n\n.pair {\n  border: 1px solid #ccc;\n  background: #41b883;\n  padding: 0.5rem;\n  border-radius: 5px;\n  text-align: center;\n  position: relative;\n  cursor: pointer;\n}\n\n.white {\n  background: white;\n  color: black;\n}\n\n.black {\n  background: black;\n  color: white;\n}\n</style>\n"],"names":["_sfc_main","defineComponent","DeleteIcon","newblacklistpair","ref","blackListShow","blacklistSelect","botStore","useBotStore","initBlacklist","addBlacklistPair","blacklistSelectClick","key","index","deletePairs","pairlist","value","onMounted","_hoisted_1","_withScopeId","_createElementVNode","_hoisted_8","_hoisted_10","_createElementBlock","_ctx","_openBlock","_hoisted_2","_Fragment","_renderList","method","_createBlock","_component_b_list_group","_withCtx","_createVNode","_component_b_list_group_item","_createTextVNode","_toDisplayString","_hoisted_3","_hoisted_4","pair","_hoisted_6","_hoisted_7","_component_b_button","_normalizeClass","_component_DeleteIcon","_component_b_popover","_cache","_withModifiers","_component_b_form_group","_component_b_form_input","$event","_hoisted_9"],"mappings":"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"}