{"version":3,"file":"DraggableContainer.c4880ebe.js","sources":["../../src/components/charts/DailyChart.vue","../../src/components/layout/DraggableContainer.vue"],"sourcesContent":["<template>\n  <v-chart\n    v-if=\"dailyStats.data\"\n    :option=\"dailyChartOptions\"\n    :theme=\"settingsStore.chartTheme\"\n    autoresize\n  />\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed, ComputedRef } from 'vue';\nimport ECharts from 'vue-echarts';\n// import { EChartsOption } from 'echarts';\n\nimport { use } from 'echarts/core';\nimport { CanvasRenderer } from 'echarts/renderers';\nimport { LineChart, BarChart } from 'echarts/charts';\nimport {\n  DatasetComponent,\n  GridComponent,\n  LegendComponent,\n  TitleComponent,\n  TooltipComponent,\n  VisualMapComponent,\n} from 'echarts/components';\n\nimport { DailyReturnValue } from '@/types';\nimport { useSettingsStore } from '@/stores/settings';\nimport { EChartsOption } from 'echarts';\n\nuse([\n  BarChart,\n  LineChart,\n  CanvasRenderer,\n  GridComponent,\n  DatasetComponent,\n  LegendComponent,\n  TitleComponent,\n  TooltipComponent,\n  VisualMapComponent,\n]);\n\n// Define Column labels here to avoid typos\nconst CHART_ABS_PROFIT = 'Absolute profit';\nconst CHART_TRADE_COUNT = 'Trade Count';\n\nexport default defineComponent({\n  components: {\n    'v-chart': ECharts,\n  },\n  props: {\n    dailyStats: {\n      type: Object as () => DailyReturnValue,\n      required: true,\n    },\n    showTitle: {\n      type: Boolean,\n      default: true,\n    },\n  },\n\n  setup(props) {\n    const settingsStore = useSettingsStore();\n    const absoluteMin = computed(() =>\n      props.dailyStats.data.reduce(\n        (min, p) => (p.abs_profit < min ? p.abs_profit : min),\n        props.dailyStats.data[0]?.abs_profit,\n      ),\n    );\n    const absoluteMax = computed(() =>\n      props.dailyStats.data.reduce(\n        (max, p) => (p.abs_profit > max ? p.abs_profit : max),\n        props.dailyStats.data[0]?.abs_profit,\n      ),\n    );\n    const dailyChartOptions: ComputedRef<EChartsOption> = computed(() => {\n      return {\n        title: {\n          text: 'Daily profit',\n          show: props.showTitle,\n        },\n        backgroundColor: 'rgba(0, 0, 0, 0)',\n        dataset: {\n          dimensions: ['date', 'abs_profit', 'trade_count'],\n          source: props.dailyStats.data,\n        },\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            type: 'line',\n            label: {\n              backgroundColor: '#6a7985',\n            },\n          },\n        },\n        legend: {\n          data: [CHART_ABS_PROFIT, CHART_TRADE_COUNT],\n          right: '5%',\n        },\n        xAxis: [\n          {\n            type: 'category',\n          },\n        ],\n        visualMap: [\n          {\n            dimension: 1,\n            seriesIndex: 0,\n            show: false,\n            pieces: [\n              {\n                max: 0.0,\n                min: absoluteMin.value,\n                color: 'red',\n              },\n              {\n                min: 0.0,\n                max: absoluteMax.value,\n                color: 'green',\n              },\n            ],\n          },\n        ],\n        yAxis: [\n          {\n            type: 'value',\n            name: CHART_ABS_PROFIT,\n            splitLine: {\n              show: false,\n            },\n            nameRotate: 90,\n            nameLocation: 'middle',\n            nameGap: 40,\n          },\n          {\n            type: 'value',\n            name: CHART_TRADE_COUNT,\n            nameRotate: 90,\n            nameLocation: 'middle',\n            nameGap: 30,\n          },\n        ],\n        series: [\n          {\n            type: 'line',\n            name: CHART_ABS_PROFIT,\n            // Color is induced by visualMap\n          },\n          {\n            type: 'bar',\n            name: CHART_TRADE_COUNT,\n            itemStyle: {\n              color: 'rgba(150,150,150,0.3)',\n            },\n            yAxisIndex: 1,\n          },\n        ],\n      };\n    });\n\n    return {\n      dailyChartOptions,\n      settingsStore,\n    };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.echarts {\n  width: 100%;\n  height: 100%;\n  min-height: 240px;\n}\n</style>\n","<template>\n  <div class=\"card h-100 w-100\">\n    <div class=\"drag-header card-header\">\n      {{ header }}\n    </div>\n    <div class=\"card-body h-100 w-100 overflow-auto\">\n      <slot></slot>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n  name: 'DraggableContainer',\n  props: {\n    header: { required: true, type: String },\n  },\n});\n</script>\n\n<style scoped>\n.card-header {\n  padding: 0.25rem 0.5rem;\n}\n.card-body {\n  /* Padding should be controled by the contained element */\n  padding: 0;\n}\n</style>\n"],"names":["use","BarChart","LineChart","CanvasRenderer","GridComponent","DatasetComponent","LegendComponent","TitleComponent","TooltipComponent","VisualMapComponent","CHART_ABS_PROFIT","CHART_TRADE_COUNT","_sfc_main","defineComponent","ECharts","props","settingsStore","useSettingsStore","absoluteMin","computed","min","p","_a","absoluteMax","max","_ctx","_createBlock","_component_v_chart","_createCommentVNode","_hoisted_1","_hoisted_2","_hoisted_3","_openBlock","_createElementBlock","_createElementVNode","_toDisplayString","_renderSlot"],"mappings":"0QA8BAA,EAAI,CACFC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,CACF,CAAC,EAGD,MAAMC,EAAmB,kBACnBC,EAAoB,cAErBC,EAAaC,EAAa,CAC7B,WAAY,CACV,UAAWC,CACb,EACA,MAAO,CACL,WAAY,CACV,KAAM,OACN,SAAU,EACZ,EACA,UAAW,CACT,KAAM,QACN,QAAS,EACX,CACF,EAEA,MAAMC,EAAO,CACX,MAAMC,EAAgBC,IAChBC,EAAcC,EAAS,WAC3B,OAAAJ,EAAM,WAAW,KAAK,OACpB,CAACK,EAAKC,IAAOA,EAAE,WAAaD,EAAMC,EAAE,WAAaD,GACjDE,EAAAP,EAAM,WAAW,KAAK,KAAtB,YAAAO,EAA0B,UAC5B,EAAA,EAEIC,EAAcJ,EAAS,WAC3B,OAAAJ,EAAM,WAAW,KAAK,OACpB,CAACS,EAAKH,IAAOA,EAAE,WAAaG,EAAMH,EAAE,WAAaG,GACjDF,EAAAP,EAAM,WAAW,KAAK,KAAtB,YAAAO,EAA0B,UAC5B,EAAA,EAuFK,MAAA,CACL,kBAtFoDH,EAAS,KACtD,CACL,MAAO,CACL,KAAM,eACN,KAAMJ,EAAM,SACd,EACA,gBAAiB,mBACjB,QAAS,CACP,WAAY,CAAC,OAAQ,aAAc,aAAa,EAChD,OAAQA,EAAM,WAAW,IAC3B,EACA,QAAS,CACP,QAAS,OACT,YAAa,CACX,KAAM,OACN,MAAO,CACL,gBAAiB,SACnB,CACF,CACF,EACA,OAAQ,CACN,KAAM,CAACL,EAAkBC,CAAiB,EAC1C,MAAO,IACT,EACA,MAAO,CACL,CACE,KAAM,UACR,CACF,EACA,UAAW,CACT,CACE,UAAW,EACX,YAAa,EACb,KAAM,GACN,OAAQ,CACN,CACE,IAAK,EACL,IAAKO,EAAY,MACjB,MAAO,KACT,EACA,CACE,IAAK,EACL,IAAKK,EAAY,MACjB,MAAO,OACT,CACF,CACF,CACF,EACA,MAAO,CACL,CACE,KAAM,QACN,KAAMb,EACN,UAAW,CACT,KAAM,EACR,EACA,WAAY,GACZ,aAAc,SACd,QAAS,EACX,EACA,CACE,KAAM,QACN,KAAMC,EACN,WAAY,GACZ,aAAc,SACd,QAAS,EACX,CACF,EACA,OAAQ,CACN,CACE,KAAM,OACN,KAAMD,CAER,EACA,CACE,KAAM,MACN,KAAMC,EACN,UAAW,CACT,MAAO,uBACT,EACA,WAAY,CACd,CACF,CAAA,EAEH,EAIC,cAAAK,CAAA,CAEJ,CACF,CAAC,+CAnKS,OAAAS,EAAA,WAAW,UADnBC,EAKEC,EAAA,CAAA,IAAA,EAHC,OAAQF,EAAA,kBACR,MAAOA,EAAc,cAAA,WACtB,WAAA,EAAA,EAAA,KAAA,EAAA,CAAA,SAAA,OAAA,CAAA,GAAAG,EAAA,GAAA,EAAA,4DCSJ,MAAKhB,EAAaC,EAAa,CAC7B,KAAM,qBACN,MAAO,CACL,OAAQ,CAAE,SAAU,GAAM,KAAM,MAAO,CACzC,CACF,CAAC,EAlBMgB,EAAA,CAAA,MAAM,oBACJC,EAAA,CAAA,MAAM,2BAGNC,EAAA,CAAA,MAAM,+DAJb,OAAAC,EAAA,EAAAC,EAOM,MAPNJ,EAOM,CANJK,EAEM,MAFNJ,EAEMK,EADDV,EAAM,MAAA,EAAA,CAAA,EAEXS,EAEM,MAFNH,EAEM,CADJK,EAAaX,EAAA,OAAA,UAAA,CAAA,EAAA,OAAA,EAAA,CAAA,CAAA"}