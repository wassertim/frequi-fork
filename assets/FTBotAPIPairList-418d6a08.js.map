{"version":3,"file":"FTBotAPIPairList-418d6a08.js","sources":["../../src/components/ftbot/FTBotAPIPairList.vue"],"sourcesContent":["<template>\n  <!-- TODO We could move the list into a component since we are reusing the same code for both lists. -->\n  <div>\n    <div>\n      <h3>Whitelist Methods</h3>\n\n      <div v-if=\"botStore.activeBot.pairlistMethods.length\" class=\"list\">\n        <b-list-group v-for=\"(method, key) in botStore.activeBot.pairlistMethods\" :key=\"key\">\n          <b-list-group-item href=\"#\" class=\"pair white\">{{ method }}</b-list-group-item>\n        </b-list-group>\n      </div>\n    </div>\n    <!-- Show Whitelist -->\n    <h3 :title=\"`${botStore.activeBot.whitelist.length} pairs`\">Whitelist</h3>\n    <div v-if=\"botStore.activeBot.whitelist.length\" class=\"list\">\n      <b-list-group v-for=\"(pair, key) in botStore.activeBot.whitelist\" :key=\"key\">\n        <b-list-group-item class=\"pair white\">{{ pair }}</b-list-group-item>\n      </b-list-group>\n    </div>\n    <p v-else>List Unavailable. Please Login and make sure server is running.</p>\n    <hr />\n\n    <!-- Blacklsit -->\n    <div>\n      <label\n        class=\"me-auto h3\"\n        title=\"Blacklist - Select (followed by a click on '-') to remove pairs\"\n        >Blacklist</label\n      >\n      <div class=\"float-end d-flex d-flex-columns pe-1\">\n        <b-button\n          id=\"blacklist-add-btn\"\n          class=\"me-1\"\n          :class=\"botStore.activeBot.botApiVersion >= 1.12 ? 'col-6' : ''\"\n          size=\"sm\"\n          >+\n        </b-button>\n        <b-button\n          v-if=\"botStore.activeBot.botApiVersion >= 1.12\"\n          size=\"sm\"\n          class=\"col-6\"\n          title=\"Select pairs to delete pairs from your blacklist.\"\n          :disabled=\"blacklistSelect.length === 0\"\n          @click=\"deletePairs\"\n        >\n          <DeleteIcon :size=\"16\" title=\"Delete Bot\" />\n        </b-button>\n      </div>\n      <b-popover\n        title=\"Add to blacklist\"\n        target=\"blacklist-add-btn\"\n        triggers=\"click\"\n        :show=\"blackListShow\"\n      >\n        <form ref=\"form\" @submit.prevent>\n          <div>\n            <b-form-group label-cols=\"2\" label=\"Pair\" label-for=\"pair-input\">\n              <b-form-input\n                id=\"pair-input\"\n                v-model=\"newblacklistpair\"\n                required\n                autofocus\n              ></b-form-input>\n            </b-form-group>\n            <b-button\n              id=\"blacklist-submit\"\n              class=\"float-end mb-2\"\n              size=\"sm\"\n              type=\"submit\"\n              @click=\"addBlacklistPair\"\n            >\n              Add</b-button\n            >\n          </div>\n        </form>\n      </b-popover>\n    </div>\n    <div v-if=\"botStore.activeBot.blacklist.length\" class=\"list\">\n      <b-list-group v-for=\"(pair, key) in botStore.activeBot.blacklist\" :key=\"key\">\n        <b-list-group-item\n          class=\"pair black\"\n          :active=\"blacklistSelect.indexOf(key) > -1\"\n          @click=\"blacklistSelectClick(key)\"\n          ><span class=\"check\">&#x2714;</span>{{ pair }}</b-list-group-item\n        >\n      </b-list-group>\n    </div>\n    <p v-else>BlackList Unavailable. Please Login and make sure server is running.</p>\n    <!-- Pagination -->\n    <!-- TODO Add pagination support -->\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport DeleteIcon from 'vue-material-design-icons/Delete.vue';\nimport { defineComponent, ref, onMounted } from 'vue';\nimport { useBotStore } from '@/stores/ftbotwrapper';\n\nexport default defineComponent({\n  name: 'FTBotAPIPairList',\n  components: { DeleteIcon },\n  setup() {\n    const newblacklistpair = ref('');\n    const blackListShow = ref(false);\n    const blacklistSelect = ref<number[]>([]);\n    const botStore = useBotStore();\n\n    const initBlacklist = () => {\n      if (botStore.activeBot.whitelist.length === 0) {\n        botStore.activeBot.getWhitelist();\n      }\n      if (botStore.activeBot.blacklist.length === 0) {\n        botStore.activeBot.getBlacklist();\n      }\n    };\n\n    const addBlacklistPair = () => {\n      if (newblacklistpair.value) {\n        blackListShow.value = false;\n\n        botStore.activeBot.addBlacklist({ blacklist: [newblacklistpair.value] });\n        newblacklistpair.value = '';\n      }\n    };\n\n    const blacklistSelectClick = (key) => {\n      console.log(key);\n      const index = blacklistSelect.value.indexOf(key);\n      if (index > -1) {\n        blacklistSelect.value.splice(index, 1);\n      } else {\n        blacklistSelect.value.push(key);\n      }\n    };\n\n    const deletePairs = () => {\n      if (blacklistSelect.value.length === 0) {\n        console.log('nothing to delete');\n        return;\n      }\n      // const pairlist = blacklistSelect.value;\n      const pairlist = botStore.activeBot.blacklist.filter(\n        (value, index) => blacklistSelect.value.indexOf(index) > -1,\n      );\n      console.log('Deleting pairs: ', pairlist);\n      botStore.activeBot.deleteBlacklist(pairlist);\n      blacklistSelect.value = [];\n    };\n    onMounted(() => {\n      initBlacklist();\n    });\n    return {\n      addBlacklistPair,\n      deletePairs,\n      initBlacklist,\n      blacklistSelectClick,\n      botStore,\n      newblacklistpair,\n      blackListShow,\n      blacklistSelect,\n    };\n  },\n});\n</script>\n\n<style scoped lang=\"scss\">\n.check {\n  // Hidden checkbox on blacklist selection\n  background: #41b883;\n  opacity: 0;\n  border-radius: 50%;\n  z-index: 5;\n  width: 1.3em;\n  height: 1.3em;\n  top: -0.2em;\n  left: -0.2em;\n  position: absolute;\n  transition: opacity 0.2s;\n}\n\n.list-group-item.active .check {\n  opacity: 1;\n}\n\n.list {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));\n  grid-gap: 0.5rem;\n  padding-bottom: 1rem;\n}\n\n.pair {\n  border: 1px solid #ccc;\n  background: #41b883;\n  padding: 0.5rem;\n  border-radius: 5px;\n  text-align: center;\n  position: relative;\n  cursor: pointer;\n}\n\n.white {\n  background: white;\n  color: black;\n}\n\n.black {\n  background: black;\n  color: white;\n}\n</style>\n"],"names":["_sfc_main","defineComponent","DeleteIcon","newblacklistpair","ref","blackListShow","blacklistSelect","botStore","useBotStore","initBlacklist","addBlacklistPair","blacklistSelectClick","key","index","deletePairs","pairlist","value","onMounted","_hoisted_2","_hoisted_4","_hoisted_6","_withScopeId","_createElementVNode","_hoisted_7","_hoisted_9","_resolveComponent","_openBlock","_createElementBlock","_hoisted_1","_Fragment","_renderList","_ctx","method","_createBlock","_component_b_list_group","_withCtx","_createVNode","_component_b_list_group_item","_createCommentVNode","_hoisted_3","pair","_hoisted_5","_hoisted_8","_component_b_button","_normalizeClass","_component_DeleteIcon","_component_b_popover","_cache","_withModifiers","_component_b_form_group","_component_b_form_input","$event"],"mappings":"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"}