{"version":3,"file":"TradeList.8ad54ef3.js","sources":["../../node_modules/vue-material-design-icons/CloseBoxMultiple.vue","../../node_modules/vue-material-design-icons/GestureTap.vue","../../src/components/ftbot/TradeActions.vue","../../src/components/ftbot/ForceExitForm.vue","../../src/components/ftbot/TradeList.vue"],"sourcesContent":["<template>\n  <span v-bind=\"$attrs\"\n        :aria-hidden=\"!title\"\n        :aria-label=\"title\"\n        class=\"material-design-icon close-box-multiple-icon\"\n        role=\"img\"\n        @click=\"$emit('click', $event)\">\n    <svg :fill=\"fillColor\"\n         class=\"material-design-icon__svg\"\n         :width=\"size\"\n         :height=\"size\"\n         viewBox=\"0 0 24 24\">\n      <path d=\"M4 20H18V22H4C2.9 22 2 21.11 2 20V6H4V20M20.22 2H7.78C6.8 2 6 2.8 6 3.78V16.22C6 17.2 6.8 18 7.78 18H20.22C21.2 18 22 17.2 22 16.22V3.78C22 2.8 21.2 2 20.22 2M19 13.6L17.6 15L14 11.4L10.4 15L9 13.6L12.6 10L9 6.4L10.4 5L14 8.6L17.6 5L19 6.4L15.4 10L19 13.6Z\">\n        <title v-if=\"title\">{{ title }}</title>\n      </path>\n    </svg>\n  </span>\n</template>\n\n<script>\nexport default {\n  name: \"CloseBoxMultipleIcon\",\n  emits: ['click'],\n  props: {\n    title: {\n      type: String,\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n}\n</script>","<template>\n  <span v-bind=\"$attrs\"\n        :aria-hidden=\"!title\"\n        :aria-label=\"title\"\n        class=\"material-design-icon gesture-tap-icon\"\n        role=\"img\"\n        @click=\"$emit('click', $event)\">\n    <svg :fill=\"fillColor\"\n         class=\"material-design-icon__svg\"\n         :width=\"size\"\n         :height=\"size\"\n         viewBox=\"0 0 24 24\">\n      <path d=\"M10,9A1,1 0 0,1 11,8A1,1 0 0,1 12,9V13.47L13.21,13.6L18.15,15.79C18.68,16.03 19,16.56 19,17.14V21.5C18.97,22.32 18.32,22.97 17.5,23H11C10.62,23 10.26,22.85 10,22.57L5.1,18.37L5.84,17.6C6.03,17.39 6.3,17.28 6.58,17.28H6.8L10,19V9M11,5A4,4 0 0,1 15,9C15,10.5 14.2,11.77 13,12.46V11.24C13.61,10.69 14,9.89 14,9A3,3 0 0,0 11,6A3,3 0 0,0 8,9C8,9.89 8.39,10.69 9,11.24V12.46C7.8,11.77 7,10.5 7,9A4,4 0 0,1 11,5Z\">\n        <title v-if=\"title\">{{ title }}</title>\n      </path>\n    </svg>\n  </span>\n</template>\n\n<script>\nexport default {\n  name: \"GestureTapIcon\",\n  emits: ['click'],\n  props: {\n    title: {\n      type: String,\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n}\n</script>","<template>\n  <div class=\"d-flex flex-column\">\n    <b-button\n      v-if=\"botApiVersion <= 1.1\"\n      class=\"btn-xs text-start\"\n      size=\"sm\"\n      title=\"Forceexit\"\n      @click=\"$emit('forceExit', trade)\"\n    >\n      <ForceSellIcon :size=\"16\" title=\"Forceexit\" class=\"me-1\" />Forceexit\n    </b-button>\n    <b-button\n      v-if=\"botApiVersion > 1.1\"\n      class=\"btn-xs text-start\"\n      size=\"sm\"\n      title=\"Forceexit limit\"\n      @click=\"$emit('forceExit', trade, 'limit')\"\n    >\n      <ForceSellIcon :size=\"16\" title=\"Forceexit limit\" class=\"me-1\" />Forceexit limit\n    </b-button>\n    <b-button\n      v-if=\"botApiVersion > 1.1\"\n      class=\"btn-xs text-start mt-1\"\n      size=\"sm\"\n      title=\"Forceexit market\"\n      @click=\"$emit('forceExit', trade, 'market')\"\n    >\n      <ForceSellIcon :size=\"16\" title=\"Forceexit market\" class=\"me-1\" />Forceexit market\n    </b-button>\n    <b-button\n      v-if=\"botApiVersion > 2.16\"\n      class=\"btn-xs text-start mt-1\"\n      size=\"sm\"\n      title=\"Forceexit partial\"\n      @click=\"$emit('forceExitPartial', trade)\"\n    >\n      <ForceSellIcon :size=\"16\" title=\"Forceexit partial\" class=\"me-1\" />Forceexit partial\n    </b-button>\n\n    <b-button\n      class=\"btn-xs text-start mt-1\"\n      size=\"sm\"\n      title=\"Delete trade\"\n      @click=\"$emit('deleteTrade', trade)\"\n    >\n      <DeleteIcon :size=\"16\" title=\"Delete trade\" class=\"me-1\" />\n      Delete\n    </b-button>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Trade } from '@/types';\nimport { defineComponent } from 'vue';\nimport DeleteIcon from 'vue-material-design-icons/Delete.vue';\nimport ForceSellIcon from 'vue-material-design-icons/CloseBoxMultiple.vue';\n\nexport default defineComponent({\n  name: 'TradeActions',\n  components: { DeleteIcon, ForceSellIcon },\n  props: {\n    botApiVersion: {\n      type: Number,\n      default: 1.0,\n    },\n    trade: {\n      type: Object as () => Trade,\n      required: true,\n    },\n  },\n  emits: ['forceExit', 'forceExitPartial', 'deleteTrade'],\n  setup() {\n    return {};\n  },\n});\n</script>\n\n<style scoped lang=\"scss\"></style>\n","<template>\n  <div>\n    <b-modal\n      id=\"forceexit-modal\"\n      v-model=\"model\"\n      title=\"Force exiting a trade\"\n      @show=\"resetForm\"\n      @hidden=\"resetForm\"\n      @ok=\"handleEntry\"\n    >\n      <form ref=\"form\" @submit.stop.prevent=\"handleSubmit\">\n        <p>\n          <span>Exiting Trade #{{ trade.trade_id }} {{ trade.pair }}.</span>\n          <br />\n          <span>Currently owning {{ trade.amount }} {{ trade.base_currency }}</span>\n        </p>\n        <b-form-group\n          v-if=\"botStore.activeBot.botApiVersion > 1.12\"\n          :label=\"`*Amount in ${trade.base_currency} [optional]`\"\n          label-for=\"stake-input\"\n          invalid-feedback=\"Amount must be empty or a positive number\"\n          :state=\"amount !== undefined && amount > 0\"\n        >\n          <b-form-input\n            id=\"stake-input\"\n            v-model=\"amount\"\n            type=\"number\"\n            step=\"0.000001\"\n            @keydown.enter.native=\"handleEntry\"\n          ></b-form-input>\n          <b-form-input\n            id=\"stake-input\"\n            v-model=\"amount\"\n            type=\"range\"\n            step=\"0.000001\"\n            min=\"0\"\n            :max=\"trade.amount\"\n            @keydown.enter.native=\"handleEntry\"\n          ></b-form-input>\n        </b-form-group>\n\n        <b-form-group\n          v-if=\"botStore.activeBot.botApiVersion > 1.1\"\n          label=\"*OrderType\"\n          label-for=\"ordertype-input\"\n          invalid-feedback=\"OrderType\"\n          :state=\"ordertype !== undefined\"\n        >\n          <b-form-select\n            v-model=\"ordertype\"\n            class=\"ms-2\"\n            :options=\"['market', 'limit']\"\n            style=\"min-width: 7em\"\n            size=\"sm\"\n          >\n          </b-form-select>\n        </b-form-group>\n      </form>\n    </b-modal>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { useBotStore } from '@/stores/ftbotwrapper';\nimport { ForceSellPayload, Trade } from '@/types';\n\nimport { defineComponent, ref, computed } from 'vue';\n\nexport default defineComponent({\n  name: 'ForceExitForm',\n  props: {\n    trade: {\n      type: Object as () => Trade,\n      required: true,\n    },\n    modelValue: { required: true, default: false, type: Boolean },\n  },\n  emits: ['update:modelValue'],\n  setup(props, { emit }) {\n    const botStore = useBotStore();\n\n    const form = ref<HTMLFormElement>();\n    const amount = ref<number | undefined>(undefined);\n    const ordertype = ref('limit');\n\n    const checkFormValidity = () => {\n      const valid = form.value?.checkValidity();\n\n      return valid;\n    };\n\n    const model = computed({\n      get() {\n        return props.modelValue;\n      },\n      set(value: boolean) {\n        emit('update:modelValue', value);\n      },\n    });\n\n    const handleSubmit = () => {\n      // Exit when the form isn't valid\n      if (!checkFormValidity()) {\n        return;\n      }\n      // call forceentry\n      const payload: ForceSellPayload = { tradeid: String(props.trade.trade_id) };\n\n      if (ordertype.value) {\n        payload.ordertype = ordertype.value;\n      }\n      if (amount.value) {\n        payload.amount = amount.value;\n      }\n      botStore.activeBot.forceexit(payload);\n      model.value = false;\n    };\n    const resetForm = () => {\n      amount.value = props.trade.amount;\n      if (botStore.activeBot.botApiVersion > 1.1) {\n        ordertype.value =\n          botStore.activeBot.botState?.order_types?.force_exit ||\n          botStore.activeBot.botState?.order_types?.exit ||\n          'limit';\n      }\n    };\n\n    const handleEntry = () => {\n      // Trigger submit handler\n      handleSubmit();\n    };\n    return {\n      handleSubmit,\n      botStore,\n      form,\n      handleEntry,\n      resetForm,\n      amount,\n      ordertype,\n      model,\n    };\n  },\n});\n</script>\n","<template>\n  <div class=\"h-100 overflow-auto w-100\">\n    <b-table\n      ref=\"tradesTable\"\n      small\n      hover\n      stacked=\"md\"\n      :items=\"[...trades]\"\n      :fields=\"tableFields\"\n      show-empty\n      :empty-text=\"emptyText\"\n      :per-page=\"perPage\"\n      :current-page=\"currentPage\"\n      primary-key=\"botTradeId\"\n      selectable\n      select-mode=\"single\"\n      :filter=\"filterText\"\n      @row-contextmenu=\"handleContextMenuEvent\"\n      @row-clicked=\"onRowClicked\"\n      @row-selected=\"onRowSelected\"\n    >\n      <template #cell(actions)=\"row\">\n        <b-button\n          :id=\"`btn-actions_${row.index}`\"\n          class=\"btn-xs\"\n          size=\"sm\"\n          title=\"Actions\"\n          href=\"#\"\n        >\n          <ActionIcon :size=\"16\" title=\"Actions\" />\n        </b-button>\n        <b-popover\n          :target=\"`btn-actions_${row.index}`\"\n          :title=\"`Actions for ${row.item.pair}`\"\n          triggers=\"focus\"\n          placement=\"left\"\n        >\n          <trade-actions\n            :trade=\"row.item\"\n            :bot-api-version=\"botStore.activeBot.botApiVersion\"\n            @deleteTrade=\"removeTradeHandler\"\n            @forceExit=\"forceExitHandler\"\n            @forceExitPartial=\"forceExitPartialHandler\"\n          />\n        </b-popover>\n      </template>\n      <template #cell(pair)=\"row\">\n        <span>\n          {{\n            `${row.item.pair}${\n              row.item.open_order_id === undefined || row.item.open_order_id === null ? '' : '*'\n            }`\n          }}\n        </span>\n      </template>\n      <template #cell(trade_id)=\"row\">\n        {{ row.item.trade_id }}\n        {{\n          botStore.activeBot.botApiVersion > 2.0 && row.item.trading_mode !== 'spot'\n            ? '| ' + (row.item.is_short ? 'Short' : 'Long')\n            : ''\n        }}\n      </template>\n      <template #cell(profit)=\"row\">\n        <trade-profit :trade=\"row.item\" />\n      </template>\n      <template #cell(open_timestamp)=\"row\">\n        <DateTimeTZ :date=\"row.item.open_timestamp\" />\n      </template>\n      <template #cell(close_timestamp)=\"row\">\n        <DateTimeTZ :date=\"row.item.close_timestamp\" />\n      </template>\n    </b-table>\n    <div class=\"w-100 d-flex justify-content-between\">\n      <b-pagination\n        v-if=\"!activeTrades\"\n        v-model=\"currentPage\"\n        :total-rows=\"rows\"\n        :per-page=\"perPage\"\n        aria-controls=\"my-table\"\n      ></b-pagination>\n      <b-form-input\n        v-if=\"showFilter\"\n        v-model=\"filterText\"\n        type=\"text\"\n        placeholder=\"Filter\"\n        size=\"sm\"\n        style=\"width: unset\"\n      />\n    </div>\n    <force-exit-form v-if=\"activeTrades\" v-model=\"forceExitVisible\" :trade=\"feTrade\" />\n    <b-modal\n      ref=\"removeTradeModal\"\n      v-model=\"removeTradeVisible\"\n      title=\"Exit trade\"\n      @ok=\"forceExitExecuter\"\n    >\n      {{ confirmExitText }}\n    </b-modal>\n  </div>\n</template>\n\n<script lang=\"ts\">\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport { formatPercent, formatPrice } from '@/shared/formatters';\nimport { MultiDeletePayload, MultiForcesellPayload, Trade } from '@/types';\nimport ActionIcon from 'vue-material-design-icons/GestureTap.vue';\nimport DateTimeTZ from '@/components/general/DateTimeTZ.vue';\nimport TradeProfit from './TradeProfit.vue';\nimport TradeActions from './TradeActions.vue';\nimport ForceExitForm from '@/components/ftbot/ForceExitForm.vue';\n\nimport { defineComponent, ref, computed, watch } from 'vue';\nimport { useBotStore } from '@/stores/ftbotwrapper';\n\nexport default defineComponent({\n  name: 'TradeList',\n  components: { ActionIcon, DateTimeTZ, TradeProfit, TradeActions, ForceExitForm },\n  props: {\n    trades: { required: true, type: Array as () => Array<Trade> },\n    title: { default: 'Trades', type: String },\n    stakeCurrency: { required: false, default: '', type: String },\n    activeTrades: { default: false, type: Boolean },\n    showFilter: { default: false, type: Boolean },\n    multiBotView: { default: false, type: Boolean },\n    emptyText: { default: 'No Trades to show.', type: String },\n  },\n  setup(props) {\n    const botStore = useBotStore();\n    const currentPage = ref(1);\n    const selectedItemIndex = ref();\n    const filterText = ref('');\n    const feTrade = ref<Trade>({} as Trade);\n    const perPage = props.activeTrades ? 200 : 15;\n    const tradesTable = ref<HTMLFormElement>();\n    const forceExitVisible = ref(false);\n    const removeTradeVisible = ref(false);\n    const confirmExitText = ref('');\n    const removeTradeModal = ref<HTMLElement>();\n\n    const openFields: Record<string, string | Function>[] = [{ key: 'actions' }];\n    const closedFields: Record<string, string | Function>[] = [\n      { key: 'close_timestamp', label: 'Close date' },\n      { key: 'exit_reason', label: 'Close Reason' },\n    ];\n    const formatPriceWithDecimals = (price) => {\n      return formatPrice(price, botStore.activeBot.stakeCurrencyDecimals);\n    };\n    const rows = computed(() => {\n      return props.trades.length;\n    });\n    const tableFields: Record<string, string | Function>[] = [\n      props.multiBotView ? { key: 'botName', label: 'Bot' } : {},\n      { key: 'trade_id', label: 'ID' },\n      { key: 'pair', label: 'Pair' },\n      { key: 'amount', label: 'Amount' },\n      {\n        key: 'stake_amount',\n        label: 'Stake amount',\n        formatter: (value: number) => formatPriceWithDecimals(value),\n      },\n      {\n        key: 'open_rate',\n        label: 'Open rate',\n        formatter: (value: number) => formatPrice(value),\n      },\n      {\n        key: props.activeTrades ? 'current_rate' : 'close_rate',\n        label: props.activeTrades ? 'Current rate' : 'Close rate',\n        formatter: (value: number) => formatPrice(value),\n      },\n      {\n        key: 'profit',\n        label: props.activeTrades ? 'Current profit %' : 'Profit %',\n        formatter: (value: number, key, item: Trade) => {\n          const percent = formatPercent(item.profit_ratio, 2);\n          return `${percent} ${`(${formatPriceWithDecimals(item.profit_abs)})`}`;\n        },\n      },\n      { key: 'open_timestamp', label: 'Open date' },\n      ...(props.activeTrades ? openFields : closedFields),\n    ];\n    const feOrderType = ref<string | undefined>(undefined);\n    const forceExitHandler = (item: Trade, ordertype: string | undefined = undefined) => {\n      feTrade.value = item;\n      confirmExitText.value = `Really exit trade ${item.trade_id} (Pair ${item.pair}) using ${ordertype} Order?`;\n      removeTradeVisible.value = true;\n      feOrderType.value = ordertype;\n    };\n\n    const forceExitExecuter = () => {\n      // TODO: this should be done properly.\n      if (confirmExitText.value.includes('delete')) {\n        const payload: MultiDeletePayload = {\n          tradeid: String(feTrade.value.trade_id),\n          botId: feTrade.value.botId,\n        };\n        botStore.deleteTradeMulti(payload).catch((error) => console.log(error.response));\n        removeTradeVisible.value = false;\n        return;\n      }\n      console.log(confirmExitText.value);\n\n      const payload: MultiForcesellPayload = {\n        tradeid: String(feTrade.value.trade_id),\n        botId: feTrade.value.botId,\n      };\n      if (feOrderType.value) {\n        payload.ordertype = feOrderType.value;\n      }\n      botStore\n        .forceSellMulti(payload)\n        .then((xxx) => console.log(xxx))\n        .catch((error) => console.log(error.response));\n      feOrderType.value = undefined;\n      removeTradeVisible.value = false;\n    };\n\n    const removeTradeHandler = (item: Trade) => {\n      confirmExitText.value = `Really delete trade ${item.trade_id} (Pair ${item.pair})?`;\n      feTrade.value = item;\n      removeTradeVisible.value = true;\n    };\n\n    const forceExitPartialHandler = (item: Trade) => {\n      feTrade.value = item;\n      forceExitVisible.value = true;\n    };\n\n    const handleContextMenuEvent = (item, index, event) => {\n      // stop browser context menu from appearing\n      if (!props.activeTrades) {\n        return;\n      }\n      event.preventDefault();\n      // log the selected item to the console\n      console.log(item);\n    };\n\n    const onRowClicked = (item) => {\n      // Only allow single selection mode!\n      if (item && item.trade_id !== botStore.activeBot.detailTradeId) {\n        botStore.activeBot.setDetailTrade(item);\n      } else {\n        botStore.activeBot.setDetailTrade(null);\n      }\n    };\n\n    const onRowSelected = () => {\n      if (botStore.activeBot.detailTradeId) {\n        const itemIndex = props.trades.findIndex(\n          (v) => v.trade_id === botStore.activeBot.detailTradeId,\n        );\n        if (itemIndex >= 0) {\n          tradesTable.value?.selectRow(itemIndex);\n        } else {\n          console.log(`Unsetting item for tradeid ${selectedItemIndex.value}`);\n          selectedItemIndex.value = undefined;\n        }\n      }\n    };\n\n    watch(\n      () => botStore.activeBot.detailTradeId,\n      (val) => {\n        const index = props.trades.findIndex((v) => v.trade_id === val);\n        // Unselect when another tradeTable is selected!\n        if (index < 0) {\n          tradesTable.value?.clearSelected();\n        }\n      },\n    );\n\n    return {\n      botStore,\n      currentPage,\n      selectedItemIndex,\n      filterText,\n      perPage,\n      tableFields,\n      rows,\n      tradesTable,\n      forceExitHandler,\n      forceExitPartialHandler,\n      handleContextMenuEvent,\n      removeTradeHandler,\n      onRowClicked,\n      onRowSelected,\n      feTrade,\n      forceExitVisible,\n      removeTradeVisible,\n      confirmExitText,\n      removeTradeModal,\n      forceExitExecuter,\n    };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.card-body {\n  padding: 0 0.2em;\n}\n.table-sm {\n  font-size: $fontsize-small;\n}\n.btn-xs {\n  padding: 0.1rem 0.25rem;\n  font-size: 0.75rem;\n}\n</style>\n"],"names":["_sfc_main","_hoisted_3","_createElementBlock","_mergeProps","_ctx","$props","_cache","$event","_createElementVNode","_openBlock","defineComponent","DeleteIcon","ForceSellIcon","_hoisted_1","_createBlock","_component_b_button","_createVNode","_component_ForceSellIcon","_component_DeleteIcon","props","emit","botStore","useBotStore","form","ref","amount","ordertype","checkFormValidity","_a","model","computed","value","handleSubmit","payload","_b","_d","_c","_component_b_modal","args","_toDisplayString","_component_b_form_group","_component_b_form_input","_withKeys","_component_b_form_select","ActionIcon","DateTimeTZ","TradeProfit","TradeActions","ForceExitForm","currentPage","selectedItemIndex","filterText","feTrade","perPage","tradesTable","forceExitVisible","removeTradeVisible","confirmExitText","removeTradeModal","openFields","closedFields","formatPriceWithDecimals","price","formatPrice","rows","tableFields","key","item","formatPercent","feOrderType","forceExitHandler","forceExitExecuter","error","xxx","removeTradeHandler","forceExitPartialHandler","handleContextMenuEvent","index","event","onRowClicked","onRowSelected","itemIndex","v","watch","val","_hoisted_2","_component_b_table","_withCtx","row","_component_ActionIcon","_component_b_popover","_component_trade_actions","_createTextVNode","_component_trade_profit","_component_DateTimeTZ","_createCommentVNode","_component_b_pagination","_component_force_exit_form"],"mappings":"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"}