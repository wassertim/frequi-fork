{"version":3,"file":"TradesList.8f4f59ce.js","sources":["../../src/components/ftbot/CustomTradeListEntry.vue","../../src/components/ftbot/CustomTradeList.vue","../../node_modules/vue-material-design-icons/ArrowLeft.vue","../../src/views/TradesList.vue"],"sourcesContent":["<template>\n  <div class=\"d-flex\">\n    <div\n      class=\"px-1 d-flex flex-row flex-fill text-start justify-content-between align-items-center\"\n    >\n      <span>\n        <span class=\"me-1 fw-bold\">{{ trade.pair }}</span>\n        <small class=\"text-secondary\">(#{{ trade.trade_id }})</small>\n      </span>\n      <small>\n        <DateTimeTZ :date=\"trade.open_timestamp\" :date-only=\"true\" />\n      </small>\n    </div>\n    <trade-profit class=\"col-5\" :trade=\"trade\" />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport { formatPercent, formatPrice } from '@/shared/formatters';\nimport { Trade } from '@/types';\nimport DateTimeTZ from '@/components/general/DateTimeTZ.vue';\nimport TradeProfit from './TradeProfit.vue';\n\nexport default defineComponent({\n  components: {\n    DateTimeTZ,\n    TradeProfit,\n  },\n  props: {\n    trade: {\n      type: Object as () => Trade,\n      required: true,\n    },\n    stakeCurrencyDecimals: {\n      type: Number,\n      required: true,\n    },\n    showDetails: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  setup() {\n    return {\n      formatPrice,\n      formatPercent,\n    };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.card-body {\n  padding: 0 0.2em;\n}\n.table-sm {\n  font-size: $fontsize-small;\n}\n.btn-xs {\n  padding: 0.1rem 0.25rem;\n  font-size: 0.75rem;\n}\n</style>\n","<template>\n  <div class=\"h-100 overflow-auto p-1\">\n    <b-list-group id=\"tradeList\">\n      <b-list-group-item\n        v-for=\"trade in filteredTrades\"\n        :key=\"trade.trade_id\"\n        class=\"border border-secondary rounded my-05 px-1\"\n        @click=\"tradeClick(trade)\"\n      >\n        <CustomTradeListEntry :trade=\"trade\" :stake-currency-decimals=\"stakeCurrencyDecimals\" />\n      </b-list-group-item>\n    </b-list-group>\n\n    <span v-if=\"trades.length == 0\" class=\"mt-5\">{{ emptyText }}</span>\n\n    <div class=\"w-100 d-flex justify-content-between mt-1\">\n      <b-pagination\n        v-if=\"!activeTrades\"\n        v-model=\"currentPage\"\n        :total-rows=\"rows\"\n        :per-page=\"perPage\"\n        aria-controls=\"tradeList\"\n      ></b-pagination>\n      <b-form-input\n        v-if=\"showFilter\"\n        v-model=\"filterText\"\n        type=\"text\"\n        placeholder=\"Filter\"\n        size=\"sm\"\n        style=\"width: unset\"\n      />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { formatPrice } from '@/shared/formatters';\nimport { Trade } from '@/types';\nimport CustomTradeListEntry from '@/components/ftbot/CustomTradeListEntry.vue';\nimport { defineComponent, computed, ref } from 'vue';\nimport { useBotStore } from '@/stores/ftbotwrapper';\n\nexport default defineComponent({\n  name: 'CustomTradeList',\n  components: {\n    CustomTradeListEntry,\n  },\n  props: {\n    trades: { required: true, type: Array as () => Trade[] },\n    title: { default: 'Trades', type: String },\n    stakeCurrency: { required: false, default: '', type: String },\n    activeTrades: { default: false, type: Boolean },\n    showFilter: { default: false, type: Boolean },\n    multiBotView: { default: false, type: Boolean },\n    emptyText: { default: 'No Trades to show.', type: String },\n    stakeCurrencyDecimals: { default: 3, type: Number },\n  },\n  setup(props) {\n    const botStore = useBotStore();\n    const currentPage = ref(1);\n    const filterText = ref('');\n    const perPage = props.activeTrades ? 200 : 25;\n\n    const rows = computed(() => props.trades.length);\n\n    const filteredTrades = computed(() => {\n      return props.trades.slice((currentPage.value - 1) * perPage, currentPage.value * perPage);\n    });\n    const formatPriceWithDecimals = (price) => {\n      return formatPrice(price, props.stakeCurrencyDecimals);\n    };\n\n    const handleContextMenuEvent = (item, index, event) => {\n      // stop browser context menu from appearing\n      if (!props.activeTrades) {\n        return;\n      }\n      event.preventDefault();\n      // log the selected item to the console\n      console.log(item);\n    };\n\n    const tradeClick = (trade) => {\n      botStore.activeBot.setDetailTrade(trade);\n    };\n\n    return {\n      currentPage,\n      filterText,\n      perPage,\n      filteredTrades,\n      formatPriceWithDecimals,\n      handleContextMenuEvent,\n      tradeClick,\n      botStore,\n      rows,\n    };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.my-05 {\n  margin-top: 0.125rem;\n  margin-bottom: 0.125rem;\n}\n</style>\n","<template>\n  <span v-bind=\"$attrs\"\n        :aria-hidden=\"!title\"\n        :aria-label=\"title\"\n        class=\"material-design-icon arrow-left-icon\"\n        role=\"img\"\n        @click=\"$emit('click', $event)\">\n    <svg :fill=\"fillColor\"\n         class=\"material-design-icon__svg\"\n         :width=\"size\"\n         :height=\"size\"\n         viewBox=\"0 0 24 24\">\n      <path d=\"M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z\">\n        <title v-if=\"title\">{{ title }}</title>\n      </path>\n    </svg>\n  </span>\n</template>\n\n<script>\nexport default {\n  name: \"ArrowLeftIcon\",\n  emits: ['click'],\n  props: {\n    title: {\n      type: String,\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n}\n</script>","<template>\n  <div>\n    <!-- <TradeList\n      class=\"open-trades\"\n      :trades=\"openTrades\"\n      title=\"Open trades\"\n      :active-trades=\"true\"\n      empty-text=\"Currently no open trades.\"\n    /> -->\n    <CustomTradeList\n      v-if=\"!history && !botStore.activeBot.detailTradeId\"\n      :trades=\"botStore.activeBot.openTrades\"\n      title=\"Open trades\"\n      :active-trades=\"true\"\n      :stake-currency-decimals=\"botStore.activeBot.stakeCurrencyDecimals\"\n      empty-text=\"No open Trades.\"\n    />\n    <CustomTradeList\n      v-if=\"history && !botStore.activeBot.detailTradeId\"\n      :trades=\"botStore.activeBot.closedTrades\"\n      title=\"Trade history\"\n      :stake-currency-decimals=\"botStore.activeBot.stakeCurrencyDecimals\"\n      empty-text=\"No closed trades so far.\"\n    />\n    <div v-if=\"botStore.activeBot.detailTradeId\" class=\"d-flex flex-column\">\n      <b-button\n        size=\"sm\"\n        class=\"align-self-start mt-1 ms-1\"\n        @click=\"botStore.activeBot.setDetailTrade(null)\"\n        ><BackIcon /> Back</b-button\n      >\n      <TradeDetail\n        :trade=\"botStore.activeBot.tradeDetail\"\n        :stake-currency=\"botStore.activeBot.stakeCurrency\"\n      />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport CustomTradeList from '@/components/ftbot/CustomTradeList.vue';\nimport TradeDetail from '@/components/ftbot/TradeDetail.vue';\nimport BackIcon from 'vue-material-design-icons/ArrowLeft.vue';\nimport { defineComponent } from 'vue';\nimport { useBotStore } from '@/stores/ftbotwrapper';\n\nexport default defineComponent({\n  name: 'TradesList',\n  components: {\n    CustomTradeList,\n    TradeDetail,\n    BackIcon,\n  },\n  props: {\n    history: { default: false, type: Boolean },\n  },\n  setup() {\n    const botStore = useBotStore();\n\n    return {\n      botStore,\n    };\n  },\n});\n</script>\n\n<style scoped></style>\n"],"names":["_sfc_main","defineComponent","DateTimeTZ","TradeProfit","formatPrice","formatPercent","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_openBlock","_createElementBlock","_createElementVNode","_toDisplayString","_ctx","_createVNode","_component_DateTimeTZ","_component_trade_profit","CustomTradeListEntry","props","botStore","useBotStore","currentPage","ref","filterText","perPage","rows","computed","filteredTrades","price","item","index","event","trade","_component_b_list_group","_withCtx","_Fragment","_renderList","_createBlock","_component_b_list_group_item","$event","_component_CustomTradeListEntry","_createCommentVNode","_component_b_pagination","_cache","_component_b_form_input","_mergeProps","$props","CustomTradeList","TradeDetail","BackIcon","_component_CustomTradeList","_component_b_button","_component_BackIcon","_createTextVNode","_component_TradeDetail"],"mappings":"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"}