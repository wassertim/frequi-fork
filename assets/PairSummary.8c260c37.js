import{d as b,u as L,i as h,_ as q,y as k,q as C,r as u,o as n,j as f,w as S,c as B,Q as A,R as M,a as T,f as w,t as E,g as m}from"./index.b2eaee9c.js";import{T as F,P as N}from"./TradeProfit.587a0ab5.js";const R=b({name:"PairSummary",components:{TradeProfit:F,ProfitPill:N},props:{pairlist:{required:!0,type:Array},currentLocks:{required:!1,type:Array,default:()=>[]},trades:{required:!0,type:Array},sortMethod:{default:"normal",type:String},backtestMode:{required:!1,default:!1,type:Boolean}},setup(o){const y=L(),P=h(()=>{const a=[];return o.pairlist.forEach(r=>{const e=o.trades.filter(i=>i.pair===r),l=o.currentLocks.filter(i=>i.pair===r);let c="",s;l.sort((i,p)=>i.lock_end_timestamp>p.lock_end_timestamp?-1:1),l.length>0&&([s]=l,c=`${k(s.lock_end_timestamp)} - ${s.reason}`);let t="",d=0,v=0;e.forEach(i=>{var p;d+=i.profit_ratio,v+=(p=i.profit_abs)!=null?p:0});const $=e.length,_=$?e[0]:void 0;e.length>0&&(t=`Current profit: ${C(d)}`),_&&(t+=`
Open since: ${k(_.open_timestamp)}`),a.push({pair:r,trade:_,locks:s,lockReason:c,profitString:t,profit:d,profitAbs:v,tradeCount:$})}),o.sortMethod==="profit"?a.sort((r,e)=>r.profit>e.profit?-1:1):a.sort((r,e)=>r.trade&&!e.trade?-1:r.trade&&e.trade?r.trade.trade_id>e.trade.trade_id?1:-1:!r.locks&&e.locks?-1:r.locks&&e.locks?r.locks.lock_end_timestamp>e.locks.lock_end_timestamp?1:-1:1),a}),g=h(()=>[{key:"pair",label:"Pair"},{key:"locks.lock_end_timestamp",label:"Lock",formatter:a=>a?`${k(a)}`:""},{key:"trade.current_profit",label:"Position",formatter:a=>C(a,3)}]);return{combinedPairList:P,tableFields:g,botStore:y}}}),V=["title"];function j(o,y,P,g,a,r){const e=u("TradeProfit"),l=u("ProfitPill"),c=u("b-list-group-item"),s=u("b-list-group");return n(),f(s,null,{default:S(()=>[(n(!0),B(A,null,M(o.combinedPairList,t=>(n(),f(c,{key:t.pair,button:"",class:"d-flex justify-content-between align-items-center py-1",active:t.pair===o.botStore.activeBot.selectedPair,title:`${t.pair} - ${t.tradeCount} trades`,onClick:d=>o.botStore.activeBot.selectedPair=t.pair},{default:S(()=>[T("div",null,[w(E(t.pair)+" ",1),t.locks?(n(),B("span",{key:0,title:t.lockReason}," \u{1F512} ",8,V)):m("",!0)]),t.trade&&!o.backtestMode?(n(),f(e,{key:0,trade:t.trade},null,8,["trade"])):m("",!0),o.backtestMode&&t.tradeCount>0?(n(),f(l,{key:1,"profit-ratio":t.profit,"profit-abs":t.profitAbs,"stake-currency":o.botStore.activeBot.stakeCurrency},null,8,["profit-ratio","profit-abs","stake-currency"])):m("",!0)]),_:2},1032,["active","title","onClick"]))),128))]),_:1})}var I=q(R,[["render",j],["__scopeId","data-v-00c8a64e"]]);export{I as P};
//# sourceMappingURL=PairSummary.8c260c37.js.map
